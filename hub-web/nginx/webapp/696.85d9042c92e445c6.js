(self.webpackChunkhub_admin=self.webpackChunkhub_admin||[]).push([[696],{46089:(V,s,i)=>{"use strict";var t=i(77494),o=i(44703),g="value",e="\n  ",d={};function c(w){var n=Array.isArray(w);return function(u){var p=h(d.plainArray,u);if(p)return p;if(n&&u.length!==w.length)return"an array with "+w.length+" items";for(var E=0;E<u.length;E++)if(p=h(n?w[E]:w,u[E]))return[E].concat(p)}}function h(w,n){if(null!=n||w.hasOwnProperty("__required")){var l=w(n);if(l)return Array.isArray(l)?l:[l]}}function a(w,n){var l=w.length,C=w[l-1],u=w.slice(0,l-1);return 0===u.length&&(u=[g]),n=o(n,{path:u}),"function"==typeof C?C(n):O(n,function y(w){return"must be "+function $(w){return/^an? /.test(w)?w:/^[aeiou]/i.test(w)?"an "+w:/^[a-z]/i.test(w)?"a "+w:w}(w)+"."}(C))}function f(w){return w.length<2?w[0]:2===w.length?w.join(" or "):w.slice(0,-1).join(", ")+", or "+w.slice(-1)}function O(w,n){return(R(w.path)?"Item at position ":"")+w.path.join(".")+" "+n}function R(w){return"number"==typeof w[w.length-1]||"number"==typeof w[0]}d.assert=function(w,n){return n=n||{},function(l){var C=h(w,l);if(C){var u=a(C,n);throw n.apiName&&(u=n.apiName+": "+u),new Error(u)}}},d.shape=function(n){var l=function P(w){return Object.keys(w||{}).map(function(n){return{key:n,value:w[n]}})}(n);return function(u){var p=h(d.plainObject,u);if(p)return p;for(var E,_=[],A=0;A<l.length;A++)(p=h(l[A].value,u[E=l[A].key]))&&_.push([E].concat(p));return _.length<2?_[0]:function(z){_=_.map(function(q){return"- "+q[0]+": "+a(q,z).split("\n").join(e)});var Q=z.path.join(".");return"The following properties"+(Q===g?"":" of "+Q)+" have invalid values:"+e+_.join(e)}}},d.strictShape=function(n){var l=d.shape(n);return function(u){var p=l(u);if(p)return p;var E=Object.keys(u).reduce(function(b,_){return void 0===n[_]&&b.push(_),b},[]);return 0!==E.length?function(){return"The following keys are invalid: "+E.join(", ")}:void 0}},d.arrayOf=function(n){return c(n)},d.tuple=function(){var n=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return c(n)},d.required=function(n){function l(C){return null==C?function(u){return O(u,R(u.path)?"cannot be undefined/null.":"is required.")}:n.apply(this,arguments)}return l.__required=!0,l},d.oneOfType=function(){var n=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(C){var u=n.map(function(p){return h(p,C)}).filter(Boolean);if(u.length===n.length)return u.every(function(p){return 1===p.length&&"string"==typeof p[0]})?f(u.map(function(p){return p[0]})):u.reduce(function(p,E){return E.length>p.length?E:p})}},d.equal=function(n){return function(C){if(C!==n)return JSON.stringify(n)}},d.oneOf=function(){var n=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),l=n.map(function(C){return d.equal(C)});return d.oneOfType.apply(this,l)},d.range=function(n){var l=n[0],C=n[1];return function(p){if(h(d.number,p)||p<l||p>C)return"number between "+l+" & "+C+" (inclusive)"}},d.any=function(){},d.boolean=function(n){if("boolean"!=typeof n)return"boolean"},d.number=function(n){if("number"!=typeof n)return"number"},d.plainArray=function(n){if(!Array.isArray(n))return"array"},d.plainObject=function(n){if(!t(n))return"object"},d.string=function(n){if("string"!=typeof n)return"string"},d.func=function(n){if("function"!=typeof n)return"function"},d.validate=h,d.processMessage=a,V.exports=d},42564:(V,s,i)=>{"use strict";var t=i(19652).x0;function o(g){this.origin=g.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=g.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=g,this.send=this.send.bind(this),this.countries=g.countries?g.countries.split(","):null,this.types=g.types?g.types.split(","):null,this.bbox=g.bbox?g.bbox:null,this.language=g.language?g.language.split(","):null,this.limit=g.limit?+g.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(g),this.eventQueue=new Array,this.flushInterval=g.flushInterval||1e3,this.maxQueueSize=g.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}o.prototype={select:function(g,e){var d=this.getSelectedIndex(g,e),c=this.getEventPayload("search.select",e);if(c.resultIndex=d,c.resultPlaceName=g.place_name,c.resultId=g.id,(d!==this.lastSentIndex||c.queryString!==this.lastSentInput)&&-1!=d&&(this.lastSentIndex=d,this.lastSentInput=c.queryString,c.queryString))return this.push(c)},start:function(g){var e=this.getEventPayload("search.start",g);if(e.queryString)return this.push(e)},keyevent:function(g,e){if(g.key&&!g.metaKey&&-1===[9,27,37,39,13,38,40].indexOf(g.keyCode)){var d=this.getEventPayload("search.keystroke",e);if(d.lastAction=g.key,d.queryString)return this.push(d)}},send:function(g,e){if(!this.enableEventLogging)return e?e():void 0;var d=this.getRequestOptions(g);this.request(d,function(c){return c?this.handleError(c,e):e?e():void 0}.bind(this))},getRequestOptions:function(g){return Array.isArray(g)||(g=[g]),{method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}},getEventPayload:function(g,e){var d;d=e.options.proximity?"object"==typeof e.options.proximity?[e.options.proximity.longitude,e.options.proximity.latitude]:"ip"===e.options.proximity?[999,999]:e.options.proximity:null;var c=e._map?e._map.getZoom():void 0,h={event:g,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:e.options.autocomplete,fuzzyMatch:e.options.fuzzyMatch,proximity:d,limit:e.options.limit,routing:e.options.routing,worldview:e.options.worldview,mapZoom:c,keyboardLocale:this.locale};return h.queryString="search.select"===g?e.inputString:"search.select"!=g&&e._inputEl?e._inputEl.value:e.inputString,h},request:function(g,e){var d=new XMLHttpRequest;for(var c in d.onreadystatechange=function(){if(4==this.readyState)return e(204==this.status?null:this.statusText)},d.open(g.method,g.host+"/"+g.path,!0),g.headers)d.setRequestHeader(c,g.headers[c]);d.send(g.body)},handleError:function(g,e){if(e)return e(g)},generateSessionID:function(){return t()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(g,e){if(e._typeahead){var c=g.id;return e._typeahead.data.map(function(f){return f.id}).indexOf(c)}},shouldEnableLogging:function(g){return!(!1===g.enableEventLogging||g.origin&&"https://api.mapbox.com"!==g.origin||g.localGeocoder||g.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(g,e){this.eventQueue.push(g),(this.eventQueue.length>=this.maxQueueSize||e)&&this.flush()},remove:function(){this.flush()}},V.exports=o},13424:V=>{V.exports={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},33569:V=>{function s(){}s.prototype={isSupport:function(){return Boolean(window.navigator.geolocation)},getCurrentPosition:function(){const i={enableHighAccuracy:!0};return new Promise(function(t,o){window.navigator.geolocation.getCurrentPosition(t,o,i)})}},V.exports=s},88545:(V,s,i)=>{"use strict";var t=i(45562),o=i(63082),g=i(44703),e=i(59069).EventEmitter,d=i(13424),c=i(49471),h=i(67075),a=i(42564),f=i(71753),y=i(86775),$=i(33569),O=i(32777);function w(n){this._eventEmitter=new e,this.options=g({},this.options,n),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new $}w.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(n){return n.place_name},render:function(n){var l=n.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+l[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+l.splice(1,l.length).join(",")+"</div></div>"}},addTo:function(n){function l(C,u){if(!document.body.contains(u))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const p=C.onAdd();u.appendChild(p)}if(n._controlContainer)n.addControl(this);else if(n instanceof HTMLElement)l(this,n);else{if("string"!=typeof n)throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element");{const C=document.querySelectorAll(n);if(0===C.length)throw new Error("Element ",n,"not found.");if(C.length>1)throw new Error("Geocoder can only be added to a single html element");l(this,C[0])}}},onAdd:function(n){if(n&&"string"!=typeof n&&(this._map=n),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=h(c({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new a(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var l=this.container=document.createElement("div");l.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var C=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",o(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(z){this.eventManager.keyevent(z,this)}.bind(this));var u=document.createElement("div");u.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var p=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(p),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),u.appendChild(this._clearEl),u.appendChild(this._loadingEl),l.appendChild(C),l.appendChild(this._inputEl),l.appendChild(u),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var E=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(E),u.appendChild(this._geolocateEl),this._showGeolocateButton()}var b=this._typeahead=new t(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),b.getItemValue=this.options.getItemValue;var _=b.list.draw,A=this._footerNode=function P(){var n=document.createElement("div");return n.className="mapboxgl-ctrl-geocoder--powered-by",n.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',n}();return b.list.draw=function(){_.call(this),A.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),A.addEventListener("mouseup",function(){this.selectingListItem=!1}.bind(this)),this.element.appendChild(A)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),l},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then(function(n){this._hideLoadingIcon();const l={geometry:{type:"Point",coordinates:[n.coords.longitude,n.coords.latitude]}};this._handleMarker(l),this._fly(l),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(l),this._showClearButton(),this.fresh=!1;const C={limit:1,language:[this.options.language],query:l.geometry.coordinates,types:["address"]};this.options.localGeocoderOnly?(this._setInputValue(l.geometry.coordinates[0]+","+l.geometry.coordinates[1]),this._eventEmitter.emit("result",{result:l})):this.geocoderService.reverseGeocode(C).send().then(function(u){const p=u.body.features[0];if(p){const E=O.transformFeatureToGeolocationText(p,this.options.addressAccuracy);this._setInputValue(E),p.user_coordinates=l.geometry.coordinates,this._eventEmitter.emit("result",{result:p})}else this._eventEmitter.emit("result",{result:{user_coordinates:l.geometry.coordinates}})}.bind(this))}.bind(this)).catch(function(n){1===n.code?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}.bind(this))},createIcon:function(n,l){var C=document.createElementNS("http://www.w3.org/2000/svg","svg");return C.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+n),C.setAttribute("viewBox","0 0 18 18"),C.setAttribute("xml:space","preserve"),C.setAttribute("width",18),C.setAttribute("height",18),C.innerHTML=l,C},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(n){this._inputEl.value=n,setTimeout(function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}.bind(this),1)},_onPaste:function(n){var l=(n.clipboardData||window.clipboardData).getData("text");l.length>=this.options.minLength&&this._geocode(l)},_onKeyDown:function(n){var l=27,C=9;if(n.keyCode===l&&this.options.clearAndBlurOnEsc)return this._clear(n),this._inputEl.blur();var u=n.target&&n.target.shadowRoot?n.target.shadowRoot.activeElement:n.target;if(!u||!u.value)return this.fresh=!0,n.keyCode!==C&&this.clear(n),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!n.metaKey&&-1===[C,l,37,39,13,38,40].indexOf(n.keyCode)&&u.value.length>=this.options.minLength&&this._geocode(u.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(n){this.options.clearOnBlur&&this._clearOnBlur(n),this.options.collapsed&&this._collapse()},_onChange:function(){var n=this._typeahead.selected;n&&JSON.stringify(n)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(n),this.options.marker&&this._mapboxgl&&this._handleMarker(n),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(n),this._eventEmitter.emit("result",{result:n}),this.eventManager.select(n,this))},_fly:function(n){var l;if(n.properties&&d[n.properties.short_code])l=g({},this.options.flyTo),this._map&&this._map.fitBounds(d[n.properties.short_code].bbox,l);else if(n.bbox){var C=n.bbox;l=g({},this.options.flyTo),this._map&&this._map.fitBounds([[C[0],C[1]],[C[2],C[3]]],l)}else l=g({},{zoom:this.options.zoom},this.options.flyTo),n.center?l.center=n.center:n.geometry&&n.geometry.type&&"Point"===n.geometry.type&&n.geometry.coordinates&&(l.center=n.geometry.coordinates),this._map&&this._map.flyTo(l)},_requestType:function(n,l){return n.localGeocoderOnly?1:n.reverseGeocode&&O.REVERSE_GEOCODE_COORD_RGX.test(l)?2:0},_setupConfig:function(n,l){const u=/[\s,]+/;var p=this,E=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"].reduce(function(_,A){return null==p.options[A]||(_[A]=["countries","types","language"].indexOf(A)>-1?p.options[A].split(u):p.options[A],"proximity"===A&&"number"==typeof p.options[A].longitude&&"number"==typeof p.options[A].latitude&&(_[A]=[p.options[A].longitude,p.options[A].latitude])),_},{});switch(n){case 2:var b=l.split(u).map(function(_){return parseFloat(_,10)});p.options.flipCoordinates||b.reverse(),E=g(E,{query:b,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(_){_ in E&&delete E[_]});break;case 0:{const _=l.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(_)&&(l=l.replace(/,/g," ")),E=g(E,{query:l})}}return E},_geocode:function(n){this.inputString=n,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:n});const l=this._requestType(this.options,n),C=this._setupConfig(l,n);var u;switch(l){case 1:u=Promise.resolve();break;case 0:u=this.geocoderService.forwardGeocode(C).send();break;case 2:u=this.geocoderService.reverseGeocode(C).send()}var p=this.options.localGeocoder&&this.options.localGeocoder(n)||[],E=[],b=null;return u.catch(function(_){b=_}.bind(this)).then(function(_){this._hideLoadingIcon();var A={};return _?"200"==_.statusCode&&((A=_.body).request=_.request,A.headers=_.headers):A={type:"FeatureCollection",features:[]},A.config=C,this.fresh&&(this.eventManager.start(this),this.fresh=!1),A.features=A.features?p.concat(A.features):p,this.options.externalGeocoder?(E=this.options.externalGeocoder(n,A.features)||Promise.resolve([])).then(function(z){return A.features=A.features?z.concat(A.features):z,A},function(){return A}):A}.bind(this)).then(function(_){if(b)throw b;this.options.filter&&_.features.length&&(_.features=_.features.filter(this.options.filter)),_.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",_),this._typeahead.update(_.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",_))}.bind(this)).catch(function(_){this._hideLoadingIcon(),this._hideAttribution(),p.length&&this.options.localGeocoder||E.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(p)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:p}),this._eventEmitter.emit("error",{error:_})}.bind(this)),u},_clear:function(n){n&&n.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(n){this._clear(n),this._inputEl.focus()},_clearOnBlur:function(n){n.relatedTarget&&this._clear(n)},_onQueryResult:function(n){var l=n.body;if(l.features.length){var C=l.features[0];this._typeahead.selected=C,this._inputEl.value=C.place_name,this._onChange()}},_updateProximity:function(){if(this._map&&this.options.trackProximity)if(this._map.getZoom()>9){var n=this._map.getCenter().wrap();this.setProximity({longitude:n.lng,latitude:n.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(n){return this._geocode(n).then(this._onQueryResult),this},_renderError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>")},_renderLocationError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>")},_renderNoResults:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>")},_renderUserDeniedGeolocationError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>")},_renderMessage:function(n){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(n)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var n=this.options.language.split(",")[0],l=y.language(n),C=f.placeholder[l];if(C)return C}return"Search"},setInput:function(n){return this._inputEl.value=n,this._typeahead.selected=null,this._typeahead.clear(),n.length>=this.options.minLength&&this._geocode(n),this},setProximity:function(n,l=!0){return this.options.proximity=n,l&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(n){return n&&"function"==typeof n&&(this._typeahead.render=n),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(n){var l=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=n||this.options.language||l,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(n){return this.options.zoom=n,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(n){return this.options.flyTo=n,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(n){return this.placeholder=n||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(n){return this.options.bbox=n,this},getCountries:function(){return this.options.countries},setCountries:function(n){return this.options.countries=n,this},getTypes:function(){return this.options.types},setTypes:function(n){return this.options.types=n,this},getMinLength:function(){return this.options.minLength},setMinLength:function(n){return this.options.minLength=n,this._typeahead&&(this._typeahead.options.minLength=n),this},getLimit:function(){return this.options.limit},setLimit:function(n){return this.options.limit=n,this._typeahead&&(this._typeahead.options.limit=n),this},getFilter:function(){return this.options.filter},setFilter:function(n){return this.options.filter=n,this},setOrigin:function(n){return this.options.origin=n,this.geocoderService=h(c({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(n){return this.options.accessToken=n,this.geocoderService=h(c({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(n){return this.options.autocomplete=n,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(n){return this.options.fuzzyMatch=n,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(n){return this.options.routing=n,this},getRouting:function(){return this.options.routing},setWorldview:function(n){return this.options.worldview=n,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(n){if(this._map){this._removeMarker();var C=g({},{color:"#4668F2"},this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(C),n.center?this.mapMarker.setLngLat(n.center).addTo(this._map):n.geometry&&n.geometry.type&&"Point"===n.geometry.type&&n.geometry.coordinates&&this.mapMarker.setLngLat(n.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(n,l){return this._eventEmitter.on(n,l),this},off:function(n,l){return this._eventEmitter.removeListener(n,l),this.eventManager.remove(),this}},V.exports=w},71753:V=>{"use strict";V.exports={placeholder:{de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"\u05dc\u05d7\u05e4\u05e9",ja:"\u30b5\u30fc\u30c1",lv:"Mekl\u0113t",pt:"Procurar",sr:"\u041f\u0440\u0435\u0442\u0440\u0430\u0433\u0430",zh:"\u641c\u7d22",cs:"Vyhled\xe1v\xe1n\xed",hu:"Keres\xe9s",ka:"\u10eb\u10d8\u10d4\u10d1\u10d0",nb:"S\xf8ke",sk:"Vyh\u013ead\xe1vanie",th:"\u0e04\u0e49\u0e19\u0e2b\u0e32",fi:"Hae",is:"Leita",ko:"\uc218\uc0c9",pl:"Szukaj",sl:"Iskanje",fa:"\u062c\u0633\u062a\u062c\u0648",ru:"\u041f\u043e\u0438\u0441\u043a"}}},32777:V=>{function i(o){const g=o.address||"",e=o.text||"",d=o.place_name||"",h={address:d.split(",")[0],houseNumber:g,street:e,placeName:d};return o.context.forEach(function(a){const f=a.id.split(".")[0];h[f]=a.text}),h}V.exports={transformFeatureToGeolocationText:function s(o,g){const e=i(o),d=["address","street","place","country"];if("function"==typeof g)return g(e);const h=d.indexOf(g);return(-1===h?d:d.slice(h)).reduce(function(a,f){return e[f]?(""!==a&&(a+=", "),a+e[f]):a},"")},getAddressInfo:i,REVERSE_GEOCODE_COORD_RGX:/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/}},49471:(V,s,i)=>{"use strict";var t=i(67454);V.exports=t},67454:(V,s,i)=>{"use strict";var t=i(70753),o=i(24176);function g(d){o.call(this,d)}(g.prototype=Object.create(o.prototype)).constructor=g,g.prototype.sendRequest=t.browserSend,g.prototype.abortRequest=t.browserAbort,V.exports=function e(d){return new g(d)}},70753:(V,s,i)=>{"use strict";var t=i(34332),o=i(46158),g=i(19719),e=i(48829),d={};function a(O){var R=O.total,P=O.loaded;return{total:R,transferred:P,percent:100*P/R}}function f(O,R){return new Promise(function(P,w){R.onprogress=function(C){O.emitter.emit(g.EVENT_PROGRESS_DOWNLOAD,a(C))};var n=O.file;n&&(R.upload.onprogress=function(C){O.emitter.emit(g.EVENT_PROGRESS_UPLOAD,a(C))}),R.onerror=function(C){w(C)},R.onabort=function(){var C=new o({request:O,type:g.ERROR_REQUEST_ABORTED});w(C)},R.onload=function(){if(delete d[O.id],R.status<200||R.status>=400){var C=new o({request:O,body:R.response,statusCode:R.status});w(C)}else P(R)};var l=O.body;"string"==typeof l?R.send(l):l?R.send(JSON.stringify(l)):n?R.send(n):R.send(),d[O.id]=R}).then(function(P){return function h(O,R){return new t(O,{body:R.response,headers:e(R.getAllResponseHeaders()),statusCode:R.status})}(O,P)})}function y(O,R){var P=O.url(R),w=new window.XMLHttpRequest;return w.open(O.method,P),Object.keys(O.headers).forEach(function(n){w.setRequestHeader(n,O.headers[n])}),w}V.exports={browserAbort:function c(O){var R=d[O.id];!R||(R.abort(),delete d[O.id])},sendRequestXhr:f,browserSend:function $(O){return Promise.resolve().then(function(){var R=y(O,O.client.accessToken);return f(O,R)})},createRequestXhr:y}},24176:(V,s,i)=>{"use strict";var t=i(8129),o=i(74538),g=i(19719);function e(d){if(!d||!d.accessToken)throw new Error("Cannot create a client without an access token");t(d.accessToken),this.accessToken=d.accessToken,this.origin=d.origin||g.API_ORIGIN}e.prototype.createRequest=function(c){return new o(this,c)},V.exports=e},46158:(V,s,i)=>{"use strict";var t=i(19719);V.exports=function o(g){var d,e=g.type||t.ERROR_HTTP;if(g.body)try{d=JSON.parse(g.body)}catch{d=g.body}else d=null;var c=g.message||null;c||("string"==typeof d?c=d:d&&"string"==typeof d.message?c=d.message:e===t.ERROR_REQUEST_ABORTED&&(c="Request aborted")),this.message=c,this.type=e,this.statusCode=g.statusCode||null,this.request=g.request,this.body=d}},74538:(V,s,i)=>{"use strict";var t=i(8129),o=i(44703),g=i(62005),e=i(43449),d=i(19719),c=1;function h(a,f){if(!a)throw new Error("MapiRequest requires a client");if(!f||!f.path||!f.method)throw new Error("MapiRequest requires an options object with path and method properties");var y={};f.body&&(y["content-type"]="application/json");var $=o(y,f.headers),O=Object.keys($).reduce(function(R,P){return R[P.toLowerCase()]=$[P],R},{});this.id=c++,this._options=f,this.emitter=new g,this.client=a,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=f.path,this.method=f.method,this.origin=f.origin||a.origin,this.query=f.query||{},this.params=f.params||{},this.body=f.body||null,this.file=f.file||null,this.encoding=f.encoding||"utf8",this.sendFileAs=f.sendFileAs||null,this.headers=O}h.prototype.url=function(f){var y=e.prependOrigin(this.path,this.origin);y=e.appendQueryObject(y,this.query);var $=this.params,O=f??this.client.accessToken;if(O){y=e.appendQueryParam(y,"access_token",O);var R=t(O).user;$=o({ownerId:R},$)}return e.interpolateRouteParams(y,$)},h.prototype.send=function(){var f=this;if(f.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return f.sent=!0,f.client.sendRequest(f).then(function(y){return f.response=y,f.emitter.emit(d.EVENT_RESPONSE,y),y},function(y){throw f.error=y,f.emitter.emit(d.EVENT_ERROR,y),y})},h.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))},h.prototype.eachPage=function(f){var y=this;function $(P){f(null,P,function w(){delete y._nextPageRequest;var n=P.nextPage();n&&(y._nextPageRequest=n,R(n))})}function O(P){f(P,null,function(){})}function R(P){P.send().then($,O)}R(this)},h.prototype.clone=function(){return this._extend()},h.prototype._extend=function(f){var y=o(this._options,f);return new h(this.client,y)},V.exports=h},34332:(V,s,i)=>{"use strict";var t=i(75699);function o(g,e){this.request=g,this.headers=e.headers,this.rawBody=e.body,this.statusCode=e.statusCode;try{this.body=JSON.parse(e.body||"{}")}catch{this.body=e.body}this.links=t(this.headers.link)}o.prototype.hasNextPage=function(){return!!this.links.next},o.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},V.exports=o},19719:V=>{"use strict";V.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}},48829:V=>{"use strict";V.exports=function i(t){var o={};return t&&t.trim().split(/[\r|\n]+/).forEach(function(g){var e=function s(t){var o=t.indexOf(":");return{name:t.substring(0,o).trim().toLowerCase(),value:t.substring(o+1).trim()}}(g);o[e.name]=e.value}),o}},75699:V=>{"use strict";V.exports=function t(o){return o?o.split(/,\s*</).reduce(function(g,e){var d=function i(o){var g=o.match(/<?([^>]*)>(.*)/);if(!g)return null;var e=g[1],d=g[2].split(";"),c=null,h=d.reduce(function(a,f){var y=function s(o){var g=o.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return g?{key:g[1],value:g[2]}:null}(f);return y?"rel"===y.key?(c||(c=y.value),a):(a[y.key]=y.value,a):a},{});return c?{url:e,rel:c,params:h}:null}(e);return d?(d.rel.split(/\s+/).forEach(function(h){g[h]||(g[h]={url:d.url,params:d.params})}),g):g},{}):{}}},43449:V=>{"use strict";function i(d){return Array.isArray(d)?function s(d){return d.map(encodeURIComponent).join(",")}(d):encodeURIComponent(String(d))}function t(d,c,h){if(!1===h||null===h)return d;var a=/\?/.test(d)?"&":"?",f=encodeURIComponent(c);return void 0!==h&&""!==h&&!0!==h&&(f+="="+i(h)),""+d+a+f}V.exports={appendQueryObject:function o(d,c){if(!c)return d;var h=d;return Object.keys(c).forEach(function(a){var f=c[a];void 0!==f&&(Array.isArray(f)&&(f=f.filter(function(y){return null!=y}).join(",")),h=t(h,a,f))}),h},appendQueryParam:t,prependOrigin:function g(d,c){if(!c||"http"===d.slice(0,4))return d;var h="/"===d[0]?"":"/";return""+c.replace(/\/$/,"")+h+d},interpolateRouteParams:function e(d,c){return c?d.replace(/\/:([a-zA-Z0-9]+)/g,function(h,a){var f=c[a];if(void 0===f)throw new Error("Unspecified route parameter "+a);return"/"+i(f)}):d}}},67075:(V,s,i)=>{"use strict";var t=i(44703),o=i(79801),g=i(84313),e=i(11836),d=i(50497),c={},h=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];c.forwardGeocode=function(a){o.assertShape({query:o.required(o.string),mode:o.oneOf("mapbox.places","mapbox.places-permanent"),countries:o.arrayOf(o.string),proximity:o.oneOf(o.coordinates,"ip"),types:o.arrayOf(o.oneOf(h)),autocomplete:o.boolean,bbox:o.arrayOf(o.number),limit:o.number,language:o.arrayOf(o.string),routing:o.boolean,fuzzyMatch:o.boolean,worldview:o.string})(a),a.mode=a.mode||"mapbox.places";var f=e(t({country:a.countries},g(a,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:g(a,["mode","query"]),query:f})},c.reverseGeocode=function(a){o.assertShape({query:o.required(o.coordinates),mode:o.oneOf("mapbox.places","mapbox.places-permanent"),countries:o.arrayOf(o.string),types:o.arrayOf(o.oneOf(h)),bbox:o.arrayOf(o.number),limit:o.number,language:o.arrayOf(o.string),reverseMode:o.oneOf("distance","score"),routing:o.boolean,worldview:o.string})(a),a.mode=a.mode||"mapbox.places";var f=e(t({country:a.countries},g(a,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:g(a,["mode","query"]),query:f})},V.exports=d(c)},50497:(V,s,i)=>{"use strict";var t=i(24176),o=i(67454);V.exports=function g(e){return function(d){var c;c=t.prototype.isPrototypeOf(d)?d:o(d);var h=Object.create(e);return h.client=c,h}}},85621:V=>{"use strict";V.exports=function s(i,t){return Object.keys(i).reduce(function(o,g){return o[g]=t(g,i[g]),o},{})}},84313:V=>{"use strict";V.exports=function s(i,t){var o=function(g,e){return-1!==t.indexOf(g)&&void 0!==e};return"function"==typeof t&&(o=t),Object.keys(i).filter(function(g){return o(g,i[g])}).reduce(function(g,e){return g[e]=i[e],g},{})}},11836:(V,s,i)=>{"use strict";var t=i(85621);V.exports=function o(g){return t(g,function(e,d){return"boolean"==typeof d?JSON.stringify(d):d})}},79801:(V,s,i)=>{"use strict";var t=i(44703),o=i(46089);V.exports=t(o,{file:function g(h){return typeof window<"u"?h instanceof global.Blob||h instanceof global.ArrayBuffer?void 0:"Blob or ArrayBuffer":"string"!=typeof h&&void 0===h.pipe?"Filename or Readable stream":void 0},date:function d(h){var a="date";if("boolean"==typeof h)return a;try{var f=new Date(h);if(f.getTime&&isNaN(f.getTime()))return a}catch{return a}},coordinates:function c(h){return o.tuple(o.number,o.number)(h)},assertShape:function e(h,a){return o.assert(o.strictShape(h),a)}})},8129:(V,s,i)=>{"use strict";var t=i(62049),o={};function d(c,h){return Object.prototype.hasOwnProperty.call(c,h)}V.exports=function g(c){if(o[c])return o[c];var h=c.split("."),a=h[0],f=h[1];if(!f)throw new Error("Invalid token");var y=function e(c){try{return JSON.parse(t.decode(c))}catch{throw new Error("Invalid token")}}(f),$={usage:a,user:y.u};return d(y,"a")&&($.authorization=y.a),d(y,"exp")&&($.expires=1e3*y.exp),d(y,"iat")&&($.created=1e3*y.iat),d(y,"scopes")&&($.scopes=y.scopes),d(y,"client")&&($.client=y.client),d(y,"ll")&&($.lastLogin=y.ll),d(y,"iu")&&($.impersonator=y.iu),o[c]=$,$}},40696:(V,s,i)=>{"use strict";i.r(s),i.d(s,{MapOneRootShellModule:()=>h,routes:()=>c});var t=i(36895),o=i(62510),g=i(73423),e=i(74521),d=i(94650);const c=[{path:"",loadChildren:()=>i.e(127).then(i.bind(i,31127)).then(a=>a.MapOneShellModule),component:g.ar,canActivate:[e.MJ]}];let h=(()=>{class a{}return a.\u0275fac=function(y){return new(y||a)},a.\u0275mod=d.oAB({type:a}),a.\u0275inj=d.cJS({imports:[t.ez,o.Bz.forChild(c),g.xq,o.Bz]}),a})()},73423:(V,s,i)=>{"use strict";i.d(s,{$e:()=>qe,xq:()=>Be,ar:()=>mr});var t=i(36895),o=i(62510),g=i(1576),e=i(94650),d=i(82805);const c=["fileSelector"];function h(T,m){if(1&T&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&T){const r=e.oxw(2);e.xp6(1),e.Oqu(r.dropZoneLabel)}}function a(T,m){if(1&T){const r=e.EpF();e.TgZ(0,"div")(1,"input",9),e.NdJ("click",function(D){e.CHM(r);const N=e.oxw(2);return e.KtG(N.openFileSelector(D))}),e.qZA()()}if(2&T){const r=e.oxw(2);e.xp6(1),e.s9C("value",r.browseBtnLabel),e.Q6J("className",r.browseBtnClassName)}}function f(T,m){if(1&T&&(e.YNc(0,h,2,1,"div",6),e.YNc(1,a,2,2,"div",7)),2&T){const r=e.oxw();e.Q6J("ngIf",r.dropZoneLabel),e.xp6(1),e.Q6J("ngIf",r.showBrowseBtn)}}function y(T,m){}const $=function(T){return{openFileSelector:T}};class O{constructor(m,r){this.relativePath=m,this.fileEntry=r}}let R=(()=>{class T{constructor(r){this.template=r}}return T.\u0275fac=function(r){return new(r||T)(e.Y36(e.Rgc))},T.\u0275dir=e.lG2({type:T,selectors:[["","ngx-file-drop-content-tmp",""]]}),T})(),P=(()=>{class T{constructor(r,v){this.zone=r,this.renderer=v,this.accept="*",this.directory=!1,this.multiple=!0,this.dropZoneLabel="",this.dropZoneClassName="ngx-file-drop__drop-zone",this.useDragEnter=!1,this.contentClassName="ngx-file-drop__content",this.showBrowseBtn=!1,this.browseBtnClassName="btn btn-primary btn-xs ngx-file-drop__browse-btn",this.browseBtnLabel="Browse files",this.onFileDrop=new e.vpe,this.onFileOver=new e.vpe,this.onFileLeave=new e.vpe,this.isDraggingOverDropZone=!1,this.globalDraggingInProgress=!1,this.files=[],this.numOfActiveReadEntries=0,this.helperFormEl=null,this.fileInputPlaceholderEl=null,this.dropEventTimerSubscription=null,this._disabled=!1,this.openFileSelector=D=>{this.fileSelector&&this.fileSelector.nativeElement&&this.fileSelector.nativeElement.click()},this.globalDragStartListener=this.renderer.listen("document","dragstart",D=>{this.globalDraggingInProgress=!0}),this.globalDragEndListener=this.renderer.listen("document","dragend",D=>{this.globalDraggingInProgress=!1})}get disabled(){return this._disabled}set disabled(r){this._disabled=null!=r&&"false"!=`${r}`}ngOnDestroy(){this.dropEventTimerSubscription&&(this.dropEventTimerSubscription.unsubscribe(),this.dropEventTimerSubscription=null),this.globalDragStartListener(),this.globalDragEndListener(),this.files=[],this.helperFormEl=null,this.fileInputPlaceholderEl=null}onDragOver(r){this.useDragEnter?(this.preventAndStop(r),r.dataTransfer&&(r.dataTransfer.dropEffect="copy")):!this.isDropzoneDisabled()&&!this.useDragEnter&&r.dataTransfer&&(this.isDraggingOverDropZone||(this.isDraggingOverDropZone=!0,this.onFileOver.emit(r)),this.preventAndStop(r),r.dataTransfer.dropEffect="copy")}onDragEnter(r){!this.isDropzoneDisabled()&&this.useDragEnter&&(this.isDraggingOverDropZone||(this.isDraggingOverDropZone=!0,this.onFileOver.emit(r)),this.preventAndStop(r))}onDragLeave(r){this.isDropzoneDisabled()||(this.isDraggingOverDropZone&&(this.isDraggingOverDropZone=!1,this.onFileLeave.emit(r)),this.preventAndStop(r))}dropFiles(r){if(!this.isDropzoneDisabled()&&(this.isDraggingOverDropZone=!1,r.dataTransfer)){let v;v=r.dataTransfer.items?r.dataTransfer.items:r.dataTransfer.files,this.preventAndStop(r),this.checkFiles(v)}}uploadFiles(r){!this.isDropzoneDisabled()&&r.target&&(this.checkFiles(r.target.files||[]),this.resetFileInput())}getFakeDropEntry(r){const v={name:r.name,isDirectory:!1,isFile:!0,file:D=>D(r)};return new O(v.name,v)}checkFile(r){if(r){if("getAsFile"in r){const v=r.getAsFile();if(v)return void this.addToQueue(this.getFakeDropEntry(v))}if("webkitGetAsEntry"in r){let v=r.webkitGetAsEntry();if(v){if(v.isFile){const D=new O(v.name,v);this.addToQueue(D)}else v.isDirectory&&this.traverseFileTree(v,v.name);return}}this.addToQueue(this.getFakeDropEntry(r))}}checkFiles(r){for(let v=0;v<r.length;v++)this.checkFile(r[v]);this.dropEventTimerSubscription&&this.dropEventTimerSubscription.unsubscribe(),this.dropEventTimerSubscription=(0,d.H)(200,200).subscribe(()=>{if(this.files.length>0&&0===this.numOfActiveReadEntries){const v=this.files;this.files=[],this.onFileDrop.emit(v)}})}traverseFileTree(r,v){if(r.isFile){const D=new O(v,r);this.files.push(D)}else{v+="/";const D=r.createReader();let N=[];const K=()=>{this.numOfActiveReadEntries++,D.readEntries(Y=>{if(Y.length)N=N.concat(Y),K();else if(0===N.length){const ie=new O(v,r);this.zone.run(()=>{this.addToQueue(ie)})}else for(let ie=0;ie<N.length;ie++)this.zone.run(()=>{this.traverseFileTree(N[ie],v+N[ie].name)});this.numOfActiveReadEntries--})};K()}}resetFileInput(){if(this.fileSelector&&this.fileSelector.nativeElement){const r=this.fileSelector.nativeElement,v=r.parentElement,D=this.getHelperFormElement(),N=this.getFileInputPlaceholderElement();v!==D&&(this.renderer.insertBefore(v,N,r),this.renderer.appendChild(D,r),D.reset(),this.renderer.insertBefore(v,r,N),this.renderer.removeChild(v,N))}}getHelperFormElement(){return this.helperFormEl||(this.helperFormEl=this.renderer.createElement("form")),this.helperFormEl}getFileInputPlaceholderElement(){return this.fileInputPlaceholderEl||(this.fileInputPlaceholderEl=this.renderer.createElement("div")),this.fileInputPlaceholderEl}isDropzoneDisabled(){return this.globalDraggingInProgress||this.disabled}addToQueue(r){this.files.push(r)}preventAndStop(r){r.stopPropagation(),r.preventDefault()}}return T.\u0275fac=function(r){return new(r||T)(e.Y36(e.R0b),e.Y36(e.Qsj))},T.\u0275cmp=e.Xpm({type:T,selectors:[["ngx-file-drop"]],contentQueries:function(r,v,D){if(1&r&&e.Suo(D,R,5,e.Rgc),2&r){let N;e.iGM(N=e.CRH())&&(v.contentTemplate=N.first)}},viewQuery:function(r,v){if(1&r&&e.Gf(c,7),2&r){let D;e.iGM(D=e.CRH())&&(v.fileSelector=D.first)}},inputs:{accept:"accept",directory:"directory",multiple:"multiple",dropZoneLabel:"dropZoneLabel",dropZoneClassName:"dropZoneClassName",useDragEnter:"useDragEnter",contentClassName:"contentClassName",showBrowseBtn:"showBrowseBtn",browseBtnClassName:"browseBtnClassName",browseBtnLabel:"browseBtnLabel",disabled:"disabled"},outputs:{onFileDrop:"onFileDrop",onFileOver:"onFileOver",onFileLeave:"onFileLeave"},decls:7,vars:15,consts:[[3,"className","drop","dragover","dragenter","dragleave"],[3,"className"],["type","file",1,"ngx-file-drop__file-input",3,"accept","multiple","change"],["fileSelector",""],["defaultContentTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ngx-file-drop__drop-zone-label",4,"ngIf"],[4,"ngIf"],[1,"ngx-file-drop__drop-zone-label"],["type","button",3,"className","value","click"]],template:function(r,v){if(1&r&&(e.TgZ(0,"div",0),e.NdJ("drop",function(N){return v.dropFiles(N)})("dragover",function(N){return v.onDragOver(N)})("dragenter",function(N){return v.onDragEnter(N)})("dragleave",function(N){return v.onDragLeave(N)}),e.TgZ(1,"div",1)(2,"input",2,3),e.NdJ("change",function(N){return v.uploadFiles(N)}),e.qZA(),e.YNc(4,f,2,2,"ng-template",null,4,e.W1O),e.YNc(6,y,0,0,"ng-template",5),e.qZA()()),2&r){const D=e.MAs(5);e.ekj("ngx-file-drop__drop-zone--over",v.isDraggingOverDropZone),e.Q6J("className",v.dropZoneClassName),e.xp6(1),e.Q6J("className",v.contentClassName),e.xp6(1),e.Q6J("accept",v.accept)("multiple",v.multiple),e.uIk("directory",v.directory||void 0)("webkitdirectory",v.directory||void 0)("mozdirectory",v.directory||void 0)("msdirectory",v.directory||void 0)("odirectory",v.directory||void 0),e.xp6(4),e.Q6J("ngTemplateOutlet",v.contentTemplate||D)("ngTemplateOutletContext",e.VKq(13,$,v.openFileSelector))}},dependencies:[t.O5,t.tP],styles:[".ngx-file-drop__drop-zone[_ngcontent-%COMP%]{height:100px;margin:auto;border:2px dotted #0782d0;border-radius:30px}.ngx-file-drop__drop-zone--over[_ngcontent-%COMP%]{background-color:#93939380}.ngx-file-drop__content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100px;color:#0782d0}.ngx-file-drop__drop-zone-label[_ngcontent-%COMP%]{text-align:center}.ngx-file-drop__file-input[_ngcontent-%COMP%]{display:none}"]}),T})(),w=(()=>{class T{}return T.\u0275fac=function(r){return new(r||T)},T.\u0275mod=e.oAB({type:T,bootstrap:[P]}),T.\u0275inj=e.cJS({providers:[],imports:[t.ez]}),T})();var n=i(84694),l=i(24098),C=i(83353),u=i(21281),p=i(12687),E=i(77579),b=i(50727),_=i(17445),A=i(66406),z=i(69751),Q=i(56451),W=i(82722),q=i(54004),ue=i(95698),le=i(68675),fe=i(18505),se=i(63900),pe=i(40445);function me(T,m,r){for(let v in m)if(m.hasOwnProperty(v)){const D=m[v];D?T.setProperty(v,D,r?.has(v)?"important":""):T.removeProperty(v)}return T}function ce(T,m){const r=m?"":"none";me(T.style,{"touch-action":m?"":"none","-webkit-user-drag":m?"":"none","-webkit-tap-highlight-color":m?"":"transparent","user-select":r,"-ms-user-select":r,"-webkit-user-select":r,"-moz-user-select":r})}function Se(T,m,r){me(T.style,{position:m?"":"fixed",top:m?"":"0",opacity:m?"":"0",left:m?"":"-999em"},r)}function G(T,m){return m&&"none"!=m?T+" "+m:T}function M(T){const m=T.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(T)*m}function S(T,m){return T.getPropertyValue(m).split(",").map(v=>v.trim())}function I(T){const m=T.getBoundingClientRect();return{top:m.top,right:m.right,bottom:m.bottom,left:m.left,width:m.width,height:m.height,x:m.x,y:m.y}}function F(T,m,r){const{top:v,bottom:D,left:N,right:K}=T;return r>=v&&r<=D&&m>=N&&m<=K}function J(T,m,r){T.top+=m,T.bottom=T.top+T.height,T.left+=r,T.right=T.left+T.width}function ee(T,m,r,v){const{top:D,right:N,bottom:K,left:Y,width:ie,height:de}=T,Ce=ie*m,Ne=de*m;return v>D-Ne&&v<K+Ne&&r>Y-Ce&&r<N+Ce}class ae{constructor(m){this._document=m,this.positions=new Map}clear(){this.positions.clear()}cache(m){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),m.forEach(r=>{this.positions.set(r,{scrollPosition:{top:r.scrollTop,left:r.scrollLeft},clientRect:I(r)})})}handleScroll(m){const r=(0,C.sA)(m),v=this.positions.get(r);if(!v)return null;const D=v.scrollPosition;let N,K;if(r===this._document){const de=this.getViewportScrollPosition();N=de.top,K=de.left}else N=r.scrollTop,K=r.scrollLeft;const Y=D.top-N,ie=D.left-K;return this.positions.forEach((de,Ce)=>{de.clientRect&&r!==Ce&&r.contains(Ce)&&J(de.clientRect,Y,ie)}),D.top=N,D.left=K,{top:Y,left:ie}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Ee(T){const m=T.cloneNode(!0),r=m.querySelectorAll("[id]"),v=T.nodeName.toLowerCase();m.removeAttribute("id");for(let D=0;D<r.length;D++)r[D].removeAttribute("id");return"canvas"===v?te(T,m):("input"===v||"select"===v||"textarea"===v)&&X(T,m),U("canvas",T,m,te),U("input, textarea, select",T,m,X),m}function U(T,m,r,v){const D=m.querySelectorAll(T);if(D.length){const N=r.querySelectorAll(T);for(let K=0;K<D.length;K++)v(D[K],N[K])}}let B=0;function X(T,m){"file"!==m.type&&(m.value=T.value),"radio"===m.type&&m.name&&(m.name=`mat-clone-${m.name}-${B++}`)}function te(T,m){const r=m.getContext("2d");if(r)try{r.drawImage(T,0,0)}catch{}}const oe=(0,C.i$)({passive:!0}),re=(0,C.i$)({passive:!1}),Ae=new Set(["position"]);class xe{constructor(m,r,v,D,N,K){this._config=r,this._document=v,this._ngZone=D,this._viewportRuler=N,this._dragDropRegistry=K,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new E.x,this._pointerMoveSubscription=b.w0.EMPTY,this._pointerUpSubscription=b.w0.EMPTY,this._scrollSubscription=b.w0.EMPTY,this._resizeSubscription=b.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new E.x,this.started=new E.x,this.released=new E.x,this.ended=new E.x,this.entered=new E.x,this.exited=new E.x,this.dropped=new E.x,this.moved=this._moveEvents,this._pointerDown=Y=>{if(this.beforeStarted.next(),this._handles.length){const ie=this._getTargetHandle(Y);ie&&!this._disabledHandles.has(ie)&&!this.disabled&&this._initializeDragSequence(ie,Y)}else this.disabled||this._initializeDragSequence(this._rootElement,Y)},this._pointerMove=Y=>{const ie=this._getPointerPositionOnPage(Y);if(!this._hasStartedDragging){if(Math.abs(ie.x-this._pickupPositionOnPage.x)+Math.abs(ie.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const vt=Date.now()>=this._dragStartTime+this._getDragStartDelay(Y),yt=this._dropContainer;if(!vt)return void this._endDragSequence(Y);(!yt||!yt.isDragging()&&!yt.isReceiving())&&(Y.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Y)))}return}Y.preventDefault();const de=this._getConstrainedPointerPosition(ie);if(this._hasMoved=!0,this._lastKnownPointerPosition=ie,this._updatePointerDirectionDelta(de),this._dropContainer)this._updateActiveDropContainer(de,ie);else{const Ce=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,Ne=this._activeTransform;Ne.x=de.x-Ce.x+this._passiveTransform.x,Ne.y=de.y-Ce.y+this._passiveTransform.y,this._applyRootElementTransform(Ne.x,Ne.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:de,event:Y,distance:this._getDragDistance(de),delta:this._pointerDirectionDelta})})},this._pointerUp=Y=>{this._endDragSequence(Y)},this._nativeDragStart=Y=>{if(this._handles.length){const ie=this._getTargetHandle(Y);ie&&!this._disabledHandles.has(ie)&&!this.disabled&&Y.preventDefault()}else this.disabled||Y.preventDefault()},this.withRootElement(m).withParent(r.parentDragRef||null),this._parentPositions=new ae(v),K.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(m){const r=(0,u.Ig)(m);r!==this._disabled&&(this._disabled=r,this._toggleNativeDragInteractions(),this._handles.forEach(v=>ce(v,r)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(m){this._handles=m.map(v=>(0,u.fI)(v)),this._handles.forEach(v=>ce(v,this.disabled)),this._toggleNativeDragInteractions();const r=new Set;return this._disabledHandles.forEach(v=>{this._handles.indexOf(v)>-1&&r.add(v)}),this._disabledHandles=r,this}withPreviewTemplate(m){return this._previewTemplate=m,this}withPlaceholderTemplate(m){return this._placeholderTemplate=m,this}withRootElement(m){const r=(0,u.fI)(m);return r!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{r.addEventListener("mousedown",this._pointerDown,re),r.addEventListener("touchstart",this._pointerDown,oe),r.addEventListener("dragstart",this._nativeDragStart,re)}),this._initialTransform=void 0,this._rootElement=r),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(m){return this._boundaryElement=m?(0,u.fI)(m):null,this._resizeSubscription.unsubscribe(),m&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(m){return this._parentDragRef=m,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(m){!this._disabledHandles.has(m)&&this._handles.indexOf(m)>-1&&(this._disabledHandles.add(m),ce(m,!0))}enableHandle(m){this._disabledHandles.has(m)&&(this._disabledHandles.delete(m),ce(m,this.disabled))}withDirection(m){return this._direction=m,this}_withDropContainer(m){this._dropContainer=m}getFreeDragPosition(){const m=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:m.x,y:m.y}}setFreeDragPosition(m){return this._activeTransform={x:0,y:0},this._passiveTransform.x=m.x,this._passiveTransform.y=m.y,this._dropContainer||this._applyRootElementTransform(m.x,m.y),this}withPreviewContainer(m){return this._previewContainer=m,this}_sortFromLastPointerPosition(){const m=this._lastKnownPointerPosition;m&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(m),m)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(m){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:m}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(m),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const r=this._getPointerPositionOnPage(m);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(r),dropPoint:r,event:m})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(m){ze(m)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const r=this._dropContainer;if(r){const v=this._rootElement,D=v.parentNode,N=this._placeholder=this._createPlaceholderElement(),K=this._anchor=this._anchor||this._document.createComment(""),Y=this._getShadowRoot();D.insertBefore(K,v),this._initialTransform=v.style.transform||"",this._preview=this._createPreviewElement(),Se(v,!1,Ae),this._document.body.appendChild(D.replaceChild(N,v)),this._getPreviewInsertionPoint(D,Y).appendChild(this._preview),this.started.next({source:this,event:m}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:m}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(m,r){this._parentDragRef&&r.stopPropagation();const v=this.isDragging(),D=ze(r),N=!D&&0!==r.button,K=this._rootElement,Y=(0,C.sA)(r),ie=!D&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),de=D?(0,p.yG)(r):(0,p.X6)(r);if(Y&&Y.draggable&&"mousedown"===r.type&&r.preventDefault(),v||N||ie||de)return;if(this._handles.length){const Je=K.style;this._rootElementTapHighlight=Je.webkitTapHighlightColor||"",Je.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Je=>this._updateOnScroll(Je)),this._boundaryElement&&(this._boundaryRect=I(this._boundaryElement));const Ce=this._previewTemplate;this._pickupPositionInElement=Ce&&Ce.template&&!Ce.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,m,r);const Ne=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(r);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Ne.x,y:Ne.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,r)}_cleanupDragArtifacts(m){Se(this._rootElement,!0,Ae),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const r=this._dropContainer,v=r.getItemIndex(this),D=this._getPointerPositionOnPage(m),N=this._getDragDistance(D),K=r._isOverContainer(D.x,D.y);this.ended.next({source:this,distance:N,dropPoint:D,event:m}),this.dropped.next({item:this,currentIndex:v,previousIndex:this._initialIndex,container:r,previousContainer:this._initialContainer,isPointerOverContainer:K,distance:N,dropPoint:D,event:m}),r.drop(this,v,this._initialIndex,this._initialContainer,K,N,D),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:m,y:r},{x:v,y:D}){let N=this._initialContainer._getSiblingContainerFromPosition(this,m,r);!N&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(m,r)&&(N=this._initialContainer),N&&N!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=N,this._dropContainer.enter(this,m,r,N===this._initialContainer&&N.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:N,currentIndex:N.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(v,D),this._dropContainer._sortItem(this,m,r,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(m,r):this._applyPreviewTransform(m-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y))}_createPreviewElement(){const m=this._previewTemplate,r=this.previewClass,v=m?m.template:null;let D;if(v&&m){const N=m.matchSize?this._initialClientRect:null,K=m.viewContainer.createEmbeddedView(v,m.context);K.detectChanges(),D=ke(K,this._document),this._previewRef=K,m.matchSize?nt(D,N):D.style.transform=De(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else D=Ee(this._rootElement),nt(D,this._initialClientRect),this._initialTransform&&(D.style.transform=this._initialTransform);return me(D.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Ae),ce(D,!1),D.classList.add("cdk-drag-preview"),D.setAttribute("dir",this._direction),r&&(Array.isArray(r)?r.forEach(N=>D.classList.add(N)):D.classList.add(r)),D}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const m=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(m.left,m.top);const r=function x(T){const m=getComputedStyle(T),r=S(m,"transition-property"),v=r.find(Y=>"transform"===Y||"all"===Y);if(!v)return 0;const D=r.indexOf(v),N=S(m,"transition-duration"),K=S(m,"transition-delay");return M(N[D])+M(K[D])}(this._preview);return 0===r?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(v=>{const D=K=>{(!K||(0,C.sA)(K)===this._preview&&"transform"===K.propertyName)&&(this._preview?.removeEventListener("transitionend",D),v(),clearTimeout(N))},N=setTimeout(D,1.5*r);this._preview.addEventListener("transitionend",D)}))}_createPlaceholderElement(){const m=this._placeholderTemplate,r=m?m.template:null;let v;return r?(this._placeholderRef=m.viewContainer.createEmbeddedView(r,m.context),this._placeholderRef.detectChanges(),v=ke(this._placeholderRef,this._document)):v=Ee(this._rootElement),v.style.pointerEvents="none",v.classList.add("cdk-drag-placeholder"),v}_getPointerPositionInElement(m,r,v){const D=r===this._rootElement?null:r,N=D?D.getBoundingClientRect():m,K=ze(v)?v.targetTouches[0]:v,Y=this._getViewportScrollPosition();return{x:N.left-m.left+(K.pageX-N.left-Y.left),y:N.top-m.top+(K.pageY-N.top-Y.top)}}_getPointerPositionOnPage(m){const r=this._getViewportScrollPosition(),v=ze(m)?m.touches[0]||m.changedTouches[0]||{pageX:0,pageY:0}:m,D=v.pageX-r.left,N=v.pageY-r.top;if(this._ownerSVGElement){const K=this._ownerSVGElement.getScreenCTM();if(K){const Y=this._ownerSVGElement.createSVGPoint();return Y.x=D,Y.y=N,Y.matrixTransform(K.inverse())}}return{x:D,y:N}}_getConstrainedPointerPosition(m){const r=this._dropContainer?this._dropContainer.lockAxis:null;let{x:v,y:D}=this.constrainPosition?this.constrainPosition(m,this,this._initialClientRect,this._pickupPositionInElement):m;if("x"===this.lockAxis||"x"===r?D=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===r)&&(v=this._pickupPositionOnPage.x),this._boundaryRect){const{x:N,y:K}=this._pickupPositionInElement,Y=this._boundaryRect,{width:ie,height:de}=this._getPreviewRect(),Ce=Y.top+K,Ne=Y.bottom-(de-K);v=we(v,Y.left+N,Y.right-(ie-N)),D=we(D,Ce,Ne)}return{x:v,y:D}}_updatePointerDirectionDelta(m){const{x:r,y:v}=m,D=this._pointerDirectionDelta,N=this._pointerPositionAtLastDirectionChange,K=Math.abs(r-N.x),Y=Math.abs(v-N.y);return K>this._config.pointerDirectionChangeThreshold&&(D.x=r>N.x?1:-1,N.x=r),Y>this._config.pointerDirectionChangeThreshold&&(D.y=v>N.y?1:-1,N.y=v),D}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const m=this._handles.length>0||!this.isDragging();m!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=m,ce(this._rootElement,m))}_removeRootElementListeners(m){m.removeEventListener("mousedown",this._pointerDown,re),m.removeEventListener("touchstart",this._pointerDown,oe),m.removeEventListener("dragstart",this._nativeDragStart,re)}_applyRootElementTransform(m,r){const v=De(m,r),D=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=D.transform&&"none"!=D.transform?D.transform:""),D.transform=G(v,this._initialTransform)}_applyPreviewTransform(m,r){const v=this._previewTemplate?.template?void 0:this._initialTransform,D=De(m,r);this._preview.style.transform=G(D,v)}_getDragDistance(m){const r=this._pickupPositionOnPage;return r?{x:m.x-r.x,y:m.y-r.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:m,y:r}=this._passiveTransform;if(0===m&&0===r||this.isDragging()||!this._boundaryElement)return;const v=this._rootElement.getBoundingClientRect(),D=this._boundaryElement.getBoundingClientRect();if(0===D.width&&0===D.height||0===v.width&&0===v.height)return;const N=D.left-v.left,K=v.right-D.right,Y=D.top-v.top,ie=v.bottom-D.bottom;D.width>v.width?(N>0&&(m+=N),K>0&&(m-=K)):m=0,D.height>v.height?(Y>0&&(r+=Y),ie>0&&(r-=ie)):r=0,(m!==this._passiveTransform.x||r!==this._passiveTransform.y)&&this.setFreeDragPosition({y:r,x:m})}_getDragStartDelay(m){const r=this.dragStartDelay;return"number"==typeof r?r:ze(m)?r.touch:r?r.mouse:0}_updateOnScroll(m){const r=this._parentPositions.handleScroll(m);if(r){const v=(0,C.sA)(m);this._boundaryRect&&v!==this._boundaryElement&&v.contains(this._boundaryElement)&&J(this._boundaryRect,r.top,r.left),this._pickupPositionOnPage.x+=r.left,this._pickupPositionOnPage.y+=r.top,this._dropContainer||(this._activeTransform.x-=r.left,this._activeTransform.y-=r.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,C.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(m,r){const v=this._previewContainer||"global";if("parent"===v)return m;if("global"===v){const D=this._document;return r||D.fullscreenElement||D.webkitFullscreenElement||D.mozFullScreenElement||D.msFullscreenElement||D.body}return(0,u.fI)(v)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(m){return this._handles.find(r=>m.target&&(m.target===r||r.contains(m.target)))}}function De(T,m){return`translate3d(${Math.round(T)}px, ${Math.round(m)}px, 0)`}function we(T,m,r){return Math.max(m,Math.min(r,T))}function ze(T){return"t"===T.type[0]}function ke(T,m){const r=T.rootNodes;if(1===r.length&&r[0].nodeType===m.ELEMENT_NODE)return r[0];const v=m.createElement("div");return r.forEach(D=>v.appendChild(D)),v}function nt(T,m){T.style.width=`${m.width}px`,T.style.height=`${m.height}px`,T.style.transform=De(m.left,m.top)}function Ue(T,m){return Math.max(0,Math.min(m,T))}class ft{constructor(m,r){this._element=m,this._dragDropRegistry=r,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(m){this.withItems(m)}sort(m,r,v,D){const N=this._itemPositions,K=this._getItemIndexFromPointerPosition(m,r,v,D);if(-1===K&&N.length>0)return null;const Y="horizontal"===this.orientation,ie=N.findIndex(Qe=>Qe.drag===m),de=N[K],Ne=de.clientRect,Je=ie>K?1:-1,vt=this._getItemOffsetPx(N[ie].clientRect,Ne,Je),yt=this._getSiblingOffsetPx(ie,N,Je),Pt=N.slice();return function ht(T,m,r){const v=Ue(m,T.length-1),D=Ue(r,T.length-1);if(v===D)return;const N=T[v],K=D<v?-1:1;for(let Y=v;Y!==D;Y+=K)T[Y]=T[Y+K];T[D]=N}(N,ie,K),N.forEach((Qe,gr)=>{if(Pt[gr]===Qe)return;const ur=Qe.drag===m,Xt=ur?vt:yt,hr=ur?m.getPlaceholderElement():Qe.drag.getRootElement();Qe.offset+=Xt,Y?(hr.style.transform=G(`translate3d(${Math.round(Qe.offset)}px, 0, 0)`,Qe.initialTransform),J(Qe.clientRect,0,Xt)):(hr.style.transform=G(`translate3d(0, ${Math.round(Qe.offset)}px, 0)`,Qe.initialTransform),J(Qe.clientRect,Xt,0))}),this._previousSwap.overlaps=F(Ne,r,v),this._previousSwap.drag=de.drag,this._previousSwap.delta=Y?D.x:D.y,{previousIndex:ie,currentIndex:K}}enter(m,r,v,D){const N=null==D||D<0?this._getItemIndexFromPointerPosition(m,r,v):D,K=this._activeDraggables,Y=K.indexOf(m),ie=m.getPlaceholderElement();let de=K[N];if(de===m&&(de=K[N+1]),!de&&(null==N||-1===N||N<K.length-1)&&this._shouldEnterAsFirstChild(r,v)&&(de=K[0]),Y>-1&&K.splice(Y,1),de&&!this._dragDropRegistry.isDragging(de)){const Ce=de.getRootElement();Ce.parentElement.insertBefore(ie,Ce),K.splice(N,0,m)}else(0,u.fI)(this._element).appendChild(ie),K.push(m);ie.style.transform="",this._cacheItemPositions()}withItems(m){this._activeDraggables=m.slice(),this._cacheItemPositions()}withSortPredicate(m){this._sortPredicate=m}reset(){this._activeDraggables.forEach(m=>{const r=m.getRootElement();if(r){const v=this._itemPositions.find(D=>D.drag===m)?.initialTransform;r.style.transform=v||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(m){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(v=>v.drag===m)}updateOnScroll(m,r){this._itemPositions.forEach(({clientRect:v})=>{J(v,m,r)}),this._itemPositions.forEach(({drag:v})=>{this._dragDropRegistry.isDragging(v)&&v._sortFromLastPointerPosition()})}_cacheItemPositions(){const m="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(r=>{const v=r.getVisibleElement();return{drag:r,offset:0,initialTransform:v.style.transform||"",clientRect:I(v)}}).sort((r,v)=>m?r.clientRect.left-v.clientRect.left:r.clientRect.top-v.clientRect.top)}_getItemOffsetPx(m,r,v){const D="horizontal"===this.orientation;let N=D?r.left-m.left:r.top-m.top;return-1===v&&(N+=D?r.width-m.width:r.height-m.height),N}_getSiblingOffsetPx(m,r,v){const D="horizontal"===this.orientation,N=r[m].clientRect,K=r[m+-1*v];let Y=N[D?"width":"height"]*v;if(K){const ie=D?"left":"top",de=D?"right":"bottom";-1===v?Y-=K.clientRect[ie]-N[de]:Y+=N[ie]-K.clientRect[de]}return Y}_shouldEnterAsFirstChild(m,r){if(!this._activeDraggables.length)return!1;const v=this._itemPositions,D="horizontal"===this.orientation;if(v[0].drag!==this._activeDraggables[0]){const K=v[v.length-1].clientRect;return D?m>=K.right:r>=K.bottom}{const K=v[0].clientRect;return D?m<=K.left:r<=K.top}}_getItemIndexFromPointerPosition(m,r,v,D){const N="horizontal"===this.orientation,K=this._itemPositions.findIndex(({drag:Y,clientRect:ie})=>{if(Y===m)return!1;if(D){const de=N?D.x:D.y;if(Y===this._previousSwap.drag&&this._previousSwap.overlaps&&de===this._previousSwap.delta)return!1}return N?r>=Math.floor(ie.left)&&r<Math.floor(ie.right):v>=Math.floor(ie.top)&&v<Math.floor(ie.bottom)});return-1!==K&&this._sortPredicate(K,m)?K:-1}}class Tt{constructor(m,r,v,D,N){this._dragDropRegistry=r,this._ngZone=D,this._viewportRuler=N,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new E.x,this.entered=new E.x,this.exited=new E.x,this.dropped=new E.x,this.sorted=new E.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=b.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new E.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,_.F)(0,A.Z).pipe((0,W.R)(this._stopScrollTimers)).subscribe(()=>{const K=this._scrollNode,Y=this.autoScrollStep;1===this._verticalScrollDirection?K.scrollBy(0,-Y):2===this._verticalScrollDirection&&K.scrollBy(0,Y),1===this._horizontalScrollDirection?K.scrollBy(-Y,0):2===this._horizontalScrollDirection&&K.scrollBy(Y,0)})},this.element=(0,u.fI)(m),this._document=v,this.withScrollableParents([this.element]),r.registerDropContainer(this),this._parentPositions=new ae(v),this._sortStrategy=new ft(this.element,r),this._sortStrategy.withSortPredicate((K,Y)=>this.sortPredicate(K,Y,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(m,r,v,D){this._draggingStarted(),null==D&&this.sortingDisabled&&(D=this._draggables.indexOf(m)),this._sortStrategy.enter(m,r,v,D),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:m,container:this,currentIndex:this.getItemIndex(m)})}exit(m){this._reset(),this.exited.next({item:m,container:this})}drop(m,r,v,D,N,K,Y,ie={}){this._reset(),this.dropped.next({item:m,currentIndex:r,previousIndex:v,container:this,previousContainer:D,isPointerOverContainer:N,distance:K,dropPoint:Y,event:ie})}withItems(m){const r=this._draggables;return this._draggables=m,m.forEach(v=>v._withDropContainer(this)),this.isDragging()&&(r.filter(D=>D.isDragging()).every(D=>-1===m.indexOf(D))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(m){return this._sortStrategy.direction=m,this}connectedTo(m){return this._siblings=m.slice(),this}withOrientation(m){return this._sortStrategy.orientation=m,this}withScrollableParents(m){const r=(0,u.fI)(this.element);return this._scrollableElements=-1===m.indexOf(r)?[r,...m]:m.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(m){return this._isDragging?this._sortStrategy.getItemIndex(m):this._draggables.indexOf(m)}isReceiving(){return this._activeSiblings.size>0}_sortItem(m,r,v,D){if(this.sortingDisabled||!this._clientRect||!ee(this._clientRect,.05,r,v))return;const N=this._sortStrategy.sort(m,r,v,D);N&&this.sorted.next({previousIndex:N.previousIndex,currentIndex:N.currentIndex,container:this,item:m})}_startScrollingIfNecessary(m,r){if(this.autoScrollDisabled)return;let v,D=0,N=0;if(this._parentPositions.positions.forEach((K,Y)=>{Y===this._document||!K.clientRect||v||ee(K.clientRect,.05,m,r)&&([D,N]=function At(T,m,r,v){const D=It(m,v),N=Lt(m,r);let K=0,Y=0;if(D){const ie=T.scrollTop;1===D?ie>0&&(K=1):T.scrollHeight-ie>T.clientHeight&&(K=2)}if(N){const ie=T.scrollLeft;1===N?ie>0&&(Y=1):T.scrollWidth-ie>T.clientWidth&&(Y=2)}return[K,Y]}(Y,K.clientRect,m,r),(D||N)&&(v=Y))}),!D&&!N){const{width:K,height:Y}=this._viewportRuler.getViewportSize(),ie={width:K,height:Y,top:0,right:K,bottom:Y,left:0};D=It(ie,r),N=Lt(ie,m),v=window}v&&(D!==this._verticalScrollDirection||N!==this._horizontalScrollDirection||v!==this._scrollNode)&&(this._verticalScrollDirection=D,this._horizontalScrollDirection=N,this._scrollNode=v,(D||N)&&v?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const m=(0,u.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=m.msScrollSnapType||m.scrollSnapType||"",m.scrollSnapType=m.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const m=(0,u.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(m).clientRect}_reset(){this._isDragging=!1;const m=(0,u.fI)(this.element).style;m.scrollSnapType=m.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(r=>r._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(m,r){return null!=this._clientRect&&F(this._clientRect,m,r)}_getSiblingContainerFromPosition(m,r,v){return this._siblings.find(D=>D._canReceive(m,r,v))}_canReceive(m,r,v){if(!this._clientRect||!F(this._clientRect,r,v)||!this.enterPredicate(m,this))return!1;const D=this._getShadowRoot().elementFromPoint(r,v);if(!D)return!1;const N=(0,u.fI)(this.element);return D===N||N.contains(D)}_startReceiving(m,r){const v=this._activeSiblings;!v.has(m)&&r.every(D=>this.enterPredicate(D,this)||this._draggables.indexOf(D)>-1)&&(v.add(m),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(m){this._activeSiblings.delete(m),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(m=>{if(this.isDragging()){const r=this._parentPositions.handleScroll(m);r&&this._sortStrategy.updateOnScroll(r.top,r.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const m=(0,C.kV)((0,u.fI)(this.element));this._cachedShadowRoot=m||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const m=this._sortStrategy.getActiveItemsSnapshot().filter(r=>r.isDragging());this._siblings.forEach(r=>r._startReceiving(this,m))}}function It(T,m){const{top:r,bottom:v,height:D}=T,N=.05*D;return m>=r-N&&m<=r+N?1:m>=v-N&&m<=v+N?2:0}function Lt(T,m){const{left:r,right:v,width:D}=T,N=.05*D;return m>=r-N&&m<=r+N?1:m>=v-N&&m<=v+N?2:0}const Ve=(0,C.i$)({passive:!1,capture:!0});let Ut=(()=>{class T{constructor(r,v){this._ngZone=r,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=D=>D.isDragging(),this.pointerMove=new E.x,this.pointerUp=new E.x,this.scroll=new E.x,this._preventDefaultWhileDragging=D=>{this._activeDragInstances.length>0&&D.preventDefault()},this._persistentTouchmoveListener=D=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&D.preventDefault(),this.pointerMove.next(D))},this._document=v}registerDropContainer(r){this._dropInstances.has(r)||this._dropInstances.add(r)}registerDragItem(r){this._dragInstances.add(r),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ve)})}removeDropContainer(r){this._dropInstances.delete(r)}removeDragItem(r){this._dragInstances.delete(r),this.stopDragging(r),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ve)}startDragging(r,v){if(!(this._activeDragInstances.indexOf(r)>-1)&&(this._activeDragInstances.push(r),1===this._activeDragInstances.length)){const D=v.type.startsWith("touch");this._globalListeners.set(D?"touchend":"mouseup",{handler:N=>this.pointerUp.next(N),options:!0}).set("scroll",{handler:N=>this.scroll.next(N),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ve}),D||this._globalListeners.set("mousemove",{handler:N=>this.pointerMove.next(N),options:Ve}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((N,K)=>{this._document.addEventListener(K,N.handler,N.options)})})}}stopDragging(r){const v=this._activeDragInstances.indexOf(r);v>-1&&(this._activeDragInstances.splice(v,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(r){return this._activeDragInstances.indexOf(r)>-1}scrolled(r){const v=[this.scroll];return r&&r!==this._document&&v.push(new z.y(D=>this._ngZone.runOutsideAngular(()=>{const K=Y=>{this._activeDragInstances.length&&D.next(Y)};return r.addEventListener("scroll",K,!0),()=>{r.removeEventListener("scroll",K,!0)}}))),(0,Q.T)(...v)}ngOnDestroy(){this._dragInstances.forEach(r=>this.removeDragItem(r)),this._dropInstances.forEach(r=>this.removeDropContainer(r)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((r,v)=>{this._document.removeEventListener(v,r.handler,r.options)}),this._globalListeners.clear()}}return T.\u0275fac=function(r){return new(r||T)(e.LFG(e.R0b),e.LFG(t.K0))},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const Vt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Nt=(()=>{class T{constructor(r,v,D,N){this._document=r,this._ngZone=v,this._viewportRuler=D,this._dragDropRegistry=N}createDrag(r,v=Vt){return new xe(r,v,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(r){return new Tt(r,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return T.\u0275fac=function(r){return new(r||T)(e.LFG(t.K0),e.LFG(e.R0b),e.LFG(l.rL),e.LFG(Ut))},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const Ct=new e.OlP("CDK_DRAG_PARENT"),st=new e.OlP("CDK_DRAG_CONFIG"),Bt=new e.OlP("CdkDropList"),bt=new e.OlP("CdkDragHandle");let Ht=(()=>{class T{constructor(r,v){this.element=r,this._stateChanges=new E.x,this._disabled=!1,this._parentDrag=v}get disabled(){return this._disabled}set disabled(r){this._disabled=(0,u.Ig)(r),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return T.\u0275fac=function(r){return new(r||T)(e.Y36(e.SBq),e.Y36(Ct,12))},T.\u0275dir=e.lG2({type:T,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[e._Bn([{provide:bt,useExisting:T}])]}),T})();const Mt=new e.OlP("CdkDragPlaceholder"),kt=new e.OlP("CdkDragPreview");let j=(()=>{class T{constructor(r,v,D,N,K,Y,ie,de,Ce,Ne,Je){this.element=r,this.dropContainer=v,this._ngZone=N,this._viewContainerRef=K,this._dir=ie,this._changeDetectorRef=Ce,this._selfHandle=Ne,this._parentDrag=Je,this._destroyed=new E.x,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new z.y(vt=>{const yt=this._dragRef.moved.pipe((0,q.U)(Pt=>({source:this,pointerPosition:Pt.pointerPosition,event:Pt.event,delta:Pt.delta,distance:Pt.distance}))).subscribe(vt);return()=>{yt.unsubscribe()}}),this._dragRef=de.createDrag(r,{dragStartThreshold:Y&&null!=Y.dragStartThreshold?Y.dragStartThreshold:5,pointerDirectionChangeThreshold:Y&&null!=Y.pointerDirectionChangeThreshold?Y.pointerDirectionChangeThreshold:5,zIndex:Y?.zIndex}),this._dragRef.data=this,T._dragInstances.push(this),Y&&this._assignDefaults(Y),v&&(this._dragRef._withDropContainer(v._dropListRef),v.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(r){this._disabled=(0,u.Ig)(r),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(r){this._dragRef.setFreeDragPosition(r)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ue.q)(1),(0,W.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(r){const v=r.rootElementSelector,D=r.freeDragPosition;v&&!v.firstChange&&this._updateRootElement(),D&&!D.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const r=T._dragInstances.indexOf(this);r>-1&&T._dragInstances.splice(r,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const r=this.element.nativeElement;let v=r;this.rootElementSelector&&(v=void 0!==r.closest?r.closest(this.rootElementSelector):r.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(v||r)}_getBoundaryElement(){const r=this.boundaryElement;return r?"string"==typeof r?this.element.nativeElement.closest(r):(0,u.fI)(r):null}_syncInputs(r){r.beforeStarted.subscribe(()=>{if(!r.isDragging()){const v=this._dir,D=this.dragStartDelay,N=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,K=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;r.disabled=this.disabled,r.lockAxis=this.lockAxis,r.dragStartDelay="object"==typeof D&&D?D:(0,u.su)(D),r.constrainPosition=this.constrainPosition,r.previewClass=this.previewClass,r.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(N).withPreviewTemplate(K).withPreviewContainer(this.previewContainer||"global"),v&&r.withDirection(v.value)}}),r.beforeStarted.pipe((0,ue.q)(1)).subscribe(()=>{if(this._parentDrag)return void r.withParent(this._parentDrag._dragRef);let v=this.element.nativeElement.parentElement;for(;v;){if(v.classList.contains("cdk-drag")){r.withParent(T._dragInstances.find(D=>D.element.nativeElement===v)?._dragRef||null);break}v=v.parentElement}})}_handleEvents(r){r.started.subscribe(v=>{this.started.emit({source:this,event:v.event}),this._changeDetectorRef.markForCheck()}),r.released.subscribe(v=>{this.released.emit({source:this,event:v.event})}),r.ended.subscribe(v=>{this.ended.emit({source:this,distance:v.distance,dropPoint:v.dropPoint,event:v.event}),this._changeDetectorRef.markForCheck()}),r.entered.subscribe(v=>{this.entered.emit({container:v.container.data,item:this,currentIndex:v.currentIndex})}),r.exited.subscribe(v=>{this.exited.emit({container:v.container.data,item:this})}),r.dropped.subscribe(v=>{this.dropped.emit({previousIndex:v.previousIndex,currentIndex:v.currentIndex,previousContainer:v.previousContainer.data,container:v.container.data,isPointerOverContainer:v.isPointerOverContainer,item:this,distance:v.distance,dropPoint:v.dropPoint,event:v.event})})}_assignDefaults(r){const{lockAxis:v,dragStartDelay:D,constrainPosition:N,previewClass:K,boundaryElement:Y,draggingDisabled:ie,rootElementSelector:de,previewContainer:Ce}=r;this.disabled=ie??!1,this.dragStartDelay=D||0,v&&(this.lockAxis=v),N&&(this.constrainPosition=N),K&&(this.previewClass=K),Y&&(this.boundaryElement=Y),de&&(this.rootElementSelector=de),Ce&&(this.previewContainer=Ce)}_setupHandlesListener(){this._handles.changes.pipe((0,le.O)(this._handles),(0,fe.b)(r=>{const v=r.filter(D=>D._parentDrag===this).map(D=>D.element);this._selfHandle&&this.rootElementSelector&&v.push(this.element),this._dragRef.withHandles(v)}),(0,se.w)(r=>(0,Q.T)(...r.map(v=>v._stateChanges.pipe((0,le.O)(v))))),(0,W.R)(this._destroyed)).subscribe(r=>{const v=this._dragRef,D=r.element.nativeElement;r.disabled?v.disableHandle(D):v.enableHandle(D)})}}return T._dragInstances=[],T.\u0275fac=function(r){return new(r||T)(e.Y36(e.SBq),e.Y36(Bt,12),e.Y36(t.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(st,8),e.Y36(pe.Is,8),e.Y36(Nt),e.Y36(e.sBO),e.Y36(bt,10),e.Y36(Ct,12))},T.\u0275dir=e.lG2({type:T,selectors:[["","cdkDrag",""]],contentQueries:function(r,v,D){if(1&r&&(e.Suo(D,kt,5),e.Suo(D,Mt,5),e.Suo(D,bt,5)),2&r){let N;e.iGM(N=e.CRH())&&(v._previewTemplate=N.first),e.iGM(N=e.CRH())&&(v._placeholderTemplate=N.first),e.iGM(N=e.CRH())&&(v._handles=N)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,v){2&r&&e.ekj("cdk-drag-disabled",v.disabled)("cdk-drag-dragging",v._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e._Bn([{provide:Ct,useExisting:T}]),e.TTD]}),T})(),H=(()=>{class T{}return T.\u0275fac=function(r){return new(r||T)},T.\u0275mod=e.oAB({type:T}),T.\u0275inj=e.cJS({providers:[Nt],imports:[l.ZD]}),T})();var Z=i(33165);let ne=(()=>{class T{constructor(){}}return T.\u0275fac=function(r){return new(r||T)},T.\u0275dir=e.lG2({type:T,selectors:[["","deephubCsSidebarLeft",""]]}),T})(),he=(()=>{class T{constructor(){}}return T.\u0275fac=function(r){return new(r||T)},T.\u0275dir=e.lG2({type:T,selectors:[["","deephubCsSidebarRight",""]]}),T})();var ve=i(23267);const be=["drawerLeft"],Ie=["drawerRight"],ye=[[["","deephubCsSidebarLeft",""]],"*",[["","deephubCsSidebarRight",""]]],Re=function(T){return{width:T}},Le=function(T){return{left:T}},Oe=function(T){return{active:T}},_e=["[deephubCsSidebarLeft]","*","[deephubCsSidebarRight]"];let Te=(()=>{class T{constructor(){this._showRight=!1,this.showRightChange=new e.vpe,this._showLeft=!1,this.showLeftChange=new e.vpe,this.sidebarLeft=350,this.minSidebarLeft=350,this.maxSidebarLeft=1e3,this.sidebarLeftUnit="px",this.sidebarRight=20,this.minSidebarRight=100,this.maxSidebarRight=1e3,this.sidebarRightUnit="%",this.resized=new e.vpe}set showRight(r){const v=this._showLeft;this._showRight=!!r,this.drawerRight&&(v===!!r&&this.drawerRight.opened===this._showRight||(this._showRight?this.drawerRight.open():this.drawerRight.close(),this.triggerShowRightChange()))}get showRight(){return this._showRight}set showLeft(r){const v=this._showLeft;this._showLeft=!!r,this.drawerLeft&&(v===!!r&&this.drawerLeft.opened===this._showLeft||(this._showLeft?this.drawerLeft.open():this.drawerLeft.close(),this.triggerShowLeftChange()))}get showLeft(){return this._showLeft}set sidebarLeftChild(r){r!==this._sidebarLeftChild&&(this._sidebarLeftChild=r,this.emitResize())}set sidebarRightChild(r){r!==this._sidebarRightChild&&(this._sidebarRightChild=r,this.emitResize())}ngAfterViewInit(){this.showLeft=this._showLeft,this.showRight=this._showRight}dragLeft(r){this.sidebarLeft="px"===this.sidebarLeftUnit?Math.min(Math.max(r.event.pageX,this.minSidebarLeft),this.maxSidebarLeft):Math.min(Math.max(100*r.event.pageX/r.event.view.innerWidth,this.minSidebarLeft),this.maxSidebarLeft),this.triggerShowLeftChange()}dragRight(r){const v=r.event.view.innerWidth;this.sidebarRight="px"===this.sidebarRightUnit?Math.min(Math.max(v-r.event.pageX,this.minSidebarRight),this.maxSidebarRight):Math.min(Math.max(100*(v-r.event.pageX)/v,this.minSidebarRight),this.maxSidebarRight),this.triggerShowRightChange()}emitResize(){this.resized.emit({showLeft:this.showLeft,sidebarLeft:this.sidebarLeft,sidebarLeftUnit:this.sidebarLeftUnit,showRight:this.showRight,sidebarRight:this.sidebarRight,sidebarRightUnit:this.sidebarRightUnit})}hasSidebarRightChild(){return!!this._sidebarRightChild&&this.showRight}hasSidebarLeftChild(){return!!this._sidebarLeftChild&&this.showLeft}openedChange(r){this.emitResize()}triggerShowLeftChange(){this.showLeftChange.emit({showLeft:this._showLeft,sidebarLeft:this.sidebarLeft,sidebarLeftUnit:this.sidebarLeftUnit})}triggerShowRightChange(){this.showRightChange.emit({showRight:this.showRight,sidebarRight:this.sidebarRight,sidebarRightUnit:this.sidebarRightUnit})}}return T.\u0275fac=function(r){return new(r||T)},T.\u0275cmp=e.Xpm({type:T,selectors:[["deephub-content-splitter"]],contentQueries:function(r,v,D){if(1&r&&(e.Suo(D,ne,5),e.Suo(D,he,5)),2&r){let N;e.iGM(N=e.CRH())&&(v.sidebarLeftChild=N.first),e.iGM(N=e.CRH())&&(v.sidebarRightChild=N.first)}},viewQuery:function(r,v){if(1&r&&(e.Gf(be,5),e.Gf(Ie,5)),2&r){let D;e.iGM(D=e.CRH())&&(v.drawerLeft=D.first),e.iGM(D=e.CRH())&&(v.drawerRight=D.first)}},inputs:{showRight:"showRight",showLeft:"showLeft",sidebarLeft:"sidebarLeft",minSidebarLeft:"minSidebarLeft",maxSidebarLeft:"maxSidebarLeft",sidebarLeftUnit:"sidebarLeftUnit",sidebarRight:"sidebarRight",minSidebarRight:"minSidebarRight",maxSidebarRight:"maxSidebarRight",sidebarRightUnit:"sidebarRightUnit"},outputs:{showRightChange:"showRightChange",showLeftChange:"showLeftChange",resized:"resized"},ngContentSelectors:_e,decls:16,vars:13,consts:[["autosize","",1,"drawer-container",3,"hasBackdrop"],["mode","over","position","start",1,"mat-drawer-side",3,"ngStyle","openedChange"],["drawerLeft",""],["cdkDrag","","cdkDragLockAxis","x",1,"splitter-bar","splitter-bar-left",3,"cdkDragMoved","cdkDragEnded"],["cdkDragHandle","",1,"splitter-bar-handle"],[1,"fas","fa-caret-left"],["data-cy","left-panel-toggle-button",1,"showandhide","leftPannel",3,"ngStyle","ngClass","click"],[1,"fas","fa-angle-double-right"],["mode","over","position","end",1,"mat-drawer-side",3,"ngStyle","openedChange"],["drawerRight",""],["cdkDrag","","cdkDragLockAxis","x",1,"splitter-bar","splitter-bar-right",3,"cdkDragMoved","cdkDragEnded"],[1,"fas","fa-caret-right"]],template:function(r,v){if(1&r){const D=e.EpF();e.F$t(ye),e.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2),e.NdJ("openedChange",function(K){return v.openedChange(K)}),e.Hsn(3),e.TgZ(4,"div",3),e.NdJ("cdkDragMoved",function(K){return v.dragLeft(K)})("cdkDragEnded",function(){return v.emitResize()}),e.TgZ(5,"div",4),e._UZ(6,"i",5),e.qZA()()(),e.Hsn(7,1),e.TgZ(8,"div",6),e.NdJ("click",function(){e.CHM(D);const K=e.MAs(2);return e.KtG(K.toggle()&&(v.showLeft=K.opened))}),e._UZ(9,"i",7),e.qZA(),e.TgZ(10,"mat-drawer",8,9),e.NdJ("openedChange",function(K){return v.openedChange(K)}),e.Hsn(12,2),e.TgZ(13,"div",10),e.NdJ("cdkDragMoved",function(K){return v.dragRight(K)})("cdkDragEnded",function(){return v.emitResize()}),e.TgZ(14,"div",4),e._UZ(15,"i",11),e.qZA()()()()}2&r&&(e.Q6J("hasBackdrop",!1),e.xp6(1),e.Q6J("ngStyle",e.VKq(5,Re,v.sidebarLeft+v.sidebarLeftUnit)),e.xp6(7),e.Q6J("ngStyle",e.VKq(7,Le,v.showLeft?v.sidebarLeft+v.sidebarLeftUnit:0))("ngClass",e.VKq(9,Oe,v.showLeft)),e.xp6(2),e.Q6J("ngStyle",e.VKq(11,Re,v.sidebarRight+v.sidebarRightUnit)))},dependencies:[t.mk,t.PC,j,Ht,ve.jA,ve.kh],styles:["[_nghost-%COMP%]{width:100%;height:100%;flex:1;display:flex}.drawer-container[_ngcontent-%COMP%]{width:100%}.mat-sidenav[_ngcontent-%COMP%]{width:200px}mat-drawer[_ngcontent-%COMP%]{overflow:visible}.splitter-bar[_ngcontent-%COMP%]{top:0;bottom:0;width:3px;position:absolute;flex:0 0 auto;background-color:#f4f4f4;cursor:col-resize;transform:translateZ(0)!important}.splitter-bar.splitter-bar-left[_ngcontent-%COMP%]{right:0}.splitter-bar.splitter-bar-right[_ngcontent-%COMP%]{left:0}.splitter-bar.splitter-bar-right[_ngcontent-%COMP%]   .splitter-bar-handle[_ngcontent-%COMP%]{left:auto;right:0}.splitter-bar[_ngcontent-%COMP%]   .splitter-bar-handle[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;color:#a0a0a0;width:11px;height:30px;margin-top:-8px;background-color:#f4f4f4;text-align:center;line-height:30px;border-style:solid;border-color:#0000001f;border-width:1px}.showandhide[_ngcontent-%COMP%]{position:absolute;top:65px;color:#a0a0a0;width:20px;height:20px;background-color:#f4f4f4;text-align:center;line-height:20px;cursor:pointer;border-style:solid;border-color:#0000001f;border-width:1px 1px 1px 0}.showandhide[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:.4s ease-in-out;transform:rotate(0)}.showandhide.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(180deg)}.showandhide.leftPannel[_ngcontent-%COMP%]{left:0;transition:.4s cubic-bezier(.25,.8,.25,1)}"],changeDetection:0}),T})(),tt=(()=>{class T{}return T.\u0275fac=function(r){return new(r||T)},T.\u0275mod=e.oAB({type:T}),T.\u0275inj=e.cJS({imports:[t.ez,H,Z.$]}),T})();var je=i(27002);let Be=(()=>{class T{}return T.\u0275fac=function(r){return new(r||T)},T.\u0275mod=e.oAB({type:T}),T.\u0275inj=e.cJS({imports:[t.ez,o.Bz,g.ae,w,n.HU,tt,je.T]}),T})();var Pe=i(68745),Me=i(80612),He=i(45022),Ze=i(61135);let qe=(()=>{class T{constructor(){this._showRightSidebar=!0,this.showRightSidebarSubject=new Ze.X(this.showRightSidebar),this.showRightSidebar$=this.showRightSidebarSubject.asObservable(),this._showLeftSidebar="true"===localStorage.getItem("showLeftOnLiveView")||!1,this._activShowLeftSidebar=!0,this.showLeftSidebarSubject=new Ze.X(this.showLeftSidebar),this.showLeftSidebar$=this.showLeftSidebarSubject.asObservable()}set showRightSidebar(r){this._showRightSidebar=r,this.showRightSidebarSubject.next(this._showRightSidebar)}get showRightSidebar(){return this._showRightSidebar}set showLeftSidebar(r){this._showLeftSidebar=r,this.showLeftSidebarSubject.next(this.showLeftSidebar)}get showLeftSidebar(){return this._showLeftSidebar||!this._activShowLeftSidebar}set activSaveLeftSidebar(r){this._activShowLeftSidebar=r,this.showLeftSidebarSubject.next(this.showLeftSidebar)}hideAndShowAlert(r){!this._activShowLeftSidebar||(localStorage.setItem("showLeftOnLiveView",`${!!r}`),this.showLeftSidebar=!!r)}}return T.\u0275fac=function(r){return new(r||T)},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();var Ye=i(36230),et=i(39646),Et=i(32076),wt=i(39300),rt=i(50590),ot=i(78372),Ke=i(70262),at=i(45886),Dt=i(27524),Ge=i(24006),Rt=i(59549),Zt=i(44144),St=i(3238),pt=i(4859),lt=i(47957),Ft=i(97392),mt=i(24088);function Kt(T,m){if(1&T&&(e.TgZ(0,"div",10)(1,"mat-icon",11),e._uU(2,"filter_list"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&T){const r=e.oxw();e.xp6(4),e.Oqu(r.filterActivText)}}function jt(T,m){if(1&T&&(e.TgZ(0,"mat-option",17)(1,"h4",18),e._uU(2),e.qZA(),e.TgZ(3,"p",19),e._uU(4),e.qZA()()),2&T){const r=m.$implicit;e.Q6J("value",r),e.xp6(1),e.uIk("data-cy-name","map.search.provider.name."+(null==r.properties?null:r.properties.provider_id)),e.xp6(1),e.Oqu(null==r.properties?null:r.properties.provider_id),e.xp6(2),e.hij("Floor ",null==r.properties?null:r.properties.floor,"")}}function Jt(T,m){if(1&T&&(e.TgZ(0,"mat-optgroup",15),e.YNc(1,jt,5,4,"mat-option",16),e.qZA()),2&T){const r=e.oxw(2).$implicit;e.Q6J("label","Location Providers"),e.xp6(1),e.Q6J("ngForOf",r.items)}}function We(T,m){if(1&T&&(e.ynx(0),e.YNc(1,Jt,2,2,"mat-optgroup",14),e.BQk()),2&T){const r=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",r.items.length)}}function ct(T,m){if(1&T&&(e.TgZ(0,"mat-option",17)(1,"h4",20),e._uU(2),e.qZA(),e.TgZ(3,"p",19),e._uU(4),e.qZA()()),2&T){const r=m.$implicit;e.Q6J("value",r),e.xp6(1),e.uIk("data-cy-name","map.search.trackable.name."+(null==r.properties?null:r.properties.name)||0),e.xp6(1),e.Oqu((null==r.properties?null:r.properties.name)||(null==r.properties||null==r.properties.location?null:r.properties.location.provider_id)),e.xp6(2),e.hij("Floor ",null==r.properties?null:r.properties.floor,"")}}function Ot(T,m){if(1&T&&(e.TgZ(0,"mat-optgroup",15),e.YNc(1,ct,5,4,"mat-option",16),e.qZA()),2&T){const r=e.oxw(2).$implicit;e.Q6J("label","Trackables"),e.xp6(1),e.Q6J("ngForOf",r.items)}}function $t(T,m){if(1&T&&(e.ynx(0),e.YNc(1,Ot,2,2,"mat-optgroup",14),e.BQk()),2&T){const r=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",r.items.length)}}function dt(T,m){if(1&T&&(e.TgZ(0,"mat-option",17)(1,"h4",21),e._uU(2),e.qZA(),e.TgZ(3,"p",19),e._uU(4),e.qZA()()),2&T){const r=m.$implicit;e.Q6J("value",r),e.xp6(1),e.uIk("data-cy-name","map.search.fence.name."+(null==r.properties?null:r.properties.name)),e.xp6(1),e.Oqu(null==r.properties?null:r.properties.name),e.xp6(2),e.hij("Floor ",null==r.properties?null:r.properties.floor,"")}}function nr(T,m){if(1&T&&(e.TgZ(0,"mat-optgroup",15),e.YNc(1,dt,5,4,"mat-option",16),e.qZA()),2&T){const r=e.oxw(2).$implicit;e.Q6J("label","Fences"),e.xp6(1),e.Q6J("ngForOf",r.items)}}function ut(T,m){if(1&T&&(e.ynx(0),e.YNc(1,nr,2,2,"mat-optgroup",14),e.BQk()),2&T){const r=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",r.items.length)}}function gt(T,m){if(1&T&&(e.TgZ(0,"mat-option",17)(1,"h4",22),e._uU(2),e.qZA(),e.TgZ(3,"p",19),e._uU(4),e.qZA()()),2&T){const r=m.$implicit;e.Q6J("value",r),e.xp6(1),e.uIk("data-cy-name","map.search.zone.name."+(null==r.properties?null:r.properties.name)),e.xp6(1),e.Oqu(null==r.properties?null:r.properties.name),e.xp6(2),e.hij("Floor ",null==r.properties?null:r.properties.floor,"")}}function zt(T,m){if(1&T&&(e.TgZ(0,"mat-optgroup",15),e.YNc(1,gt,5,4,"mat-option",16),e.qZA()),2&T){const r=e.oxw(2).$implicit;e.Q6J("label","Zones"),e.xp6(1),e.Q6J("ngForOf",r.items)}}function Qt(T,m){if(1&T&&(e.ynx(0),e.YNc(1,zt,2,2,"mat-optgroup",14),e.BQk()),2&T){const r=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",r.items.length)}}function Yt(T,m){if(1&T&&(e.TgZ(0,"mat-option",17)(1,"h4",23),e._uU(2),e.qZA(),e.TgZ(3,"p",19),e._uU(4),e.qZA()()),2&T){const r=m.$implicit;e.Q6J("value",r),e.xp6(1),e.uIk("data-cy-name","map.search.geocoder.name."+r.title),e.xp6(1),e.Oqu(r.title),e.xp6(2),e.Oqu(r.subTitle)}}function Wt(T,m){if(1&T&&(e.TgZ(0,"mat-optgroup",15),e.YNc(1,Yt,5,4,"mat-option",16),e.qZA()),2&T){const r=e.oxw(2).$implicit;e.Q6J("label","Locations"),e.xp6(1),e.Q6J("ngForOf",r.items)}}function ir(T,m){if(1&T&&(e.ynx(0),e.YNc(1,Wt,2,2,"mat-optgroup",14),e.BQk()),2&T){const r=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",r.items.length)}}function sr(T,m){1&T&&(e.ynx(0,12),e.YNc(1,We,2,1,"ng-container",13),e.YNc(2,$t,2,1,"ng-container",13),e.YNc(3,ut,2,1,"ng-container",13),e.YNc(4,Qt,2,1,"ng-container",13),e.YNc(5,ir,2,1,"ng-container",13),e.BQk()),2&T&&(e.Q6J("ngSwitch",m.$implicit.group),e.xp6(1),e.Q6J("ngSwitchCase","provider"),e.xp6(1),e.Q6J("ngSwitchCase","trackable"),e.xp6(1),e.Q6J("ngSwitchCase","fence"),e.xp6(1),e.Q6J("ngSwitchCase","zone"),e.xp6(1),e.Q6J("ngSwitchCase","geocoder"))}function or(T,m){1&T&&(e.TgZ(0,"div",24),e._UZ(1,"mat-spinner",25),e.qZA())}function ar(T,m){if(1&T){const r=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(r);const D=e.oxw();return e.KtG(D.clearSearchField())}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}}let lr=(()=>{class T{constructor(r,v,D,N){this.mapFacade=r,this.fb=v,this.geocoderService=D,this.mapConfigService=N,this._searchDataList=null,this.isLoading=!1,this.searchTile="Zoom to",this.isFilterActiv=!1,this.filterActivText="Filter active",this.secondFormGroup=this.fb.group({search:[""]})}set dataForSearch(r){this._searchDataList=r,this.setSearchPosition()}ngOnInit(){}ngAfterViewInit(){this.mapConfigService.mapConfigInit$.pipe((0,wt.h)(r=>!0===r),(0,rt.P)()).subscribe(()=>{this.initGeocoder(this.mapConfigService.mapConfig)})}ngOnDestroy(){this.geocoder&&this.geocoder.onRemove(),this.geocoder=null,this.searchPosition=null}displayWith(r){return r.place_name}initGeocoder(r){!r.enableGeoEncoderSearchField||(this.geocoder=this.geocoderService.getGeocoder(r),this.geocoder&&this.mapFacade.onAdd(this.geocoder))}setSearchPosition(){if(!this._searchDataList)return void(this.searchPosition=null);let r="",v=[];this.searchPosition=this.secondFormGroup.get("search").valueChanges.pipe((0,ot.b)(300),(0,fe.b)(D=>v=[]),(0,fe.b)(()=>this.isLoading=!0),(0,fe.b)(D=>{r=D}),(0,se.w)(D=>this.geocoderService.canSearch(r)?this._searchDataList.pipe((0,rt.P)()):(0,et.of)([])),(0,q.U)(D=>r&&D.length?D.filter(N=>!N.properties.isLabel).filter(N=>!N.properties.isCourse).filter(N=>this.filterPredicate(N,r)):[]),(0,q.U)(D=>{const N={};return D.forEach(K=>{const Y=K.properties.objType;Y&&(N[Y]||(N[Y]=[]),N[Y].push(K))}),Object.keys(N).forEach(K=>{v.push({group:K,items:N[K]})}),v}),(0,se.w)(D=>this.geocoderService.canSearch(r)&&this.geocoder?(0,Et.D)(this.geocoder.geocode(r)).pipe((0,Ke.K)(()=>(this.isLoading=!1,(0,et.of)([])))):(0,et.of)([])),(0,q.U)(D=>D.length?(v.push({group:"geocoder",items:D}),this.isLoading=!1,v):(this.isLoading=!1,v)),(0,Ke.K)(D=>(console.log(D),this.isLoading=!1,(0,et.of)([]))))}clearSearchField(){this.secondFormGroup.patchValue({search:""})}selectedPosition(r){const v=r?.option?.value;if(!v)return;const D={duration:1};if(v.bbox){const N=v.bbox;this.mapFacade.fitBounds([[N[0],N[1]],[N[2],N[3]]],D)}else if(v.geometry){const N=(0,at.Z)({type:"FeatureCollection",features:[v]});N&&N[0]!==1/0&&this.mapFacade.fitBounds(N,D),this.mapFacade.setFloor(v.properties?.floor)}else this.mapFacade.flyTo({center:v.center});this.clearSearchField()}filterPredicate(r,v){const D=Y=>Object.keys(Y).reduce((ie,de)=>null==Y[de]?ie:ie+(Array.isArray(Y[de])?"":"object"==typeof Y[de]?D(Y[de]):Y[de])+"\u25ec",""),N=D(r).toLowerCase(),K=v.trim().toLowerCase();return-1!==N.indexOf(K)}}return T.\u0275fac=function(r){return new(r||T)(e.Y36(Me.yk),e.Y36(Ge.QS),e.Y36(Dt.i),e.Y36(Me.BA))},T.\u0275cmp=e.Xpm({type:T,selectors:[["deephub-search-bar"]],inputs:{searchTile:"searchTile",isFilterActiv:"isFilterActiv",dataForSearch:"dataForSearch"},decls:12,vars:9,consts:[[3,"formGroup"],["appearance","outline","floatLabel","never",1,"form-field-remove-error"],["data-cy","map.search.input","matInput","","formControlName","search",3,"placeholder","matAutocomplete"],[3,"optionSelected"],["auto","matAutocomplete"],["class","filter_active",4,"ngIf"],[3,"ngSwitch",4,"ngFor","ngForOf"],["matPrefix",""],["matSuffix","",4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],[1,"filter_active"],["aria-hidden","false"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"label",4,"ngIf"],[3,"label"],["uiMultiLineOption","",3,"value",4,"ngFor","ngForOf"],["uiMultiLineOption","",3,"value"],["mat-line","","data-cy","map.search.provider.name",1,"searchLine"],["mat-line","",1,"searchSubline"],["mat-line","","data-cy","map.search.trackable.name",1,"searchLine"],["mat-line","","data-cy","map.search.fence.name",1,"searchLine"],["mat-line","","data-cy","map.search.zone.name",1,"searchLine"],["mat-line","","data-cy","map.search.geocoder.name",1,"searchLine"],["matSuffix",""],["diameter","20"],["mat-icon-button","","matSuffix","",3,"click"]],template:function(r,v){if(1&r&&(e.TgZ(0,"form",0)(1,"mat-form-field",1),e._UZ(2,"input",2),e.TgZ(3,"mat-autocomplete",3,4),e.NdJ("optionSelected",function(N){return v.selectedPosition(N)}),e.YNc(5,Kt,5,1,"div",5),e.YNc(6,sr,6,6,"ng-container",6),e.ALo(7,"async"),e.qZA(),e.TgZ(8,"mat-icon",7),e._uU(9,"search"),e.qZA(),e.YNc(10,or,2,0,"div",8),e.YNc(11,ar,3,0,"button",9),e.qZA()()),2&r){const D=e.MAs(4);e.Q6J("formGroup",v.secondFormGroup),e.xp6(2),e.Q6J("placeholder",v.searchTile)("matAutocomplete",D),e.xp6(3),e.Q6J("ngIf",v.isFilterActiv),e.xp6(1),e.Q6J("ngForOf",e.lcZ(7,7,v.searchPosition)),e.xp6(4),e.Q6J("ngIf",v.isLoading),e.xp6(1),e.Q6J("ngIf",v.secondFormGroup.get("search").value)}},dependencies:[t.sg,t.O5,t.RF,t.n9,Ge._Y,Ge.Fj,Ge.JJ,Ge.JL,Ge.sg,Ge.u,Rt.KE,Rt.qo,Rt.R9,Zt.Nt,St.ey,St.Nv,St.X2,pt.lW,lt.XC,lt.ZL,Ft.Hw,mt.x,t.Ov],styles:["mat-form-field[_ngcontent-%COMP%]{width:340px}.select-placeholder-container[_ngcontent-%COMP%]{display:flex;align-items:center}.select-placeholder-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:1}.searchLine[_ngcontent-%COMP%], .searchSubline[_ngcontent-%COMP%]{font-size:13px!important;color:#404040}.searchLine[_ngcontent-%COMP%]{font-weight:700}.filter_active[_ngcontent-%COMP%]{line-height:24px;padding:0 16px;display:flex;flex-direction:row;align-items:center}.filter_active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;flex:auto;box-sizing:border-box}.filter_active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:6px}"],changeDetection:0}),T})();const cr=["fileDrop"],dr=function(T){return{left:T}};function fr(T,m){if(1&T){const r=e.EpF();e.TgZ(0,"deephub-content-splitter",3),e.NdJ("showLeftChange",function(D){e.CHM(r);const N=e.oxw();return e.KtG(N.showLeftChange(D))})("showRightChange",function(D){e.CHM(r);const N=e.oxw();return e.KtG(N.showRightChange(D))}),e.ALo(1,"async"),e.ALo(2,"async"),e.TgZ(3,"div",4),e._UZ(4,"router-outlet",5),e.qZA(),e.TgZ(5,"div",6)(6,"div",7),e._UZ(7,"deephub-ui-map",null,8)(9,"deephub-search-bar",9),e.ALo(10,"async"),e.qZA()(),e.TgZ(11,"div",10),e._UZ(12,"router-outlet",11),e.qZA()()}if(2&T){const r=e.oxw();e.Q6J("sidebarRight",300)("sidebarRightUnit","px")("showRight",e.lcZ(1,8,r.mapOneFacade.showRightSidebar$))("showLeft",e.lcZ(2,10,r.mapOneFacade.showLeftSidebar$)),e.xp6(9),e.Q6J("dataForSearch",r.searchBarFacade.featureList$)("ngStyle",e.VKq(14,dr,r.mapFacade.lastOpenedEventLeft&&r.mapFacade.lastOpenedEventLeft.showLeft?r.mapFacade.lastOpenedEventLeft.sidebarLeft+10+r.mapFacade.lastOpenedEventLeft.sidebarLeftUnit:"10px"))("searchTile",r.searchBarFacade.title)("isFilterActiv",e.lcZ(10,12,r.searchBarFacade.isFilterActiv))}}const pr=function(T,m){return{"file-over":T,"file-drop-start":m}};let mr=(()=>{class T{constructor(r,v,D,N,K){this.editFacade=r,this.searchBarFacade=v,this.mapOneFacade=D,this.importExportFacade=N,this.mapFacade=K,this.subs=new Pe.Y,this.hasBaseDropZoneOver=!1,this.dropStart=!1,this.mouseenter=!1,this.subs.add(this.importExportFacade.pushButtonExport$.subscribe(()=>{this.fileDrop.openFileSelector()}))}ngOnDestroy(){this.subs.unsubscribe()}dragenterEnabled(){this.setDropStart(!0)}mouseenterEnabled(){this.mouseenter=!0}mouseleaveEnabled(){this.mouseenter=!1,this.setDropStart(!1,!0)}ngAfterViewInit(){this.resize()}setDropStart(r,v=!1){(this.mouseenter||v)&&(this.dropStart=r)}fileDropBase(r){this.setDropStart(!1,!0),this.hasBaseDropZoneOver=!1,r.length&&this.importExportFacade.importFilesSubject.next(r)}fileOverBase(r){this.hasBaseDropZoneOver=!!r}fileLeaveBase(){this.hasBaseDropZoneOver=!1}resize(){this.mapFacade.resize()}showLeftChange(r){this.mapOneFacade.hideAndShowAlert(r.showLeft),this.mapFacade.lastOpenedEventLeft=r;const v=r.showLeft?r.sidebarLeft+r.sidebarLeftUnit:"0",D=document.querySelector(".mapboxgl-ctrl-top-left");D&&(D.style.left=v);const N=document.querySelector(".mapboxgl-ctrl-bottom-left");N&&(N.style.left=v)}showRightChange(r){this.mapFacade.lastOpenedEventRight=r;const v=r.showRight?r.sidebarRight+r.sidebarRightUnit:"0",D=document.querySelector(".mapboxgl-ctrl-top-right");D&&(D.style.right=v);const N=document.querySelector(".mapboxgl-ctrl-bottom-right");N&&(N.style.right=v)}}return T.\u0275fac=function(r){return new(r||T)(e.Y36(Me.Eg),e.Y36(je.w),e.Y36(qe),e.Y36(He.dw),e.Y36(Me.yk))},T.\u0275cmp=e.Xpm({type:T,selectors:[["deephub-one-page"]],viewQuery:function(r,v){if(1&r&&e.Gf(cr,7),2&r){let D;e.iGM(D=e.CRH())&&(v.fileDrop=D.first)}},hostBindings:function(r,v){1&r&&e.NdJ("dragenter",function(){return v.dragenterEnabled()},!1,e.evT)("mouseenter",function(){return v.mouseenterEnabled()},!1,e.evT)("mouseleave",function(){return v.mouseleaveEnabled()},!1,e.evT)},decls:4,vars:6,consts:[["data-cy","import-file-drop",1,"file-dropbox","file-over-body",3,"ngClass","dropZoneClassName","contentClassName","onFileOver","onFileLeave","onFileDrop"],["fileDrop",""],["ngx-file-drop-content-tmp",""],[3,"sidebarRight","sidebarRightUnit","showRight","showLeft","showLeftChange","showRightChange"],["deephubCsSidebarLeft",""],["name","left"],["fxLayout","column",2,"height","100%"],["fxFlex","",2,"position","relative"],["map",""],[1,"search-bar",3,"dataForSearch","ngStyle","searchTile","isFilterActiv"],["deephubCsSidebarRight","","data-cy","detail.panel.right"],["name","right"]],template:function(r,v){1&r&&(e.TgZ(0,"ngx-file-drop",0,1),e.NdJ("onFileOver",function(N){return v.fileOverBase(N)})("onFileLeave",function(){return v.fileLeaveBase()})("onFileDrop",function(N){return v.fileDropBase(N)}),e.YNc(2,fr,13,16,"ng-template",2),e.qZA(),e._UZ(3,"router-outlet")),2&r&&e.Q6J("ngClass",e.WLB(3,pr,v.hasBaseDropZoneOver,v.dropStart))("dropZoneClassName","deephub-file-drop__drop-zone")("contentClassName","deephub-file-drop__content")},dependencies:[t.mk,t.PC,o.lC,g.xw,g.yH,P,R,Ye.G,Te,ne,he,lr,t.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;flex:1;display:flex;position:relative}deephub-content-splitter[_ngcontent-%COMP%]{position:absolute;inset:0;height:100%;width:100%}div[deephubcssidebarleft][_ngcontent-%COMP%], div[deephubCsSidebarRight][_ngcontent-%COMP%]{height:100%}.search-bar[_ngcontent-%COMP%]{position:absolute;top:10px;transition:.4s cubic-bezier(.25,.8,.25,1)}"],changeDetection:0}),T})()},45022:(V,s,i)=>{"use strict";i.d(s,{zX:()=>h,dw:()=>u,pY:()=>O});var t=i(13017),o=i(62557),g=i(39646),e=i(70262),d=i(68745),c=i(94650);let h=(()=>{class p{constructor(b,_){this.subs=new d.Y,this.pushExportButton=!1,this.readerService=b,this.filerSaverService=_}importFiles(b){const _=[];for(const A of b)A.fileEntry.isFile&&_.push(this.readerService.readFileByFileSystemFileEntryAsJSON(A.fileEntry)),this.subs.add((0,o.$)(..._).pipe((0,e.K)(z=>(0,g.of)(z))).subscribe(z=>{let Q=[];for(const W of z){const q=this.isType(W);q&&(Q=[...Q,...q])}this.showImportView(Q,z)}))}exportData(){this.pushExportButton||(this.pushExportButton=!0,this.subs.add(this.getExportData().subscribe(b=>{this.filerSaverService.exportData(b,this.saveFileName),this.pushExportButton=!1})))}ngOnDestroy(){this.subs.unsubscribe()}}return p.\u0275fac=function(b){return new(b||p)(c.Y36(t.p),c.Y36(t.K))},p.\u0275cmp=c.Xpm({type:p,selectors:[["ng-component"]],decls:0,vars:0,template:function(b,_){},encapsulation:2}),p})();var a=i(74411),f=i.n(a),y=i(6892),$=i.n(y);let O=(()=>{class p{constructor(){this.ajv=$()(new(f())({allErrors:!0,removeAdditional:"all"})),this.ajv.addSchema(R,"zoneImportApiSchema"),this.ajv.addSchema(w,"zoneImportSchema"),this.ajv.addSchema(P,"fenceImportApiSchema"),this.ajv.addSchema(n,"fenceImportSchema"),this.ajv.addSchema(l,"fenceRegion")}validateSchema(b,_){return this.ajv.validate(b,_)?null:this.ajv.errors}}return p.\u0275fac=function(b){return new(b||p)},p.\u0275prov=c.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const R={title:"zone import api schema",description:"describes properties required to import zones",type:"object",properties:{apiVersion:{type:"string",description:"api version from hub"},zoneData:{type:"array",description:"zone data"}},required:["apiVersion","zoneData"]},P={title:"fence import api schema",description:"describes properties required to import fences",type:"object",properties:{apiVersion:{type:"string",description:"api version from hub"},fenceData:{type:"array",description:"fence data"}},required:["apiVersion","fenceData"]},w={title:"zone import schema",description:"describes properties required to zone",type:"object",properties:{name:{type:"string",description:"Name of the zone."},floor:{type:"number",description:"The canonical representation of the floor level, where floor 0 is the ground floor. If no floor is set or floor is null the fence is applied to all floor levels."},ground_control_points:{type:"array",description:"An array containing a mapping between geographic coordinates (longitude, latitude) in WGS84 and relative coordinates (x,y) provided by the positioning system of this zone."},need_transformation:{type:"boolean",description:"Whether the positions provided by the zone need transformation from local coordinates into real world coordinates. Coordinates MUST be in WGS84 projection if no transformation is to be applied."},position:{type:"object"},type:{type:"string",description:"The positioning system type."},id:{type:"string",description:"A unique identifier for this zone, e.g. UUID."},foreign_id:{type:"string",description:"A foreign identifier related to this zone, e.g. a RFID scanner or a WiFi map hierarchy."},site:{type:"string",description:"site of zone"},building:{type:"string",description:"building of zone"},description:{type:"string",description:"An optional description provided as additional info to this zone."},address:{type:"string",description:"An address describing the location of this zone."},radius:{type:"number",description:"For proxmity based systems. Describes the zone as a circular region with a given radius in meters around the position. The radius MUST be ignored for non-proximity based position providers."},measurement_timestamp:{type:"string",description:"The timestamp identifying when the EPSG:4326 coordinates for the zone definition were recorded. Using this value for location data processing is OPTIONAL. This value MAY be used for advanced coordinate projection. For example, to reflect tectonic drift of WGS84 location data which is fixed at the North American plate."},incomplete_configuration:{type:"boolean",description:"Set to true to use an incomplete zone, which has to be further configured later. By default a complete configuration is required."},properties:{type:["object","null"],description:"Any additional application or vendor specific properties. An application implementing this object is not required to interpret any of the custom properties, but it MUST preserve the properties if set."}},required:["type"],oneOf:[{required:["position"]},{required:["ground_control_points"]}]},n={title:"fence import schema",description:"describes properties required to fence",type:"object",properties:{id:{type:"string",description:"id of the fence"},name:{type:"string",description:"A textual representation of the fence."},region:{type:"object",description:"GeoJson Polygon geometry. Important: A Polygon object MUST be interpreted according to a coordinate reference system (crs). The ordering of components is x,y,z or longitude,latitude,elevation respectively as according to the GeoJson specification."},floor:{type:"number",description:"The canonical representation of the floor level, where floor 0 is the ground floor."},radius:{type:"number",description:"If the region is a GeographicPoint the radius defines a circular region about that point in meters. The radius value is ignored for polygonal regions."},extrusion:{type:"number",description:"The extrusion to be applied to the region. Note: Extrusion can only be applied to a polygon."},foreign_id:{type:"string",description:"The foreign_id represents a foreign unique identifier for the origin of a fence event (like an UWB zone id or an ibeacon identifier). If a foreign_id is set the foreign id MUST be resolved by an upper layer service like OMLOX Hub to the fence_id."},timeout:{type:"number",description:"The timeout in milliseconds after which a location should expire and trigger a fence exit event, if no more location update is sent. Must be a positive number. If not set or 0 will default to infinite."},exit_tolerance:{type:"number",minimum:0,description:"The distance tolerance to a fence in meters before an exit event is triggered. Useful for locations nearby or on the border of a fence to avoid fluctuating fence entry / exit events. For example, a location which was previously inside a fence will remain within the fence when its distance to the fence is less or equal given tolerance. Must be a positive number. If not set or null exit_tolerance will default to 0."},tolerance_timeout:{type:"number",description:"The timeout in milliseconds after which a location outside of a fence but still within exit_tolerance distance to that fence should trigger a fence exit event. For example, assume an exit_tolerance of 1m: A location previously within the fence is now located 50cm outside of the fence and remains within given exit_tolerance distance to that fence. An exit event is triggered after tolerance_timeout when the location remains outside of the fence. Must be a positive number. If not set or null the timeout will be infinite."},exit_delay:{type:"number",description:"The delay in milliseconds in which an imminent exit event should wait for another location update. This is relevant for fast rate position updates with quick moving objects. For example, an RTLS provider may batch location updates into groups, resulting in distances being temporarily outdated and premature events between quick moving objects. If not set, or null, exit_delay will default to 0."},crs:{type:"string",description:"A projection identifier defining the projection of the fence region coordinates. The crs MUST be either a valid EPSG identifier (https://epsg.io) or 'local' if the fence region is provided as relative coordinates of a zone. If crs is not present, 'EPSG:4326' (\"GPS\") MUST be assumed as the default."},zone_id:{type:"string",description:"The zone id related to the fence's region. This field MUST be present in case crs projection is set to 'local'."},elevation_ref:{type:"string",description:"An elevation reference hint for the position's z component. If present, it MUST be either 'floor' or 'wgs84'. If set to 'floor' the z component MUST be assumed to be relative to the floor level. If set to 'wgs84' the z component MUST be treated as WGS84 ellipsoidal height. For the majority of applications an accurate geographic height may not be available. Therefore elevation_ref MUST be assumed 'floor' by default if this property is not present."},properties:{type:["object","null"],description:"Any additional application or vendor specific properties. An application implementing this object is not required to interpret any of the custom properties, but it MUST preserve the properties if set."}},required:["region"]},l={title:"fence import schema",description:"describes properties required to fence",type:"object",properties:{type:{type:"string",description:"geometry type",enum:["Point","Polygon"],errorMessage:{type:"${0}: Unsupported geometry type. The type must be either point or polygon.",enum:"${0}: Unsupported geometry type. The type must be either point or polygon."}},coordinates:{type:"array",description:"coordinates of geometry"}},required:["type","coordinates"]};var C=i(77579);let u=(()=>{class p{constructor(){this.importFilesSubject=new C.x,this.importFiles$=this.importFilesSubject.asObservable(),this.exportFilesSubject=new C.x,this.exportFiles$=this.exportFilesSubject.asObservable(),this.pushButtonExportSubject=new C.x,this.pushButtonExport$=this.pushButtonExportSubject.asObservable()}}return p.\u0275fac=function(b){return new(b||p)},p.\u0275prov=c.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},24088:(V,s,i)=>{"use strict";i.d(s,{x:()=>g});var t=i(3238),o=i(94650);let g=(()=>{class e{constructor(c){this.element=c}ngAfterContentInit(){(0,t.E0)(this.lines,this.element)}}return e.\u0275fac=function(c){return new(c||e)(o.Y36(o.SBq))},e.\u0275dir=o.lG2({type:e,selectors:[["mat-option","uiMultiLineOption",""],["mat-option","ui-multi-line-option",""]],contentQueries:function(c,h,a){if(1&c&&o.Suo(a,t.X2,5,t.X2),2&c){let f;o.iGM(f=o.CRH())&&(h.lines=f)}},hostAttrs:[1,"ui-multi-line-option"],exportAs:["uiMultiLineOption"]}),e})()},27002:(V,s,i)=>{"use strict";i.d(s,{w:()=>a,T:()=>c});var t=i(36895),o=i(24006),g=i(33165),e=i(94650);let d=(()=>{class f{}return f.\u0275fac=function($){return new($||f)},f.\u0275mod=e.oAB({type:f}),f.\u0275inj=e.cJS({imports:[t.ez]}),f})(),c=(()=>{class f{}return f.\u0275fac=function($){return new($||f)},f.\u0275mod=e.oAB({type:f}),f.\u0275inj=e.cJS({imports:[t.ez,o.u5,o.UX,g.$,d]}),f})();var h=i(61135);let a=(()=>{class f{constructor(){this.title="Zoom to"}get isFilterActiv(){return this._isFilterActiv}set isFilterActiv($){this._isFilterActiv=$||new h.X(!1).asObservable()}}return f.\u0275fac=function($){return new($||f)},f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},27524:(V,s,i)=>{"use strict";i.d(s,{i:()=>R});var t=i(88545);class o{setGeocoder(w){this.geocoder=w}getItems(w){return w.map(n=>{const l=n.place_name.split(",");return n.title=l[0],n.subTitle=l.splice(1,l.length).join(","),n})}}class g extends o{constructor(w){super(),this.setGeocoder(new t({marker:!!w.marker&&w.marker,language:w.language?w.language:"en",minLength:w.minLength?w.minLength:2,accessToken:w.accessToken}))}geocode(w){return this.geocoder._geocode(w).then(n=>Array.isArray(n)||!n.body.features.length?[]:this.getItems(n.body.features))}onRemove(){this.geocoder.options.trackProximity&&this.geocoder._map&&this.geocoder._map.off("moveend",this.geocoder._updateProximity),this.geocoder._removeMarker(),this.geocoder._map=null,this.geocoder=null}onAdd(w){return this.geocoder.onAdd(w)}}var e=i(15861),d=i(57744),c=i.n(d),h=i(59069),a=i.n(h);const f=["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"];class y extends(a()){constructor(w){super();let n=w||{};if(this.key_=n.key,!this.key_)throw Error("No key provided.");if(this.autocompleteWaitMs_=n.autocompleteWaitMs||500,this.input_=null,n.input){let l=n.input;l="string"==typeof l?document.getElementById(l):l,l&&this.setInput_(l)}this.language_=null,this.bounds_=null,this.proximity_=null,this.setLanguage(n.language||null),this.setBounds(n.bounds||null),this.setProximity(n.proximity||null)}setInput_(w){this.input_=w,this.input_.classList.add("maptiler-geocoder"),this.input_.maxLength=60,this.autocomplete_=c()({input:this.input_,emptyMsg:"No results",minLength:2,debounceWaitMs:this.autocompleteWaitMs_,className:"maptiler-geocoder-results",fetch:(n,l)=>{this.input_.classList.add("working"),this.geocode(n).then(C=>{l(C.features),this.input_.classList.remove("working")}).catch(C=>{console.error("Geocoding error:",C),this.input_.classList.remove("working")})},onSelect:n=>{this.input_.value="",this.emit("select",n)},render:(n,l)=>{let C=n.text||n.place_name,u=n.context?n.context.map(A=>A.text).join(", "):"",p=document.createElement("span");p.className="item-name",p.textContent=C;let E=document.createElement("span");E.className="item-context",E.textContent=u;let b=document.createElement("span");b.className="item-type",b.textContent=n.place_type;const _=document.createElement("div");return _.append(p,E,b),_.addEventListener("mouseover",A=>{this.emit("hover",n)}),_}})}setLanguage(w){if(w){Array.isArray(w)||(w=[w]);let n=w.filter(l=>-1==f.indexOf(l));if(n.length)throw Error(`Invalid language codes: ${n.join(", ")}`)}this.language_=w}setBounds(w){if(w&&(4!==w.length||(w=w.map(n=>parseFloat(n)),isNaN(w[0])||isNaN(w[1])||isNaN(w[2])||isNaN(w[3])||w[0]<-180||w[0]>180||w[1]<-90||w[1]>90||w[2]<-180||w[2]>180||w[3]<-90||w[3]>90||w[0]>w[2]||w[1]>w[3])))throw Error("Invalid bounds");this.bounds_=w}setProximity(w){if(w){if(2!==w.length)throw Error("Invalid proximity syntax");if(w=w.map(n=>parseFloat(n)),isNaN(w[0])||isNaN(w[1])||w[0]<-180||w[0]>180||w[1]<-90||w[1]>90)throw Error("Invalid proximity value")}this.proximity_=w}getQueryUrl(w){let n=`https://api.maptiler.com/geocoding/${w=encodeURIComponent(w)}.json?key=${this.key_}`;return this.language_&&(n+="&language="+this.language_),this.bounds_&&(n+="&bbox="+this.bounds_.join(",")),this.proximity_&&(n+="&proximity="+this.proximity_.join(",")),n}geocode(w){return fetch(this.getQueryUrl(w)).then(n=>n.json())}}class $ extends o{constructor(w){super(),this.setGeocoder(new y({language:w.language?w.language:"en",key:w.accessToken}))}geocode(w){var n=this;return(0,e.Z)(function*(){return n.geocoder.geocode(w).then(l=>Array.isArray(l)||!l.features.length?[]:n.getItems(l.features))})()}onAdd(){}onRemove(){}}var O=i(94650);let R=(()=>{class P{constructor(){this.minLength=2}getGeocoder(n){return this.geocodeConfig=n,this.minLength=void 0!==n?.minLength?n.minLength:this.minLength,this.geocodeConfig.accessToken?"maptiler"===this.geocodeConfig.mapSource?new $(this.geocodeConfig):new g(this.geocodeConfig):null}canSearch(n){return!("string"!=typeof n||n.length<this.minLength)}}return P.\u0275fac=function(n){return new(n||P)},P.\u0275prov=O.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},13017:(V,s,i)=>{"use strict";i.d(s,{K:()=>g,p:()=>f});var t=i(94327),o=i(94650);let g=(()=>{class y{constructor(){}exportData(O,R){(0,t.saveAs)(O,R)}}return y.\u0275fac=function(O){return new(O||y)},y.\u0275prov=o.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();var e=i(69751),d=i(39646),c=i(54004),h=i(63900),a=i(70262);let f=(()=>{class y{constructor(){}readFileByFileSystemFileEntry(O){return new e.y(R=>{O.file(P=>{R.next(P),R.complete()})})}readFile(O){return new e.y(R=>{const P=new FileReader;P.onload=w=>{R.next(w.target.result.toString()),R.complete()},P.onerror=w=>{R.error(w)},P.readAsText(O)})}readFileAsJSON(O){return this.readFile(O).pipe((0,c.U)(R=>JSON.parse(R)))}readFileByFileSystemFileEntryAsJSON(O){return this.readFileByFileSystemFileEntry(O).pipe((0,h.w)(R=>this.readFileAsJSON(R)),(0,a.K)(R=>R instanceof Error?(0,d.of)(R):(0,d.of)(new Error(R))))}}return y.\u0275fac=function(O){return new(O||y)},y.\u0275prov=o.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},6892:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(74411),o=i(56382),g=i(26295),e=i(66764),d=i(75091),c=i(5976),h="errorMessage",a=new t.Name("emUsed"),f={required:"missingProperty",dependencies:"property",dependentRequired:"property"},y=/\$\{[^}]+\}/,$=/\$\{([^}]+)\}/g,O=/^""\s*\+\s*|\s*\+\s*""$/g;const P=(w,n={})=>{if(!w.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(w.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return w.addKeyword(function R(w){return{keyword:h,schemaType:["string","object"],post:!0,code(n){const{gen:l,data:C,schema:u,schemaValue:p,it:E}=n;if(!1===E.createErrors)return;const b=u,_=o.strConcat(c.default.instancePath,E.errorPath);function fe(G,M){return o.and(t._`${G}.keyword !== ${h}`,t._`!${G}.${a}`,t._`${G}.instancePath === ${_}`,t._`${G}.keyword in ${M}`,t._`${G}.schemaPath.indexOf(${E.errSchemaPath}) === 0`,t._`/^\\/[^\\/]*$/.test(${G}.schemaPath.slice(${E.errSchemaPath.length}))`)}function me(G,M){const x=[];for(const S in G){const I=M[S];y.test(I)&&x.push([S,Se(I)])}return l.object(...x)}function ce(G){return y.test(G)?new g._Code(g.safeStringify(G).replace($,(M,x)=>`" + JSON.stringify(${e.getData(x,E)}) + "`).replace(O,"")):t.stringify(G)}function Se(G){return t._`function(){return ${ce(G)}}`}l.if(t._`${c.default.errors} > 0`,()=>{if("object"==typeof b){const[M,x]=function z(G){let M,x;for(const S in G){if("properties"===S||"items"===S)continue;const I=G[S];if("object"==typeof I){M||(M={});const F=M[S]={};for(const J in I)F[J]=[]}else x||(x={}),x[S]=[]}return[M,x]}(b);x&&function Q(G){const M=l.const("emErrors",t.stringify(G)),x=l.const("templates",me(G,u));l.forOf("err",c.default.vErrors,J=>l.if(fe(J,M),()=>l.code(t._`${M}[${J}.keyword].push(${J})`).assign(t._`${J}.${a}`,!0)));const{singleError:S}=w;if(S){const J=l.let("message",t._`""`),ee=l.let("paramsErrors",t._`[]`);I(ae=>{l.if(J,()=>l.code(t._`${J} += ${"string"==typeof S?S:";"}`)),l.code(t._`${J} += ${F(ae)}`),l.assign(ee,t._`${ee}.concat(${M}[${ae}])`)}),d.reportError(n,{message:J,params:t._`{errors: ${ee}}`})}else I(J=>d.reportError(n,{message:F(J),params:t._`{errors: ${M}[${J}]}`}));function I(J){l.forIn("key",M,ee=>l.if(t._`${M}[${ee}].length`,()=>J(ee)))}function F(J){return t._`${J} in ${x} ? ${x}[${J}]() : ${p}[${J}]`}}(x),M&&function W(G){const M=l.const("emErrors",t.stringify(G)),x=[];for(const ee in G)x.push([ee,me(G[ee],u[ee])]);const S=l.const("templates",l.object(...x)),I=l.scopeValue("obj",{ref:f,code:t.stringify(f)}),F=l.let("emPropParams"),J=l.let("emParamsErrors");l.forOf("err",c.default.vErrors,ee=>l.if(fe(ee,M),()=>{l.assign(F,t._`${I}[${ee}.keyword]`),l.assign(J,t._`${M}[${ee}.keyword][${ee}.params[${F}]]`),l.if(J,()=>l.code(t._`${J}.push(${ee})`).assign(t._`${ee}.${a}`,!0))})),l.forIn("key",M,ee=>l.forIn("keyProp",t._`${M}[${ee}]`,ae=>{l.assign(J,t._`${M}[${ee}][${ae}]`),l.if(t._`${J}.length`,()=>{const Ee=l.const("tmpl",t._`${S}[${ee}] && ${S}[${ee}][${ae}]`);d.reportError(n,{message:t._`${Ee} ? ${Ee}() : ${p}[${ee}][${ae}]`,params:t._`{errors: ${J}}`})})}))}(M),function q(G){const{props:M,items:x}=G;if(!M&&!x)return;const S=t._`typeof ${C} == "object"`,I=t._`Array.isArray(${C})`,F=l.let("emErrors");let J,ee;const ae=l.let("templates");function Ee(U,B){l.assign(F,t.stringify(U)),l.assign(ae,me(U,B))}M&&x?(J=l.let("emChildKwd"),l.if(S),l.if(I,()=>{Ee(x,u.items),l.assign(J,t.str`items`)},()=>{Ee(M,u.properties),l.assign(J,t.str`properties`)}),ee=t._`[${J}]`):x?(l.if(I),Ee(x,u.items),ee=t._`.items`):M&&(l.if(o.and(S,o.not(I))),Ee(M,u.properties),ee=t._`.properties`),l.forOf("err",c.default.vErrors,U=>function se(G,M,x){l.if(o.and(t._`${G}.keyword !== ${h}`,t._`!${G}.${a}`,t._`${G}.instancePath.indexOf(${_}) === 0`),()=>{const S=l.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:t._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),I=l.const("emMatches",t._`${S}.exec(${G}.instancePath.slice(${_}.length))`),F=l.const("emChild",t._`${I} && ${I}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);l.if(t._`${F} !== undefined && ${F} in ${M}`,()=>x(F))})}(U,F,B=>l.code(t._`${F}[${B}].push(${U})`).assign(t._`${U}.${a}`,!0))),l.forIn("key",F,U=>l.if(t._`${F}[${U}].length`,()=>{d.reportError(n,{message:t._`${U} in ${ae} ? ${ae}[${U}]() : ${p}${ee}[${U}]`,params:t._`{errors: ${F}[${U}]}`}),l.assign(t._`${c.default.vErrors}[${c.default.errors}-1].instancePath`,t._`${_} + "/" + ${U}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),l.endIf()}(function A({properties:G,items:M}){const x={};if(G){x.props={};for(const S in G)x.props[S]=[]}if(M){x.items={};for(let S=0;S<M.length;S++)x.items[S]=[]}return x}(b))}const G="string"==typeof b?b:b._;G&&function ue(G){const M=l.const("emErrs",t._`[]`);l.forOf("err",c.default.vErrors,x=>l.if(function pe(G){return o.and(t._`${G}.keyword !== ${h}`,t._`!${G}.${a}`,o.or(t._`${G}.instancePath === ${_}`,o.and(t._`${G}.instancePath.indexOf(${_}) === 0`,t._`${G}.instancePath[${_}.length] === "/"`)),t._`${G}.schemaPath.indexOf(${E.errSchemaPath}) === 0`,t._`${G}.schemaPath[${E.errSchemaPath}.length] === "/"`)}(x),()=>l.code(t._`${M}.push(${x})`).assign(t._`${x}.${a}`,!0))),l.if(t._`${M}.length`,()=>d.reportError(n,{message:ce(G),params:t._`{errors: ${M}}`}))}(G),w.keepErrors||function le(){const G=l.const("emErrs",t._`[]`);l.forOf("err",c.default.vErrors,M=>l.if(t._`!${M}.${a}`,()=>l.code(t._`${G}.push(${M})`))),l.assign(c.default.vErrors,G).assign(c.default.errors,t._`${G}.length`)}()})},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}(n))};s.default=P,V.exports=P,V.exports.default=P},74411:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.CodeGen=s.Name=s.nil=s.stringify=s.str=s._=s.KeywordCxt=void 0;const t=i(25910),o=i(77032),g=i(81849),e=i(98),d=["/properties"],c="http://json-schema.org/draft-07/schema";class h extends t.default{_addVocabularies(){super._addVocabularies(),o.default.forEach($=>this.addVocabulary($)),this.opts.discriminator&&this.addKeyword(g.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const $=this.opts.$data?this.$dataMetaSchema(e,d):e;this.addMetaSchema($,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}V.exports=s=h,Object.defineProperty(s,"__esModule",{value:!0}),s.default=h;var a=i(66764);Object.defineProperty(s,"KeywordCxt",{enumerable:!0,get:function(){return a.KeywordCxt}});var f=i(56382);Object.defineProperty(s,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(s,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(s,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(s,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(s,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}})},26295:(V,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.regexpCode=s.getEsmExportName=s.getProperty=s.safeStringify=s.stringify=s.strConcat=s.addCodeArg=s.str=s._=s.nil=s._Code=s.Name=s.IDENTIFIER=s._CodeOrName=void 0;class i{}s._CodeOrName=i,s.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class t extends i{constructor(l){if(super(),!s.IDENTIFIER.test(l))throw new Error("CodeGen: name must be a valid identifier");this.str=l}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}s.Name=t;class o extends i{constructor(l){super(),this._items="string"==typeof l?[l]:l}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const l=this._items[0];return""===l||'""'===l}get str(){var l;return null!==(l=this._str)&&void 0!==l?l:this._str=this._items.reduce((C,u)=>`${C}${u}`,"")}get names(){var l;return null!==(l=this._names)&&void 0!==l?l:this._names=this._items.reduce((C,u)=>(u instanceof t&&(C[u.str]=(C[u.str]||0)+1),C),{})}}function g(n,...l){const C=[n[0]];let u=0;for(;u<l.length;)c(C,l[u]),C.push(n[++u]);return new o(C)}s._Code=o,s.nil=new o(""),s._=g;const e=new o("+");function d(n,...l){const C=[O(n[0])];let u=0;for(;u<l.length;)C.push(e),c(C,l[u]),C.push(e,O(n[++u]));return function h(n){let l=1;for(;l<n.length-1;){if(n[l]===e){const C=a(n[l-1],n[l+1]);if(void 0!==C){n.splice(l-1,3,C);continue}n[l++]="+"}l++}}(C),new o(C)}function c(n,l){l instanceof o?n.push(...l._items):n.push(l instanceof t?l:function y(n){return"number"==typeof n||"boolean"==typeof n||null===n?n:O(Array.isArray(n)?n.join(","):n)}(l))}function a(n,l){return'""'===l?n:'""'===n?l:"string"==typeof n?l instanceof t||'"'!==n[n.length-1]?void 0:"string"!=typeof l?`${n.slice(0,-1)}${l}"`:'"'===l[0]?n.slice(0,-1)+l.slice(1):void 0:"string"!=typeof l||'"'!==l[0]||n instanceof t?void 0:`"${n}${l.slice(1)}`}function O(n){return JSON.stringify(n).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}s.str=d,s.addCodeArg=c,s.strConcat=function f(n,l){return l.emptyStr()?n:n.emptyStr()?l:d`${n}${l}`},s.stringify=function $(n){return new o(O(n))},s.safeStringify=O,s.getProperty=function R(n){return"string"==typeof n&&s.IDENTIFIER.test(n)?new o(`.${n}`):g`[${n}]`},s.getEsmExportName=function P(n){if("string"==typeof n&&s.IDENTIFIER.test(n))return new o(`${n}`);throw new Error(`CodeGen: invalid export name: ${n}, use explicit $id name mapping`)},s.regexpCode=function w(n){return new o(n.toString())}},56382:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.or=s.and=s.not=s.CodeGen=s.operators=s.varKinds=s.ValueScopeName=s.ValueScope=s.Scope=s.Name=s.regexpCode=s.stringify=s.getProperty=s.nil=s.strConcat=s.str=s._=void 0;const t=i(26295),o=i(1917);var g=i(26295);Object.defineProperty(s,"_",{enumerable:!0,get:function(){return g._}}),Object.defineProperty(s,"str",{enumerable:!0,get:function(){return g.str}}),Object.defineProperty(s,"strConcat",{enumerable:!0,get:function(){return g.strConcat}}),Object.defineProperty(s,"nil",{enumerable:!0,get:function(){return g.nil}}),Object.defineProperty(s,"getProperty",{enumerable:!0,get:function(){return g.getProperty}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return g.stringify}}),Object.defineProperty(s,"regexpCode",{enumerable:!0,get:function(){return g.regexpCode}}),Object.defineProperty(s,"Name",{enumerable:!0,get:function(){return g.Name}});var e=i(1917);Object.defineProperty(s,"Scope",{enumerable:!0,get:function(){return e.Scope}}),Object.defineProperty(s,"ValueScope",{enumerable:!0,get:function(){return e.ValueScope}}),Object.defineProperty(s,"ValueScopeName",{enumerable:!0,get:function(){return e.ValueScopeName}}),Object.defineProperty(s,"varKinds",{enumerable:!0,get:function(){return e.varKinds}}),s.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class d{optimizeNodes(){return this}optimizeNames(S,I){return this}}class c extends d{constructor(S,I,F){super(),this.varKind=S,this.name=I,this.rhs=F}render({es5:S,_n:I}){return`${S?o.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+I}optimizeNames(S,I){if(S[this.name.str])return this.rhs&&(this.rhs=le(this.rhs,S,I)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class h extends d{constructor(S,I,F){super(),this.lhs=S,this.rhs=I,this.sideEffects=F}render({_n:S}){return`${this.lhs} = ${this.rhs};`+S}optimizeNames(S,I){if(!(this.lhs instanceof t.Name)||S[this.lhs.str]||this.sideEffects)return this.rhs=le(this.rhs,S,I),this}get names(){return ue(this.lhs instanceof t.Name?{}:{...this.lhs.names},this.rhs)}}class a extends h{constructor(S,I,F,J){super(S,F,J),this.op=I}render({_n:S}){return`${this.lhs} ${this.op}= ${this.rhs};`+S}}class f extends d{constructor(S){super(),this.label=S,this.names={}}render({_n:S}){return`${this.label}:`+S}}class y extends d{constructor(S){super(),this.label=S,this.names={}}render({_n:S}){return`break${this.label?` ${this.label}`:""};`+S}}class $ extends d{constructor(S){super(),this.error=S}render({_n:S}){return`throw ${this.error};`+S}get names(){return this.error.names}}class O extends d{constructor(S){super(),this.code=S}render({_n:S}){return`${this.code};`+S}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(S,I){return this.code=le(this.code,S,I),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class R extends d{constructor(S=[]){super(),this.nodes=S}render(S){return this.nodes.reduce((I,F)=>I+F.render(S),"")}optimizeNodes(){const{nodes:S}=this;let I=S.length;for(;I--;){const F=S[I].optimizeNodes();Array.isArray(F)?S.splice(I,1,...F):F?S[I]=F:S.splice(I,1)}return S.length>0?this:void 0}optimizeNames(S,I){const{nodes:F}=this;let J=F.length;for(;J--;){const ee=F[J];ee.optimizeNames(S,I)||(fe(S,ee.names),F.splice(J,1))}return F.length>0?this:void 0}get names(){return this.nodes.reduce((S,I)=>q(S,I.names),{})}}class P extends R{render(S){return"{"+S._n+super.render(S)+"}"+S._n}}class w extends R{}let n=(()=>{class x extends P{}return x.kind="else",x})(),l=(()=>{class x extends P{constructor(I,F){super(F),this.condition=I}render(I){let F=`if(${this.condition})`+super.render(I);return this.else&&(F+="else "+this.else.render(I)),F}optimizeNodes(){super.optimizeNodes();const I=this.condition;if(!0===I)return this.nodes;let F=this.else;if(F){const J=F.optimizeNodes();F=this.else=Array.isArray(J)?new n(J):J}return F?!1===I?F instanceof x?F:F.nodes:this.nodes.length?this:new x(se(I),F instanceof x?[F]:F.nodes):!1!==I&&this.nodes.length?this:void 0}optimizeNames(I,F){var J;if(this.else=null===(J=this.else)||void 0===J?void 0:J.optimizeNames(I,F),super.optimizeNames(I,F)||this.else)return this.condition=le(this.condition,I,F),this}get names(){const I=super.names;return ue(I,this.condition),this.else&&q(I,this.else.names),I}}return x.kind="if",x})(),C=(()=>{class x extends P{}return x.kind="for",x})();class u extends C{constructor(S){super(),this.iteration=S}render(S){return`for(${this.iteration})`+super.render(S)}optimizeNames(S,I){if(super.optimizeNames(S,I))return this.iteration=le(this.iteration,S,I),this}get names(){return q(super.names,this.iteration.names)}}class p extends C{constructor(S,I,F,J){super(),this.varKind=S,this.name=I,this.from=F,this.to=J}render(S){const I=S.es5?o.varKinds.var:this.varKind,{name:F,from:J,to:ee}=this;return`for(${I} ${F}=${J}; ${F}<${ee}; ${F}++)`+super.render(S)}get names(){const S=ue(super.names,this.from);return ue(S,this.to)}}class E extends C{constructor(S,I,F,J){super(),this.loop=S,this.varKind=I,this.name=F,this.iterable=J}render(S){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(S)}optimizeNames(S,I){if(super.optimizeNames(S,I))return this.iterable=le(this.iterable,S,I),this}get names(){return q(super.names,this.iterable.names)}}let b=(()=>{class x extends P{constructor(I,F,J){super(),this.name=I,this.args=F,this.async=J}render(I){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(I)}}return x.kind="func",x})(),_=(()=>{class x extends R{render(I){return"return "+super.render(I)}}return x.kind="return",x})();class A extends P{render(S){let I="try"+super.render(S);return this.catch&&(I+=this.catch.render(S)),this.finally&&(I+=this.finally.render(S)),I}optimizeNodes(){var S,I;return super.optimizeNodes(),null===(S=this.catch)||void 0===S||S.optimizeNodes(),null===(I=this.finally)||void 0===I||I.optimizeNodes(),this}optimizeNames(S,I){var F,J;return super.optimizeNames(S,I),null===(F=this.catch)||void 0===F||F.optimizeNames(S,I),null===(J=this.finally)||void 0===J||J.optimizeNames(S,I),this}get names(){const S=super.names;return this.catch&&q(S,this.catch.names),this.finally&&q(S,this.finally.names),S}}let z=(()=>{class x extends P{constructor(I){super(),this.error=I}render(I){return`catch(${this.error})`+super.render(I)}}return x.kind="catch",x})(),Q=(()=>{class x extends P{render(I){return"finally"+super.render(I)}}return x.kind="finally",x})();function q(x,S){for(const I in S)x[I]=(x[I]||0)+(S[I]||0);return x}function ue(x,S){return S instanceof t._CodeOrName?q(x,S.names):x}function le(x,S,I){return x instanceof t.Name?F(x):function J(ee){return ee instanceof t._Code&&ee._items.some(ae=>ae instanceof t.Name&&1===S[ae.str]&&void 0!==I[ae.str])}(x)?new t._Code(x._items.reduce((ee,ae)=>(ae instanceof t.Name&&(ae=F(ae)),ae instanceof t._Code?ee.push(...ae._items):ee.push(ae),ee),[])):x;function F(ee){const ae=I[ee.str];return void 0===ae||1!==S[ee.str]?ee:(delete S[ee.str],ae)}}function fe(x,S){for(const I in S)x[I]=(x[I]||0)-(S[I]||0)}function se(x){return"boolean"==typeof x||"number"==typeof x||null===x?!x:t._`!${M(x)}`}s.CodeGen=class W{constructor(S,I={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...I,_n:I.lines?"\n":""},this._extScope=S,this._scope=new o.Scope({parent:S}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(S){return this._scope.name(S)}scopeName(S){return this._extScope.name(S)}scopeValue(S,I){const F=this._extScope.value(S,I);return(this._values[F.prefix]||(this._values[F.prefix]=new Set)).add(F),F}getScopeValue(S,I){return this._extScope.getValue(S,I)}scopeRefs(S){return this._extScope.scopeRefs(S,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(S,I,F,J){const ee=this._scope.toName(I);return void 0!==F&&J&&(this._constants[ee.str]=F),this._leafNode(new c(S,ee,F)),ee}const(S,I,F){return this._def(o.varKinds.const,S,I,F)}let(S,I,F){return this._def(o.varKinds.let,S,I,F)}var(S,I,F){return this._def(o.varKinds.var,S,I,F)}assign(S,I,F){return this._leafNode(new h(S,I,F))}add(S,I){return this._leafNode(new a(S,s.operators.ADD,I))}code(S){return"function"==typeof S?S():S!==t.nil&&this._leafNode(new O(S)),this}object(...S){const I=["{"];for(const[F,J]of S)I.length>1&&I.push(","),I.push(F),(F!==J||this.opts.es5)&&(I.push(":"),(0,t.addCodeArg)(I,J));return I.push("}"),new t._Code(I)}if(S,I,F){if(this._blockNode(new l(S)),I&&F)this.code(I).else().code(F).endIf();else if(I)this.code(I).endIf();else if(F)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(S){return this._elseNode(new l(S))}else(){return this._elseNode(new n)}endIf(){return this._endBlockNode(l,n)}_for(S,I){return this._blockNode(S),I&&this.code(I).endFor(),this}for(S,I){return this._for(new u(S),I)}forRange(S,I,F,J,ee=(this.opts.es5?o.varKinds.var:o.varKinds.let)){const ae=this._scope.toName(S);return this._for(new p(ee,ae,I,F),()=>J(ae))}forOf(S,I,F,J=o.varKinds.const){const ee=this._scope.toName(S);if(this.opts.es5){const ae=I instanceof t.Name?I:this.var("_arr",I);return this.forRange("_i",0,t._`${ae}.length`,Ee=>{this.var(ee,t._`${ae}[${Ee}]`),F(ee)})}return this._for(new E("of",J,ee,I),()=>F(ee))}forIn(S,I,F,J=(this.opts.es5?o.varKinds.var:o.varKinds.const)){if(this.opts.ownProperties)return this.forOf(S,t._`Object.keys(${I})`,F);const ee=this._scope.toName(S);return this._for(new E("in",J,ee,I),()=>F(ee))}endFor(){return this._endBlockNode(C)}label(S){return this._leafNode(new f(S))}break(S){return this._leafNode(new y(S))}return(S){const I=new _;if(this._blockNode(I),this.code(S),1!==I.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(_)}try(S,I,F){if(!I&&!F)throw new Error('CodeGen: "try" without "catch" and "finally"');const J=new A;if(this._blockNode(J),this.code(S),I){const ee=this.name("e");this._currNode=J.catch=new z(ee),I(ee)}return F&&(this._currNode=J.finally=new Q,this.code(F)),this._endBlockNode(z,Q)}throw(S){return this._leafNode(new $(S))}block(S,I){return this._blockStarts.push(this._nodes.length),S&&this.code(S).endBlock(I),this}endBlock(S){const I=this._blockStarts.pop();if(void 0===I)throw new Error("CodeGen: not in self-balancing block");const F=this._nodes.length-I;if(F<0||void 0!==S&&F!==S)throw new Error(`CodeGen: wrong number of nodes: ${F} vs ${S} expected`);return this._nodes.length=I,this}func(S,I=t.nil,F,J){return this._blockNode(new b(S,I,F)),J&&this.code(J).endFunc(),this}endFunc(){return this._endBlockNode(b)}optimize(S=1){for(;S-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(S){return this._currNode.nodes.push(S),this}_blockNode(S){this._currNode.nodes.push(S),this._nodes.push(S)}_endBlockNode(S,I){const F=this._currNode;if(F instanceof S||I&&F instanceof I)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${I?`${S.kind}/${I.kind}`:S.kind}"`)}_elseNode(S){const I=this._currNode;if(!(I instanceof l))throw new Error('CodeGen: "else" without "if"');return this._currNode=I.else=S,this}get _root(){return this._nodes[0]}get _currNode(){const S=this._nodes;return S[S.length-1]}set _currNode(S){const I=this._nodes;I[I.length-1]=S}},s.not=se;const pe=G(s.operators.AND);s.and=function me(...x){return x.reduce(pe)};const ce=G(s.operators.OR);function G(x){return(S,I)=>S===t.nil?I:I===t.nil?S:t._`${M(S)} ${x} ${M(I)}`}function M(x){return x instanceof t.Name?x:t._`(${x})`}s.or=function Se(...x){return x.reduce(ce)}},1917:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ValueScope=s.ValueScopeName=s.Scope=s.varKinds=s.UsedValueState=void 0;const t=i(26295);class o extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var g,a;(a=g=s.UsedValueState||(s.UsedValueState={}))[a.Started=0]="Started",a[a.Completed=1]="Completed",s.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class e{constructor({prefixes:f,parent:y}={}){this._names={},this._prefixes=f,this._parent=y}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){return`${f}${(this._names[f]||this._nameGroup(f)).index++}`}_nameGroup(f){var y,$;if((null===($=null===(y=this._parent)||void 0===y?void 0:y._prefixes)||void 0===$?void 0:$.has(f))||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}s.Scope=e;class d extends t.Name{constructor(f,y){super(y),this.prefix=f}setValue(f,{property:y,itemIndex:$}){this.value=f,this.scopePath=t._`.${new t.Name(y)}[${$}]`}}s.ValueScopeName=d;const c=t._`\n`;s.ValueScope=class h extends e{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?c:t.nil}}get(){return this._scope}name(f){return new d(f,this._newName(f))}value(f,y){var $;if(void 0===y.ref)throw new Error("CodeGen: ref must be passed in value");const O=this.toName(f),{prefix:R}=O,P=null!==($=y.key)&&void 0!==$?$:y.ref;let w=this._values[R];if(w){const C=w.get(P);if(C)return C}else w=this._values[R]=new Map;w.set(P,O);const n=this._scope[R]||(this._scope[R]=[]),l=n.length;return n[l]=y.ref,O.setValue(y,{property:R,itemIndex:l}),O}getValue(f,y){const $=this._values[f];if($)return $.get(y)}scopeRefs(f,y=this._values){return this._reduceValues(y,$=>{if(void 0===$.scopePath)throw new Error(`CodeGen: name "${$}" has no value`);return t._`${f}${$.scopePath}`})}scopeCode(f=this._values,y,$){return this._reduceValues(f,O=>{if(void 0===O.value)throw new Error(`CodeGen: name "${O}" has no value`);return O.value.code},y,$)}_reduceValues(f,y,$={},O){let R=t.nil;for(const P in f){const w=f[P];if(!w)continue;const n=$[P]=$[P]||new Map;w.forEach(l=>{if(n.has(l))return;n.set(l,g.Started);let C=y(l);if(C)R=t._`${R}${this.opts.es5?s.varKinds.var:s.varKinds.const} ${l} = ${C};${this.opts._n}`;else{if(!(C=O?.(l)))throw new o(l);R=t._`${R}${C}${this.opts._n}`}n.set(l,g.Completed)})}return R}}},75091:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.extendErrors=s.resetErrorsCount=s.reportExtraError=s.reportError=s.keyword$DataError=s.keywordError=void 0;const t=i(56382),o=i(97990),g=i(5976);function a(n,l){const C=n.const("err",l);n.if(t._`${g.default.vErrors} === null`,()=>n.assign(g.default.vErrors,t._`[${C}]`),t._`${g.default.vErrors}.push(${C})`),n.code(t._`${g.default.errors}++`)}function f(n,l){const{gen:C,validateName:u,schemaEnv:p}=n;p.$async?C.throw(t._`new ${n.ValidationError}(${l})`):(C.assign(t._`${u}.errors`,l),C.return(!1))}s.keywordError={message:({keyword:n})=>t.str`must pass "${n}" keyword validation`},s.keyword$DataError={message:({keyword:n,schemaType:l})=>l?t.str`"${n}" keyword must be ${l} ($data)`:t.str`"${n}" keyword is invalid ($data)`},s.reportError=function e(n,l=s.keywordError,C,u){const{it:p}=n,{gen:E,compositeRule:b,allErrors:_}=p,A=$(n,l,C);u??(b||_)?a(E,A):f(p,t._`[${A}]`)},s.reportExtraError=function d(n,l=s.keywordError,C){const{it:u}=n,{gen:p,compositeRule:E,allErrors:b}=u;a(p,$(n,l,C)),E||b||f(u,g.default.vErrors)},s.resetErrorsCount=function c(n,l){n.assign(g.default.errors,l),n.if(t._`${g.default.vErrors} !== null`,()=>n.if(l,()=>n.assign(t._`${g.default.vErrors}.length`,l),()=>n.assign(g.default.vErrors,null)))},s.extendErrors=function h({gen:n,keyword:l,schemaValue:C,data:u,errsCount:p,it:E}){if(void 0===p)throw new Error("ajv implementation error");const b=n.name("err");n.forRange("i",p,g.default.errors,_=>{n.const(b,t._`${g.default.vErrors}[${_}]`),n.if(t._`${b}.instancePath === undefined`,()=>n.assign(t._`${b}.instancePath`,(0,t.strConcat)(g.default.instancePath,E.errorPath))),n.assign(t._`${b}.schemaPath`,t.str`${E.errSchemaPath}/${l}`),E.opts.verbose&&(n.assign(t._`${b}.schema`,C),n.assign(t._`${b}.data`,u))})};const y={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function $(n,l,C){const{createErrors:u}=n.it;return!1===u?t._`{}`:function O(n,l,C={}){const{gen:u,it:p}=n,E=[R(p,C),P(n,C)];return function w(n,{params:l,message:C},u){const{keyword:p,data:E,schemaValue:b,it:_}=n,{opts:A,propertyName:z,topSchemaRef:Q,schemaPath:W}=_;u.push([y.keyword,p],[y.params,"function"==typeof l?l(n):l||t._`{}`]),A.messages&&u.push([y.message,"function"==typeof C?C(n):C]),A.verbose&&u.push([y.schema,b],[y.parentSchema,t._`${Q}${W}`],[g.default.data,E]),z&&u.push([y.propertyName,z])}(n,l,E),u.object(...E)}(n,l,C)}function R({errorPath:n},{instancePath:l}){const C=l?t.str`${n}${(0,o.getErrorPath)(l,o.Type.Str)}`:n;return[g.default.instancePath,(0,t.strConcat)(g.default.instancePath,C)]}function P({keyword:n,it:{errSchemaPath:l}},{schemaPath:C,parentSchema:u}){let p=u?l:t.str`${l}/${n}`;return C&&(p=t.str`${p}${(0,o.getErrorPath)(C,o.Type.Str)}`),[y.schemaPath,p]}},17140:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.resolveSchema=s.getCompilingSchema=s.resolveRef=s.compileSchema=s.SchemaEnv=void 0;const t=i(56382),o=i(20496),g=i(5976),e=i(31880),d=i(97990),c=i(66764);class h{constructor(C){var u;let p;this.refs={},this.dynamicAnchors={},"object"==typeof C.schema&&(p=C.schema),this.schema=C.schema,this.schemaId=C.schemaId,this.root=C.root||this,this.baseId=null!==(u=C.baseId)&&void 0!==u?u:(0,e.normalizeId)(p?.[C.schemaId||"$id"]),this.schemaPath=C.schemaPath,this.localRefs=C.localRefs,this.meta=C.meta,this.$async=p?.$async,this.refs={}}}function a(l){const C=$.call(this,l);if(C)return C;const u=(0,e.getFullPath)(this.opts.uriResolver,l.root.baseId),{es5:p,lines:E}=this.opts.code,{ownProperties:b}=this.opts,_=new t.CodeGen(this.scope,{es5:p,lines:E,ownProperties:b});let A;l.$async&&(A=_.scopeValue("Error",{ref:o.default,code:t._`require("ajv/dist/runtime/validation_error").default`}));const z=_.scopeName("validate");l.validateName=z;const Q={gen:_,allErrors:this.opts.allErrors,data:g.default.data,parentData:g.default.parentData,parentDataProperty:g.default.parentDataProperty,dataNames:[g.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:_.scopeValue("schema",!0===this.opts.code.source?{ref:l.schema,code:(0,t.stringify)(l.schema)}:{ref:l.schema}),validateName:z,ValidationError:A,schema:l.schema,schemaEnv:l,rootId:u,baseId:l.baseId||u,schemaPath:t.nil,errSchemaPath:l.schemaPath||(this.opts.jtd?"":"#"),errorPath:t._`""`,opts:this.opts,self:this};let W;try{this._compilations.add(l),(0,c.validateFunctionCode)(Q),_.optimize(this.opts.code.optimize);const q=_.toString();W=`${_.scopeRefs(g.default.scope)}return ${q}`,this.opts.code.process&&(W=this.opts.code.process(W,l));const le=new Function(`${g.default.self}`,`${g.default.scope}`,W)(this,this.scope.get());if(this.scope.value(z,{ref:le}),le.errors=null,le.schema=l.schema,le.schemaEnv=l,l.$async&&(le.$async=!0),!0===this.opts.code.source&&(le.source={validateName:z,validateCode:q,scopeValues:_._values}),this.opts.unevaluated){const{props:fe,items:se}=Q;le.evaluated={props:fe instanceof t.Name?void 0:fe,items:se instanceof t.Name?void 0:se,dynamicProps:fe instanceof t.Name,dynamicItems:se instanceof t.Name},le.source&&(le.source.evaluated=(0,t.stringify)(le.evaluated))}return l.validate=le,l}catch(q){throw delete l.validate,delete l.validateName,W&&this.logger.error("Error compiling schema, function code:",W),q}finally{this._compilations.delete(l)}}function y(l){return(0,e.inlineRef)(l.schema,this.opts.inlineRefs)?l.schema:l.validate?l:a.call(this,l)}function $(l){for(const C of this._compilations)if(O(C,l))return C}function O(l,C){return l.schema===C.schema&&l.root===C.root&&l.baseId===C.baseId}function R(l,C){let u;for(;"string"==typeof(u=this.refs[C]);)C=u;return u||this.schemas[C]||P.call(this,l,C)}function P(l,C){const u=this.opts.uriResolver.parse(C),p=(0,e._getFullPath)(this.opts.uriResolver,u);let E=(0,e.getFullPath)(this.opts.uriResolver,l.baseId,void 0);if(Object.keys(l.schema).length>0&&p===E)return n.call(this,u,l);const b=(0,e.normalizeId)(p),_=this.refs[b]||this.schemas[b];if("string"==typeof _){const A=P.call(this,l,_);return"object"!=typeof A?.schema?void 0:n.call(this,u,A)}if("object"==typeof _?.schema){if(_.validate||a.call(this,_),b===(0,e.normalizeId)(C)){const{schema:A}=_,{schemaId:z}=this.opts,Q=A[z];return Q&&(E=(0,e.resolveUrl)(this.opts.uriResolver,E,Q)),new h({schema:A,schemaId:z,root:l,baseId:E})}return n.call(this,u,_)}}s.SchemaEnv=h,s.compileSchema=a,s.resolveRef=function f(l,C,u){var p;u=(0,e.resolveUrl)(this.opts.uriResolver,C,u);const E=l.refs[u];if(E)return E;let b=R.call(this,l,u);if(void 0===b){const _=null===(p=l.localRefs)||void 0===p?void 0:p[u],{schemaId:A}=this.opts;_&&(b=new h({schema:_,schemaId:A,root:l,baseId:C}))}return void 0!==b?l.refs[u]=y.call(this,b):void 0},s.getCompilingSchema=$,s.resolveSchema=P;const w=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function n(l,{baseId:C,schema:u,root:p}){var E;if("/"!==(null===(E=l.fragment)||void 0===E?void 0:E[0]))return;for(const A of l.fragment.slice(1).split("/")){if("boolean"==typeof u)return;const z=u[(0,d.unescapeFragment)(A)];if(void 0===z)return;const Q="object"==typeof(u=z)&&u[this.opts.schemaId];!w.has(A)&&Q&&(C=(0,e.resolveUrl)(this.opts.uriResolver,C,Q))}let b;if("boolean"!=typeof u&&u.$ref&&!(0,d.schemaHasRulesButRef)(u,this.RULES)){const A=(0,e.resolveUrl)(this.opts.uriResolver,C,u.$ref);b=P.call(this,p,A)}const{schemaId:_}=this.opts;return b=b||new h({schema:u,schemaId:_,root:p,baseId:C}),b.schema!==b.root.schema?b:void 0}},5976:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(56382),o={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};s.default=o},80140:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(31880);class o extends Error{constructor(e,d,c,h){super(h||`can't resolve reference ${c} from id ${d}`),this.missingRef=(0,t.resolveUrl)(e,d,c),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(e,this.missingRef))}}s.default=o},31880:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getSchemaRefs=s.resolveUrl=s.normalizeId=s._getFullPath=s.getFullPath=s.inlineRef=void 0;const t=i(97990),o=i(12559),g=i(23366),e=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);s.inlineRef=function d(n,l=!0){return"boolean"==typeof n||(!0===l?!h(n):!!l&&a(n)<=l)};const c=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function h(n){for(const l in n){if(c.has(l))return!0;const C=n[l];if(Array.isArray(C)&&C.some(h)||"object"==typeof C&&h(C))return!0}return!1}function a(n){let l=0;for(const C in n){if("$ref"===C)return 1/0;if(l++,!e.has(C)&&("object"==typeof n[C]&&(0,t.eachItem)(n[C],u=>l+=a(u)),l===1/0))return 1/0}return l}function f(n,l="",C){!1!==C&&(l=O(l));const u=n.parse(l);return y(n,u)}function y(n,l){return n.serialize(l).split("#")[0]+"#"}s.getFullPath=f,s._getFullPath=y;const $=/#\/?$/;function O(n){return n?n.replace($,""):""}s.normalizeId=O,s.resolveUrl=function R(n,l,C){return C=O(C),n.resolve(l,C)};const P=/^[a-z_][-a-z0-9._]*$/i;s.getSchemaRefs=function w(n,l){if("boolean"==typeof n)return{};const{schemaId:C,uriResolver:u}=this.opts,p=O(n[C]||l),E={"":p},b=f(u,p,!1),_={},A=new Set;return g(n,{allKeys:!0},(W,q,ue,le)=>{if(void 0===le)return;const fe=b+q;let se=E[le];function pe(ce){if(ce=O(se?(0,this.opts.uriResolver.resolve)(se,ce):ce),A.has(ce))throw Q(ce);A.add(ce);let G=this.refs[ce];return"string"==typeof G&&(G=this.refs[G]),"object"==typeof G?z(W,G.schema,ce):ce!==O(fe)&&("#"===ce[0]?(z(W,_[ce],ce),_[ce]=W):this.refs[ce]=fe),ce}function me(ce){if("string"==typeof ce){if(!P.test(ce))throw new Error(`invalid anchor "${ce}"`);pe.call(this,`#${ce}`)}}"string"==typeof W[C]&&(se=pe.call(this,W[C])),me.call(this,W.$anchor),me.call(this,W.$dynamicAnchor),E[q]=se}),_;function z(W,q,ue){if(void 0!==q&&!o(W,q))throw Q(ue)}function Q(W){return new Error(`reference "${W}" resolves to more than one schema`)}}},62848:(V,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getRules=s.isJSONType=void 0;const t=new Set(["string","number","integer","boolean","null","object","array"]);s.isJSONType=function o(e){return"string"==typeof e&&t.has(e)},s.getRules=function g(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},97990:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.checkStrictMode=s.getErrorPath=s.Type=s.useFunc=s.setEvaluated=s.evaluatedPropsToName=s.mergeEvaluated=s.eachItem=s.unescapeJsonPointer=s.escapeJsonPointer=s.escapeFragment=s.unescapeFragment=s.schemaRefOrVal=s.schemaHasRulesButRef=s.schemaHasRules=s.checkUnknownRules=s.alwaysValidSchema=s.toHash=void 0;const t=i(56382),o=i(26295);function d(b,_=b.schema){const{opts:A,self:z}=b;if(!A.strictSchema||"boolean"==typeof _)return;const Q=z.RULES.keywords;for(const W in _)Q[W]||E(b,`unknown keyword: "${W}"`)}function c(b,_){if("boolean"==typeof b)return!b;for(const A in b)if(_[A])return!0;return!1}function $(b){return"number"==typeof b?`${b}`:b.replace(/~/g,"~0").replace(/\//g,"~1")}function O(b){return b.replace(/~1/g,"/").replace(/~0/g,"~")}function P({mergeNames:b,mergeToName:_,mergeValues:A,resultToName:z}){return(Q,W,q,ue)=>{const le=void 0===q?W:q instanceof t.Name?(W instanceof t.Name?b(Q,W,q):_(Q,W,q),q):W instanceof t.Name?(_(Q,q,W),W):A(W,q);return ue!==t.Name||le instanceof t.Name?le:z(Q,le)}}function w(b,_){if(!0===_)return b.var("props",!0);const A=b.var("props",t._`{}`);return void 0!==_&&n(b,A,_),A}function n(b,_,A){Object.keys(A).forEach(z=>b.assign(t._`${_}${(0,t.getProperty)(z)}`,!0))}s.toHash=function g(b){const _={};for(const A of b)_[A]=!0;return _},s.alwaysValidSchema=function e(b,_){return"boolean"==typeof _?_:0===Object.keys(_).length||(d(b,_),!c(_,b.self.RULES.all))},s.checkUnknownRules=d,s.schemaHasRules=c,s.schemaHasRulesButRef=function h(b,_){if("boolean"==typeof b)return!b;for(const A in b)if("$ref"!==A&&_.all[A])return!0;return!1},s.schemaRefOrVal=function a({topSchemaRef:b,schemaPath:_},A,z,Q){if(!Q){if("number"==typeof A||"boolean"==typeof A)return A;if("string"==typeof A)return t._`${A}`}return t._`${b}${_}${(0,t.getProperty)(z)}`},s.unescapeFragment=function f(b){return O(decodeURIComponent(b))},s.escapeFragment=function y(b){return encodeURIComponent($(b))},s.escapeJsonPointer=$,s.unescapeJsonPointer=O,s.eachItem=function R(b,_){if(Array.isArray(b))for(const A of b)_(A);else _(b)},s.mergeEvaluated={props:P({mergeNames:(b,_,A)=>b.if(t._`${A} !== true && ${_} !== undefined`,()=>{b.if(t._`${_} === true`,()=>b.assign(A,!0),()=>b.assign(A,t._`${A} || {}`).code(t._`Object.assign(${A}, ${_})`))}),mergeToName:(b,_,A)=>b.if(t._`${A} !== true`,()=>{!0===_?b.assign(A,!0):(b.assign(A,t._`${A} || {}`),n(b,A,_))}),mergeValues:(b,_)=>!0===b||{...b,..._},resultToName:w}),items:P({mergeNames:(b,_,A)=>b.if(t._`${A} !== true && ${_} !== undefined`,()=>b.assign(A,t._`${_} === true ? true : ${A} > ${_} ? ${A} : ${_}`)),mergeToName:(b,_,A)=>b.if(t._`${A} !== true`,()=>b.assign(A,!0===_||t._`${A} > ${_} ? ${A} : ${_}`)),mergeValues:(b,_)=>!0===b||Math.max(b,_),resultToName:(b,_)=>b.var("items",_)})},s.evaluatedPropsToName=w,s.setEvaluated=n;const l={};var u,b;function E(b,_,A=b.opts.strictSchema){if(A){if(_=`strict mode: ${_}`,!0===A)throw new Error(_);b.self.logger.warn(_)}}s.useFunc=function C(b,_){return b.scopeValue("func",{ref:_,code:l[_.code]||(l[_.code]=new o._Code(_.code))})},(b=u=s.Type||(s.Type={}))[b.Num=0]="Num",b[b.Str=1]="Str",s.getErrorPath=function p(b,_,A){if(b instanceof t.Name){const z=_===u.Num;return A?z?t._`"[" + ${b} + "]"`:t._`"['" + ${b} + "']"`:z?t._`"/" + ${b}`:t._`"/" + ${b}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(b).toString():"/"+$(b)},s.checkStrictMode=E},20368:(V,s)=>{"use strict";function t(g,e){return e.rules.some(d=>o(g,d))}function o(g,e){var d;return void 0!==g[e.keyword]||(null===(d=e.definition.implements)||void 0===d?void 0:d.some(c=>void 0!==g[c]))}Object.defineProperty(s,"__esModule",{value:!0}),s.shouldUseRule=s.shouldUseGroup=s.schemaHasRulesForType=void 0,s.schemaHasRulesForType=function i({schema:g,self:e},d){const c=e.RULES.types[d];return c&&!0!==c&&t(g,c)},s.shouldUseGroup=t,s.shouldUseRule=o},8007:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.boolOrEmptySchema=s.topBoolOrEmptySchema=void 0;const t=i(75091),o=i(56382),g=i(5976),e={message:"boolean schema is false"};function h(a,f){const{gen:y,data:$}=a;(0,t.reportError)({gen:y,keyword:"false schema",data:$,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a},e,void 0,f)}s.topBoolOrEmptySchema=function d(a){const{gen:f,schema:y,validateName:$}=a;!1===y?h(a,!1):"object"==typeof y&&!0===y.$async?f.return(g.default.data):(f.assign(o._`${$}.errors`,null),f.return(!0))},s.boolOrEmptySchema=function c(a,f){const{gen:y,schema:$}=a;!1===$?(y.var(f,!1),h(a)):y.var(f,!0)}},59078:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.reportTypeError=s.checkDataTypes=s.checkDataType=s.coerceAndCheckDataType=s.getJSONTypes=s.getSchemaTypes=s.DataType=void 0;const t=i(62848),o=i(20368),g=i(75091),e=i(56382),d=i(97990);var c,u;function a(u){const p=Array.isArray(u)?u:u?[u]:[];if(p.every(t.isJSONType))return p;throw new Error("type must be JSONType or JSONType[]: "+p.join(","))}(u=c=s.DataType||(s.DataType={}))[u.Correct=0]="Correct",u[u.Wrong=1]="Wrong",s.getSchemaTypes=function h(u){const p=a(u.type);if(p.includes("null")){if(!1===u.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!p.length&&void 0!==u.nullable)throw new Error('"nullable" cannot be used without "type"');!0===u.nullable&&p.push("null")}return p},s.getJSONTypes=a,s.coerceAndCheckDataType=function f(u,p){const{gen:E,data:b,opts:_}=u,A=function $(u,p){return p?u.filter(E=>y.has(E)||"array"===p&&"array"===E):[]}(p,_.coerceTypes),z=p.length>0&&!(0===A.length&&1===p.length&&(0,o.schemaHasRulesForType)(u,p[0]));if(z){const Q=w(p,b,_.strictNumbers,c.Wrong);E.if(Q,()=>{A.length?function O(u,p,E){const{gen:b,data:_,opts:A}=u,z=b.let("dataType",e._`typeof ${_}`),Q=b.let("coerced",e._`undefined`);"array"===A.coerceTypes&&b.if(e._`${z} == 'object' && Array.isArray(${_}) && ${_}.length == 1`,()=>b.assign(_,e._`${_}[0]`).assign(z,e._`typeof ${_}`).if(w(p,_,A.strictNumbers),()=>b.assign(Q,_))),b.if(e._`${Q} !== undefined`);for(const q of E)(y.has(q)||"array"===q&&"array"===A.coerceTypes)&&W(q);function W(q){switch(q){case"string":return void b.elseIf(e._`${z} == "number" || ${z} == "boolean"`).assign(Q,e._`"" + ${_}`).elseIf(e._`${_} === null`).assign(Q,e._`""`);case"number":return void b.elseIf(e._`${z} == "boolean" || ${_} === null
              || (${z} == "string" && ${_} && ${_} == +${_})`).assign(Q,e._`+${_}`);case"integer":return void b.elseIf(e._`${z} === "boolean" || ${_} === null
              || (${z} === "string" && ${_} && ${_} == +${_} && !(${_} % 1))`).assign(Q,e._`+${_}`);case"boolean":return void b.elseIf(e._`${_} === "false" || ${_} === 0 || ${_} === null`).assign(Q,!1).elseIf(e._`${_} === "true" || ${_} === 1`).assign(Q,!0);case"null":return b.elseIf(e._`${_} === "" || ${_} === 0 || ${_} === false`),void b.assign(Q,null);case"array":b.elseIf(e._`${z} === "string" || ${z} === "number"
              || ${z} === "boolean" || ${_} === null`).assign(Q,e._`[${_}]`)}}b.else(),l(u),b.endIf(),b.if(e._`${Q} !== undefined`,()=>{b.assign(_,Q),function R({gen:u,parentData:p,parentDataProperty:E},b){u.if(e._`${p} !== undefined`,()=>u.assign(e._`${p}[${E}]`,b))}(u,Q)})}(u,p,A):l(u)})}return z};const y=new Set(["string","number","integer","boolean","null"]);function P(u,p,E,b=c.Correct){const _=b===c.Correct?e.operators.EQ:e.operators.NEQ;let A;switch(u){case"null":return e._`${p} ${_} null`;case"array":A=e._`Array.isArray(${p})`;break;case"object":A=e._`${p} && typeof ${p} == "object" && !Array.isArray(${p})`;break;case"integer":A=z(e._`!(${p} % 1) && !isNaN(${p})`);break;case"number":A=z();break;default:return e._`typeof ${p} ${_} ${u}`}return b===c.Correct?A:(0,e.not)(A);function z(Q=e.nil){return(0,e.and)(e._`typeof ${p} == "number"`,Q,E?e._`isFinite(${p})`:e.nil)}}function w(u,p,E,b){if(1===u.length)return P(u[0],p,E,b);let _;const A=(0,d.toHash)(u);if(A.array&&A.object){const z=e._`typeof ${p} != "object"`;_=A.null?z:e._`!${p} || ${z}`,delete A.null,delete A.array,delete A.object}else _=e.nil;A.number&&delete A.integer;for(const z in A)_=(0,e.and)(_,P(z,p,E,b));return _}s.checkDataType=P,s.checkDataTypes=w;const n={message:({schema:u})=>`must be ${u}`,params:({schema:u,schemaValue:p})=>"string"==typeof u?e._`{type: ${u}}`:e._`{type: ${p}}`};function l(u){const p=function C(u){const{gen:p,data:E,schema:b}=u,_=(0,d.schemaRefOrVal)(u,b,"type");return{gen:p,keyword:"type",data:E,schema:b.type,schemaCode:_,schemaValue:_,parentSchema:b,params:{},it:u}}(u);(0,g.reportError)(p,n)}s.reportTypeError=l},57866:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.assignDefaults=void 0;const t=i(56382),o=i(97990);function e(d,c,h){const{gen:a,compositeRule:f,data:y,opts:$}=d;if(void 0===h)return;const O=t._`${y}${(0,t.getProperty)(c)}`;if(f)return void(0,o.checkStrictMode)(d,`default is ignored for: ${O}`);let R=t._`${O} === undefined`;"empty"===$.useDefaults&&(R=t._`${R} || ${O} === null || ${O} === ""`),a.if(R,t._`${O} = ${(0,t.stringify)(h)}`)}s.assignDefaults=function g(d,c){const{properties:h,items:a}=d.schema;if("object"===c&&h)for(const f in h)e(d,f,h[f].default);else"array"===c&&Array.isArray(a)&&a.forEach((f,y)=>e(d,y,f.default))}},66764:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getData=s.KeywordCxt=s.validateFunctionCode=void 0;const t=i(8007),o=i(59078),g=i(20368),e=i(59078),d=i(57866),c=i(22707),h=i(62639),a=i(56382),f=i(5976),y=i(31880),$=i(97990),O=i(75091);function P({gen:U,validateName:B,schema:X,schemaEnv:te,opts:oe},re){oe.code.es5?U.func(B,a._`${f.default.data}, ${f.default.valCxt}`,te.$async,()=>{U.code(a._`"use strict"; ${u(X,oe)}`),function n(U,B){U.if(f.default.valCxt,()=>{U.var(f.default.instancePath,a._`${f.default.valCxt}.${f.default.instancePath}`),U.var(f.default.parentData,a._`${f.default.valCxt}.${f.default.parentData}`),U.var(f.default.parentDataProperty,a._`${f.default.valCxt}.${f.default.parentDataProperty}`),U.var(f.default.rootData,a._`${f.default.valCxt}.${f.default.rootData}`),B.dynamicRef&&U.var(f.default.dynamicAnchors,a._`${f.default.valCxt}.${f.default.dynamicAnchors}`)},()=>{U.var(f.default.instancePath,a._`""`),U.var(f.default.parentData,a._`undefined`),U.var(f.default.parentDataProperty,a._`undefined`),U.var(f.default.rootData,f.default.data),B.dynamicRef&&U.var(f.default.dynamicAnchors,a._`{}`)})}(U,oe),U.code(re)}):U.func(B,a._`${f.default.data}, ${function w(U){return a._`{${f.default.instancePath}="", ${f.default.parentData}, ${f.default.parentDataProperty}, ${f.default.rootData}=${f.default.data}${U.dynamicRef?a._`, ${f.default.dynamicAnchors}={}`:a.nil}}={}`}(oe)}`,te.$async,()=>U.code(u(X,oe)).code(re))}function u(U,B){const X="object"==typeof U&&U[B.schemaId];return X&&(B.code.source||B.code.process)?a._`/*# sourceURL=${X} */`:a.nil}function E({schema:U,self:B}){if("boolean"==typeof U)return!U;for(const X in U)if(B.RULES.all[X])return!0;return!1}function b(U){return"boolean"!=typeof U.schema}function A(U){(0,$.checkUnknownRules)(U),function Q(U){const{schema:B,errSchemaPath:X,opts:te,self:oe}=U;B.$ref&&te.ignoreKeywordsWithRef&&(0,$.schemaHasRulesButRef)(B,oe.RULES)&&oe.logger.warn(`$ref: keywords ignored in schema at path "${X}"`)}(U)}function z(U,B){if(U.opts.jtd)return pe(U,[],!1,B);const X=(0,o.getSchemaTypes)(U.schema);pe(U,X,!(0,o.coerceAndCheckDataType)(U,X),B)}function le({gen:U,schemaEnv:B,schema:X,errSchemaPath:te,opts:oe}){const re=X.$comment;if(!0===oe.$comment)U.code(a._`${f.default.self}.logger.log(${re})`);else if("function"==typeof oe.$comment){const ge=a.str`${te}/$comment`,Ae=U.scopeValue("root",{ref:B.root});U.code(a._`${f.default.self}.opts.$comment(${re}, ${ge}, ${Ae}.schema)`)}}function pe(U,B,X,te){const{gen:oe,schema:re,data:ge,allErrors:Ae,opts:xe,self:De}=U,{RULES:we}=De;function ze(ke){!(0,g.shouldUseGroup)(re,ke)||(ke.type?(oe.if((0,e.checkDataType)(ke.type,ge,xe.strictNumbers)),me(U,ke),1===B.length&&B[0]===ke.type&&X&&(oe.else(),(0,e.reportTypeError)(U)),oe.endIf()):me(U,ke),Ae||oe.if(a._`${f.default.errors} === ${te||0}`))}!re.$ref||!xe.ignoreKeywordsWithRef&&(0,$.schemaHasRulesButRef)(re,we)?(xe.jtd||function ce(U,B){U.schemaEnv.meta||!U.opts.strictTypes||(function Se(U,B){if(B.length){if(!U.dataTypes.length)return void(U.dataTypes=B);B.forEach(X=>{S(U.dataTypes,X)||I(U,`type "${X}" not allowed by context "${U.dataTypes.join(",")}"`)}),U.dataTypes=U.dataTypes.filter(X=>S(B,X))}}(U,B),U.opts.allowUnionTypes||function G(U,B){B.length>1&&(2!==B.length||!B.includes("null"))&&I(U,"use allowUnionTypes to allow union type keyword")}(U,B),function M(U,B){const X=U.self.RULES.all;for(const te in X){const oe=X[te];if("object"==typeof oe&&(0,g.shouldUseRule)(U.schema,oe)){const{type:re}=oe.definition;re.length&&!re.some(ge=>x(B,ge))&&I(U,`missing type "${re.join(",")}" for keyword "${te}"`)}}}(U,U.dataTypes))}(U,B),oe.block(()=>{for(const ke of we.rules)ze(ke);ze(we.post)})):oe.block(()=>J(U,"$ref",we.all.$ref.definition))}function me(U,B){const{gen:X,schema:te,opts:{useDefaults:oe}}=U;oe&&(0,d.assignDefaults)(U,B.type),X.block(()=>{for(const re of B.rules)(0,g.shouldUseRule)(te,re)&&J(U,re.keyword,re.definition,B.type)})}function x(U,B){return U.includes(B)||"number"===B&&U.includes("integer")}function S(U,B){return U.includes(B)||"integer"===B&&U.includes("number")}function I(U,B){(0,$.checkStrictMode)(U,B+=` at "${U.schemaEnv.baseId+U.errSchemaPath}" (strictTypes)`,U.opts.strictTypes)}s.validateFunctionCode=function R(U){b(U)&&(A(U),E(U))?function l(U){const{schema:B,opts:X,gen:te}=U;P(U,()=>{X.$comment&&B.$comment&&le(U),function W(U){const{schema:B,opts:X}=U;void 0!==B.default&&X.useDefaults&&X.strictSchema&&(0,$.checkStrictMode)(U,"default is ignored in the schema root")}(U),te.let(f.default.vErrors,null),te.let(f.default.errors,0),X.unevaluated&&function C(U){const{gen:B,validateName:X}=U;U.evaluated=B.const("evaluated",a._`${X}.evaluated`),B.if(a._`${U.evaluated}.dynamicProps`,()=>B.assign(a._`${U.evaluated}.props`,a._`undefined`)),B.if(a._`${U.evaluated}.dynamicItems`,()=>B.assign(a._`${U.evaluated}.items`,a._`undefined`))}(U),z(U),function fe(U){const{gen:B,schemaEnv:X,validateName:te,ValidationError:oe,opts:re}=U;X.$async?B.if(a._`${f.default.errors} === 0`,()=>B.return(f.default.data),()=>B.throw(a._`new ${oe}(${f.default.vErrors})`)):(B.assign(a._`${te}.errors`,f.default.vErrors),re.unevaluated&&function se({gen:U,evaluated:B,props:X,items:te}){X instanceof a.Name&&U.assign(a._`${B}.props`,X),te instanceof a.Name&&U.assign(a._`${B}.items`,te)}(U),B.return(a._`${f.default.errors} === 0`))}(U)})}(U):P(U,()=>(0,t.topBoolOrEmptySchema)(U))};class F{constructor(B,X,te){if((0,c.validateKeywordUsage)(B,X,te),this.gen=B.gen,this.allErrors=B.allErrors,this.keyword=te,this.data=B.data,this.schema=B.schema[te],this.$data=X.$data&&B.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,$.schemaRefOrVal)(B,this.schema,te,this.$data),this.schemaType=X.schemaType,this.parentSchema=B.schema,this.params={},this.it=B,this.def=X,this.$data)this.schemaCode=B.gen.const("vSchema",Ee(this.$data,B));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,X.schemaType,X.allowUndefined))throw new Error(`${te} value must be ${JSON.stringify(X.schemaType)}`);("code"in X?X.trackErrors:!1!==X.errors)&&(this.errsCount=B.gen.const("_errs",f.default.errors))}result(B,X,te){this.failResult((0,a.not)(B),X,te)}failResult(B,X,te){this.gen.if(B),te?te():this.error(),X?(this.gen.else(),X(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(B,X){this.failResult((0,a.not)(B),void 0,X)}fail(B){if(void 0===B)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(B),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(B){if(!this.$data)return this.fail(B);const{schemaCode:X}=this;this.fail(a._`${X} !== undefined && (${(0,a.or)(this.invalid$data(),B)})`)}error(B,X,te){if(X)return this.setParams(X),this._error(B,te),void this.setParams({});this._error(B,te)}_error(B,X){(B?O.reportExtraError:O.reportError)(this,this.def.error,X)}$dataError(){(0,O.reportError)(this,this.def.$dataError||O.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,O.resetErrorsCount)(this.gen,this.errsCount)}ok(B){this.allErrors||this.gen.if(B)}setParams(B,X){X?Object.assign(this.params,B):this.params=B}block$data(B,X,te=a.nil){this.gen.block(()=>{this.check$data(B,te),X()})}check$data(B=a.nil,X=a.nil){if(!this.$data)return;const{gen:te,schemaCode:oe,schemaType:re,def:ge}=this;te.if((0,a.or)(a._`${oe} === undefined`,X)),B!==a.nil&&te.assign(B,!0),(re.length||ge.validateSchema)&&(te.elseIf(this.invalid$data()),this.$dataError(),B!==a.nil&&te.assign(B,!1)),te.else()}invalid$data(){const{gen:B,schemaCode:X,schemaType:te,def:oe,it:re}=this;return(0,a.or)(function ge(){if(te.length){if(!(X instanceof a.Name))throw new Error("ajv implementation error");const xe=Array.isArray(te)?te:[te];return a._`${(0,e.checkDataTypes)(xe,X,re.opts.strictNumbers,e.DataType.Wrong)}`}return a.nil}(),function Ae(){if(oe.validateSchema){const xe=B.scopeValue("validate$data",{ref:oe.validateSchema});return a._`!${xe}(${X})`}return a.nil}())}subschema(B,X){const te=(0,h.getSubschema)(this.it,B);(0,h.extendSubschemaData)(te,this.it,B),(0,h.extendSubschemaMode)(te,B);const oe={...this.it,...te,items:void 0,props:void 0};return function p(U,B){b(U)&&(A(U),E(U))?function _(U,B){const{schema:X,gen:te,opts:oe}=U;oe.$comment&&X.$comment&&le(U),function q(U){const B=U.schema[U.opts.schemaId];B&&(U.baseId=(0,y.resolveUrl)(U.opts.uriResolver,U.baseId,B))}(U),function ue(U){if(U.schema.$async&&!U.schemaEnv.$async)throw new Error("async schema in sync schema")}(U);const re=te.const("_errs",f.default.errors);z(U,re),te.var(B,a._`${re} === ${f.default.errors}`)}(U,B):(0,t.boolOrEmptySchema)(U,B)}(oe,X),oe}mergeEvaluated(B,X){const{it:te,gen:oe}=this;!te.opts.unevaluated||(!0!==te.props&&void 0!==B.props&&(te.props=$.mergeEvaluated.props(oe,B.props,te.props,X)),!0!==te.items&&void 0!==B.items&&(te.items=$.mergeEvaluated.items(oe,B.items,te.items,X)))}mergeValidEvaluated(B,X){const{it:te,gen:oe}=this;if(te.opts.unevaluated&&(!0!==te.props||!0!==te.items))return oe.if(X,()=>this.mergeEvaluated(B,a.Name)),!0}}function J(U,B,X,te){const oe=new F(U,X,B);"code"in X?X.code(oe,te):oe.$data&&X.validate?(0,c.funcKeywordCode)(oe,X):"macro"in X?(0,c.macroKeywordCode)(oe,X):(X.compile||X.validate)&&(0,c.funcKeywordCode)(oe,X)}s.KeywordCxt=F;const ee=/^\/(?:[^~]|~0|~1)*$/,ae=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ee(U,{dataLevel:B,dataNames:X,dataPathArr:te}){let oe,re;if(""===U)return f.default.rootData;if("/"===U[0]){if(!ee.test(U))throw new Error(`Invalid JSON-pointer: ${U}`);oe=U,re=f.default.rootData}else{const De=ae.exec(U);if(!De)throw new Error(`Invalid JSON-pointer: ${U}`);const we=+De[1];if(oe=De[2],"#"===oe){if(we>=B)throw new Error(xe("property/index",we));return te[B-we]}if(we>B)throw new Error(xe("data",we));if(re=X[B-we],!oe)return re}let ge=re;const Ae=oe.split("/");for(const De of Ae)De&&(re=a._`${re}${(0,a.getProperty)((0,$.unescapeJsonPointer)(De))}`,ge=a._`${ge} && ${re}`);return ge;function xe(De,we){return`Cannot access ${De} ${we} levels up, current level is ${B}`}}s.getData=Ee},22707:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.validateKeywordUsage=s.validSchemaType=s.funcKeywordCode=s.macroKeywordCode=void 0;const t=i(56382),o=i(5976),g=i(92812),e=i(75091);function h(R){const{gen:P,data:w,it:n}=R;P.if(n.parentData,()=>P.assign(w,t._`${n.parentData}[${n.parentDataProperty}]`))}function y(R,P,w){if(void 0===w)throw new Error(`keyword "${P}" failed to compile`);return R.scopeValue("keyword","function"==typeof w?{ref:w}:{ref:w,code:(0,t.stringify)(w)})}s.macroKeywordCode=function d(R,P){const{gen:w,keyword:n,schema:l,parentSchema:C,it:u}=R,p=P.macro.call(u.self,l,C,u),E=y(w,n,p);!1!==u.opts.validateSchema&&u.self.validateSchema(p,!0);const b=w.name("valid");R.subschema({schema:p,schemaPath:t.nil,errSchemaPath:`${u.errSchemaPath}/${n}`,topSchemaRef:E,compositeRule:!0},b),R.pass(b,()=>R.error(!0))},s.funcKeywordCode=function c(R,P){var w;const{gen:n,keyword:l,schema:C,parentSchema:u,$data:p,it:E}=R;!function f({schemaEnv:R},P){if(P.async&&!R.$async)throw new Error("async keyword in sync schema")}(E,P);const b=!p&&P.compile?P.compile.call(E.self,C,u,E):P.validate,_=y(n,l,b),A=n.let("valid");function q(le=(P.async?t._`await `:t.nil)){n.assign(A,t._`${le}${(0,g.callValidateCode)(R,_,E.opts.passContext?o.default.this:o.default.self,!("compile"in P&&!p||!1===P.schema))}`,P.modifying)}function ue(le){var fe;n.if((0,t.not)(null!==(fe=P.valid)&&void 0!==fe?fe:A),le)}R.block$data(A,function z(){if(!1===P.errors)q(),P.modifying&&h(R),ue(()=>R.error());else{const le=P.async?function Q(){const le=n.let("ruleErrs",null);return n.try(()=>q(t._`await `),fe=>n.assign(A,!1).if(t._`${fe} instanceof ${E.ValidationError}`,()=>n.assign(le,t._`${fe}.errors`),()=>n.throw(fe))),le}():function W(){const le=t._`${_}.errors`;return n.assign(le,null),q(t.nil),le}();P.modifying&&h(R),ue(()=>function a(R,P){const{gen:w}=R;w.if(t._`Array.isArray(${P})`,()=>{w.assign(o.default.vErrors,t._`${o.default.vErrors} === null ? ${P} : ${o.default.vErrors}.concat(${P})`).assign(o.default.errors,t._`${o.default.vErrors}.length`),(0,e.extendErrors)(R)},()=>R.error())}(R,le))}}),R.ok(null!==(w=P.valid)&&void 0!==w?w:A)},s.validSchemaType=function $(R,P,w=!1){return!P.length||P.some(n=>"array"===n?Array.isArray(R):"object"===n?R&&"object"==typeof R&&!Array.isArray(R):typeof R==n||w&&typeof R>"u")},s.validateKeywordUsage=function O({schema:R,opts:P,self:w,errSchemaPath:n},l,C){if(Array.isArray(l.keyword)?!l.keyword.includes(C):l.keyword!==C)throw new Error("ajv implementation error");const u=l.dependencies;if(u?.some(p=>!Object.prototype.hasOwnProperty.call(R,p)))throw new Error(`parent schema must have dependencies of ${C}: ${u.join(",")}`);if(l.validateSchema&&!l.validateSchema(R[C])){const E=`keyword "${C}" value is invalid at path "${n}": `+w.errorsText(l.validateSchema.errors);if("log"!==P.validateSchema)throw new Error(E);w.logger.error(E)}}},62639:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.extendSubschemaMode=s.extendSubschemaData=s.getSubschema=void 0;const t=i(56382),o=i(97990);s.getSubschema=function g(c,{keyword:h,schemaProp:a,schema:f,schemaPath:y,errSchemaPath:$,topSchemaRef:O}){if(void 0!==h&&void 0!==f)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==h){const R=c.schema[h];return void 0===a?{schema:R,schemaPath:t._`${c.schemaPath}${(0,t.getProperty)(h)}`,errSchemaPath:`${c.errSchemaPath}/${h}`}:{schema:R[a],schemaPath:t._`${c.schemaPath}${(0,t.getProperty)(h)}${(0,t.getProperty)(a)}`,errSchemaPath:`${c.errSchemaPath}/${h}/${(0,o.escapeFragment)(a)}`}}if(void 0!==f){if(void 0===y||void 0===$||void 0===O)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:f,schemaPath:y,topSchemaRef:O,errSchemaPath:$}}throw new Error('either "keyword" or "schema" must be passed')},s.extendSubschemaData=function e(c,h,{dataProp:a,dataPropType:f,data:y,dataTypes:$,propertyName:O}){if(void 0!==y&&void 0!==a)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:R}=h;if(void 0!==a){const{errorPath:w,dataPathArr:n,opts:l}=h;P(R.let("data",t._`${h.data}${(0,t.getProperty)(a)}`,!0)),c.errorPath=t.str`${w}${(0,o.getErrorPath)(a,f,l.jsPropertySyntax)}`,c.parentDataProperty=t._`${a}`,c.dataPathArr=[...n,c.parentDataProperty]}function P(w){c.data=w,c.dataLevel=h.dataLevel+1,c.dataTypes=[],h.definedProperties=new Set,c.parentData=h.data,c.dataNames=[...h.dataNames,w]}void 0!==y&&(P(y instanceof t.Name?y:R.let("data",y,!0)),void 0!==O&&(c.propertyName=O)),$&&(c.dataTypes=$)},s.extendSubschemaMode=function d(c,{jtdDiscriminator:h,jtdMetadata:a,compositeRule:f,createErrors:y,allErrors:$}){void 0!==f&&(c.compositeRule=f),void 0!==y&&(c.createErrors=y),void 0!==$&&(c.allErrors=$),c.jtdDiscriminator=h,c.jtdMetadata=a}},25910:(V,s,i)=>{"use strict";var t=i(17156).default;Object.defineProperty(s,"__esModule",{value:!0}),s.CodeGen=s.Name=s.nil=s.stringify=s.str=s._=s.KeywordCxt=void 0;var o=i(66764);Object.defineProperty(s,"KeywordCxt",{enumerable:!0,get:function(){return o.KeywordCxt}});var g=i(56382);Object.defineProperty(s,"_",{enumerable:!0,get:function(){return g._}}),Object.defineProperty(s,"str",{enumerable:!0,get:function(){return g.str}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return g.stringify}}),Object.defineProperty(s,"nil",{enumerable:!0,get:function(){return g.nil}}),Object.defineProperty(s,"Name",{enumerable:!0,get:function(){return g.Name}}),Object.defineProperty(s,"CodeGen",{enumerable:!0,get:function(){return g.CodeGen}});const e=i(20496),d=i(80140),c=i(62848),h=i(17140),a=i(56382),f=i(31880),y=i(59078),$=i(97990),O=i(64775),R=i(51364),P=(G,M)=>new RegExp(G,M);P.code="new RegExp";const w=["removeAdditional","useDefaults","coerceTypes"],n=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),l={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},C={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function p(G){var M,x,S,I,F,J,ee,ae,Ee,U,B,X,te,oe,re,ge,Ae,xe,De,we,ze,ke,nt,ht,_t;const Fe=G.strict,Ue=null===(M=G.code)||void 0===M?void 0:M.optimize,ft=!0===Ue||void 0===Ue?1:Ue||0,it=null!==(S=null===(x=G.code)||void 0===x?void 0:x.regExp)&&void 0!==S?S:P,Xe=null!==(I=G.uriResolver)&&void 0!==I?I:R.default;return{strictSchema:null===(J=null!==(F=G.strictSchema)&&void 0!==F?F:Fe)||void 0===J||J,strictNumbers:null===(ae=null!==(ee=G.strictNumbers)&&void 0!==ee?ee:Fe)||void 0===ae||ae,strictTypes:null!==(U=null!==(Ee=G.strictTypes)&&void 0!==Ee?Ee:Fe)&&void 0!==U?U:"log",strictTuples:null!==(X=null!==(B=G.strictTuples)&&void 0!==B?B:Fe)&&void 0!==X?X:"log",strictRequired:null!==(oe=null!==(te=G.strictRequired)&&void 0!==te?te:Fe)&&void 0!==oe&&oe,code:G.code?{...G.code,optimize:ft,regExp:it}:{optimize:ft,regExp:it},loopRequired:null!==(re=G.loopRequired)&&void 0!==re?re:200,loopEnum:null!==(ge=G.loopEnum)&&void 0!==ge?ge:200,meta:null===(Ae=G.meta)||void 0===Ae||Ae,messages:null===(xe=G.messages)||void 0===xe||xe,inlineRefs:null===(De=G.inlineRefs)||void 0===De||De,schemaId:null!==(we=G.schemaId)&&void 0!==we?we:"$id",addUsedSchema:null===(ze=G.addUsedSchema)||void 0===ze||ze,validateSchema:null===(ke=G.validateSchema)||void 0===ke||ke,validateFormats:null===(nt=G.validateFormats)||void 0===nt||nt,unicodeRegExp:null===(ht=G.unicodeRegExp)||void 0===ht||ht,int32range:null===(_t=G.int32range)||void 0===_t||_t,uriResolver:Xe}}class E{constructor(M={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,M=this.opts={...M,...p(M)};const{es5:x,lines:S}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:n,es5:x,lines:S}),this.logger=function ue(G){if(!1===G)return q;if(void 0===G)return console;if(G.log&&G.warn&&G.error)return G;throw new Error("logger must implement log, warn and error methods")}(M.logger);const I=M.validateFormats;M.validateFormats=!1,this.RULES=(0,c.getRules)(),b.call(this,l,M,"NOT SUPPORTED"),b.call(this,C,M,"DEPRECATED","warn"),this._metaOpts=W.call(this),M.formats&&z.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),M.keywords&&Q.call(this,M.keywords),"object"==typeof M.meta&&this.addMetaSchema(M.meta),A.call(this),M.validateFormats=I}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:M,meta:x,schemaId:S}=this.opts;let I=O;"id"===S&&(I={...O},I.id=I.$id,delete I.$id),x&&M&&this.addMetaSchema(I,I[S],!1)}defaultMeta(){const{meta:M,schemaId:x}=this.opts;return this.opts.defaultMeta="object"==typeof M?M[x]||M:void 0}validate(M,x){let S;if("string"==typeof M){if(S=this.getSchema(M),!S)throw new Error(`no schema with key or ref "${M}"`)}else S=this.compile(M);const I=S(x);return"$async"in S||(this.errors=S.errors),I}compile(M,x){const S=this._addSchema(M,x);return S.validate||this._compileSchemaEnv(S)}compileAsync(M,x){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:S}=this.opts;return I.call(this,M,x);function I(re,ge){return F.apply(this,arguments)}function F(){return(F=t(function*(re,ge){yield J.call(this,re.$schema);const Ae=this._addSchema(re,ge);return Ae.validate||ae.call(this,Ae)})).apply(this,arguments)}function J(re){return ee.apply(this,arguments)}function ee(){return(ee=t(function*(re){re&&!this.getSchema(re)&&(yield I.call(this,{$ref:re},!0))})).apply(this,arguments)}function ae(re){return Ee.apply(this,arguments)}function Ee(){return(Ee=t(function*(re){try{return this._compileSchemaEnv(re)}catch(ge){if(!(ge instanceof d.default))throw ge;return U.call(this,ge),yield B.call(this,ge.missingSchema),ae.call(this,re)}})).apply(this,arguments)}function U({missingSchema:re,missingRef:ge}){if(this.refs[re])throw new Error(`AnySchema ${re} is loaded but ${ge} cannot be resolved`)}function B(re){return X.apply(this,arguments)}function X(){return(X=t(function*(re){const ge=yield te.call(this,re);this.refs[re]||(yield J.call(this,ge.$schema)),this.refs[re]||this.addSchema(ge,re,x)})).apply(this,arguments)}function te(re){return oe.apply(this,arguments)}function oe(){return(oe=t(function*(re){const ge=this._loading[re];if(ge)return ge;try{return yield this._loading[re]=S(re)}finally{delete this._loading[re]}})).apply(this,arguments)}}addSchema(M,x,S,I=this.opts.validateSchema){if(Array.isArray(M)){for(const J of M)this.addSchema(J,void 0,S,I);return this}let F;if("object"==typeof M){const{schemaId:J}=this.opts;if(F=M[J],void 0!==F&&"string"!=typeof F)throw new Error(`schema ${J} must be string`)}return x=(0,f.normalizeId)(x||F),this._checkUnique(x),this.schemas[x]=this._addSchema(M,S,x,I,!0),this}addMetaSchema(M,x,S=this.opts.validateSchema){return this.addSchema(M,x,!0,S),this}validateSchema(M,x){if("boolean"==typeof M)return!0;let S;if(S=M.$schema,void 0!==S&&"string"!=typeof S)throw new Error("$schema must be a string");if(S=S||this.opts.defaultMeta||this.defaultMeta(),!S)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const I=this.validate(S,M);if(!I&&x){const F="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(F);this.logger.error(F)}return I}getSchema(M){let x;for(;"string"==typeof(x=_.call(this,M));)M=x;if(void 0===x){const{schemaId:S}=this.opts,I=new h.SchemaEnv({schema:{},schemaId:S});if(x=h.resolveSchema.call(this,I,M),!x)return;this.refs[M]=x}return x.validate||this._compileSchemaEnv(x)}removeSchema(M){if(M instanceof RegExp)return this._removeAllSchemas(this.schemas,M),this._removeAllSchemas(this.refs,M),this;switch(typeof M){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const x=_.call(this,M);return"object"==typeof x&&this._cache.delete(x.schema),delete this.schemas[M],delete this.refs[M],this}case"object":{this._cache.delete(M);let S=M[this.opts.schemaId];return S&&(S=(0,f.normalizeId)(S),delete this.schemas[S],delete this.refs[S]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(M){for(const x of M)this.addKeyword(x);return this}addKeyword(M,x){let S;if("string"==typeof M)S=M,"object"==typeof x&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),x.keyword=S);else{if("object"!=typeof M||void 0!==x)throw new Error("invalid addKeywords parameters");if(S=(x=M).keyword,Array.isArray(S)&&!S.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(fe.call(this,S,x),!x)return(0,$.eachItem)(S,F=>se.call(this,F)),this;me.call(this,x);const I={...x,type:(0,y.getJSONTypes)(x.type),schemaType:(0,y.getJSONTypes)(x.schemaType)};return(0,$.eachItem)(S,0===I.type.length?F=>se.call(this,F,I):F=>I.type.forEach(J=>se.call(this,F,I,J))),this}getKeyword(M){const x=this.RULES.all[M];return"object"==typeof x?x.definition:!!x}removeKeyword(M){const{RULES:x}=this;delete x.keywords[M],delete x.all[M];for(const S of x.rules){const I=S.rules.findIndex(F=>F.keyword===M);I>=0&&S.rules.splice(I,1)}return this}addFormat(M,x){return"string"==typeof x&&(x=new RegExp(x)),this.formats[M]=x,this}errorsText(M=this.errors,{separator:x=", ",dataVar:S="data"}={}){return M&&0!==M.length?M.map(I=>`${S}${I.instancePath} ${I.message}`).reduce((I,F)=>I+x+F):"No errors"}$dataMetaSchema(M,x){const S=this.RULES.all;M=JSON.parse(JSON.stringify(M));for(const I of x){const F=I.split("/").slice(1);let J=M;for(const ee of F)J=J[ee];for(const ee in S){const ae=S[ee];if("object"!=typeof ae)continue;const{$data:Ee}=ae.definition,U=J[ee];Ee&&U&&(J[ee]=Se(U))}}return M}_removeAllSchemas(M,x){for(const S in M){const I=M[S];(!x||x.test(S))&&("string"==typeof I?delete M[S]:I&&!I.meta&&(this._cache.delete(I.schema),delete M[S]))}}_addSchema(M,x,S,I=this.opts.validateSchema,F=this.opts.addUsedSchema){let J;const{schemaId:ee}=this.opts;if("object"==typeof M)J=M[ee];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof M)throw new Error("schema must be object or boolean")}let ae=this._cache.get(M);if(void 0!==ae)return ae;S=(0,f.normalizeId)(J||S);const Ee=f.getSchemaRefs.call(this,M,S);return ae=new h.SchemaEnv({schema:M,schemaId:ee,meta:x,baseId:S,localRefs:Ee}),this._cache.set(ae.schema,ae),F&&!S.startsWith("#")&&(S&&this._checkUnique(S),this.refs[S]=ae),I&&this.validateSchema(M,!0),ae}_checkUnique(M){if(this.schemas[M]||this.refs[M])throw new Error(`schema with key or id "${M}" already exists`)}_compileSchemaEnv(M){if(M.meta?this._compileMetaSchema(M):h.compileSchema.call(this,M),!M.validate)throw new Error("ajv implementation error");return M.validate}_compileMetaSchema(M){const x=this.opts;this.opts=this._metaOpts;try{h.compileSchema.call(this,M)}finally{this.opts=x}}}function b(G,M,x,S="error"){for(const I in G){const F=I;F in M&&this.logger[S](`${x}: option ${I}. ${G[F]}`)}}function _(G){return G=(0,f.normalizeId)(G),this.schemas[G]||this.refs[G]}function A(){const G=this.opts.schemas;if(G)if(Array.isArray(G))this.addSchema(G);else for(const M in G)this.addSchema(G[M],M)}function z(){for(const G in this.opts.formats){const M=this.opts.formats[G];M&&this.addFormat(G,M)}}function Q(G){if(Array.isArray(G))this.addVocabulary(G);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const M in G){const x=G[M];x.keyword||(x.keyword=M),this.addKeyword(x)}}}function W(){const G={...this.opts};for(const M of w)delete G[M];return G}s.default=E,E.ValidationError=e.default,E.MissingRefError=d.default;const q={log(){},warn(){},error(){}},le=/^[a-z_$][a-z0-9_$:-]*$/i;function fe(G,M){const{RULES:x}=this;if((0,$.eachItem)(G,S=>{if(x.keywords[S])throw new Error(`Keyword ${S} is already defined`);if(!le.test(S))throw new Error(`Keyword ${S} has invalid name`)}),M&&M.$data&&!("code"in M)&&!("validate"in M))throw new Error('$data keyword must have "code" or "validate" function')}function se(G,M,x){var S;const I=M?.post;if(x&&I)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:F}=this;let J=I?F.post:F.rules.find(({type:ae})=>ae===x);if(J||(J={type:x,rules:[]},F.rules.push(J)),F.keywords[G]=!0,!M)return;const ee={keyword:G,definition:{...M,type:(0,y.getJSONTypes)(M.type),schemaType:(0,y.getJSONTypes)(M.schemaType)}};M.before?pe.call(this,J,ee,M.before):J.rules.push(ee),F.all[G]=ee,null===(S=M.implements)||void 0===S||S.forEach(ae=>this.addKeyword(ae))}function pe(G,M,x){const S=G.rules.findIndex(I=>I.keyword===x);S>=0?G.rules.splice(S,0,M):(G.rules.push(M),this.logger.warn(`rule ${x} is not defined`))}function me(G){let{metaSchema:M}=G;void 0!==M&&(G.$data&&this.opts.$data&&(M=Se(M)),G.validateSchema=this.compile(M,!0))}const ce={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Se(G){return{anyOf:[G,ce]}}},40834:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(12559);t.code='require("ajv/dist/runtime/equal").default',s.default=t},26344:(V,s)=>{"use strict";function i(t){const o=t.length;let d,g=0,e=0;for(;e<o;)g++,d=t.charCodeAt(e++),d>=55296&&d<=56319&&e<o&&(d=t.charCodeAt(e),56320==(64512&d)&&e++);return g}Object.defineProperty(s,"__esModule",{value:!0}),s.default=i,i.code='require("ajv/dist/runtime/ucs2length").default'},51364:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(96482);t.code='require("ajv/dist/runtime/uri").default',s.default=t},20496:(V,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});class i extends Error{constructor(o){super("validation failed"),this.errors=o,this.ajv=this.validation=!0}}s.default=i},29282:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.validateAdditionalItems=void 0;const t=i(56382),o=i(97990),e={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:c}})=>t.str`must NOT have more than ${c} items`,params:({params:{len:c}})=>t._`{limit: ${c}}`},code(c){const{parentSchema:h,it:a}=c,{items:f}=h;Array.isArray(f)?d(c,f):(0,o.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas')}};function d(c,h){const{gen:a,schema:f,data:y,keyword:$,it:O}=c;O.items=!0;const R=a.const("len",t._`${y}.length`);if(!1===f)c.setParams({len:h.length}),c.pass(t._`${R} <= ${h.length}`);else if("object"==typeof f&&!(0,o.alwaysValidSchema)(O,f)){const w=a.var("valid",t._`${R} <= ${h.length}`);a.if((0,t.not)(w),()=>function P(w){a.forRange("i",h.length,R,n=>{c.subschema({keyword:$,dataProp:n,dataPropType:o.Type.Num},w),O.allErrors||a.if((0,t.not)(w),()=>a.break())})}(w)),c.ok(w)}}s.validateAdditionalItems=d,s.default=e},75459:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(92812),o=i(56382),g=i(5976),e=i(97990);s.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:h})=>o._`{additionalProperty: ${h.additionalProperty}}`},code(h){const{gen:a,schema:f,parentSchema:y,data:$,errsCount:O,it:R}=h;if(!O)throw new Error("ajv implementation error");const{allErrors:P,opts:w}=R;if(R.props=!0,"all"!==w.removeAdditional&&(0,e.alwaysValidSchema)(R,f))return;const n=(0,t.allSchemaProperties)(y.properties),l=(0,t.allSchemaProperties)(y.patternProperties);function p(_){a.code(o._`delete ${$}[${_}]`)}function E(_){if("all"===w.removeAdditional||w.removeAdditional&&!1===f)p(_);else{if(!1===f)return h.setParams({additionalProperty:_}),h.error(),void(P||a.break());if("object"==typeof f&&!(0,e.alwaysValidSchema)(R,f)){const A=a.name("valid");"failing"===w.removeAdditional?(b(_,A,!1),a.if((0,o.not)(A),()=>{h.reset(),p(_)})):(b(_,A),P||a.if((0,o.not)(A),()=>a.break()))}}}function b(_,A,z){const Q={keyword:"additionalProperties",dataProp:_,dataPropType:e.Type.Str};!1===z&&Object.assign(Q,{compositeRule:!0,createErrors:!1,allErrors:!1}),h.subschema(Q,A)}(function C(){a.forIn("key",$,_=>{n.length||l.length?a.if(function u(_){let A;if(n.length>8){const z=(0,e.schemaRefOrVal)(R,y.properties,"properties");A=(0,t.isOwnProperty)(a,z,_)}else A=n.length?(0,o.or)(...n.map(z=>o._`${_} === ${z}`)):o.nil;return l.length&&(A=(0,o.or)(A,...l.map(z=>o._`${(0,t.usePattern)(h,z)}.test(${_})`))),(0,o.not)(A)}(_),()=>E(_)):E(_)})})(),h.ok(o._`${O} === ${g.default.errors}`)}}},46186:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(97990);s.default={keyword:"allOf",schemaType:"array",code(g){const{gen:e,schema:d,it:c}=g;if(!Array.isArray(d))throw new Error("ajv implementation error");const h=e.name("valid");d.forEach((a,f)=>{if((0,t.alwaysValidSchema)(c,a))return;const y=g.subschema({keyword:"allOf",schemaProp:f},h);g.ok(h),g.mergeEvaluated(y)})}}},60290:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(92812);s.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}}},25738:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(56382),o=i(97990);s.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:d,max:c}})=>void 0===c?t.str`must contain at least ${d} valid item(s)`:t.str`must contain at least ${d} and no more than ${c} valid item(s)`,params:({params:{min:d,max:c}})=>void 0===c?t._`{minContains: ${d}}`:t._`{minContains: ${d}, maxContains: ${c}}`},code(d){const{gen:c,schema:h,parentSchema:a,data:f,it:y}=d;let $,O;const{minContains:R,maxContains:P}=a;y.opts.next?($=void 0===R?1:R,O=P):$=1;const w=c.const("len",t._`${f}.length`);if(d.setParams({min:$,max:O}),void 0===O&&0===$)return void(0,o.checkStrictMode)(y,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==O&&$>O)return(0,o.checkStrictMode)(y,'"minContains" > "maxContains" is always invalid'),void d.fail();if((0,o.alwaysValidSchema)(y,h)){let p=t._`${w} >= ${$}`;return void 0!==O&&(p=t._`${p} && ${w} <= ${O}`),void d.pass(p)}y.items=!0;const n=c.name("valid");function l(){const p=c.name("_valid"),E=c.let("count",0);C(p,()=>c.if(p,()=>function u(p){c.code(t._`${p}++`),void 0===O?c.if(t._`${p} >= ${$}`,()=>c.assign(n,!0).break()):(c.if(t._`${p} > ${O}`,()=>c.assign(n,!1).break()),1===$?c.assign(n,!0):c.if(t._`${p} >= ${$}`,()=>c.assign(n,!0)))}(E)))}function C(p,E){c.forRange("i",0,w,b=>{d.subschema({keyword:"contains",dataProp:b,dataPropType:o.Type.Num,compositeRule:!0},p),E()})}void 0===O&&1===$?C(n,()=>c.if(n,()=>c.break())):0===$?(c.let(n,!0),void 0!==O&&c.if(t._`${f}.length > 0`,l)):(c.let(n,!1),l()),d.result(n,()=>d.reset())}}},1886:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.validateSchemaDeps=s.validatePropertyDeps=s.error=void 0;const t=i(56382),o=i(97990),g=i(92812);s.error={message:({params:{property:a,depsCount:f,deps:y}})=>t.str`must have ${1===f?"property":"properties"} ${y} when property ${a} is present`,params:({params:{property:a,depsCount:f,deps:y,missingProperty:$}})=>t._`{property: ${a},
    missingProperty: ${$},
    depsCount: ${f},
    deps: ${y}}`};const e={keyword:"dependencies",type:"object",schemaType:"object",error:s.error,code(a){const[f,y]=function d({schema:a}){const f={},y={};for(const $ in a)"__proto__"!==$&&((Array.isArray(a[$])?f:y)[$]=a[$]);return[f,y]}(a);c(a,f),h(a,y)}};function c(a,f=a.schema){const{gen:y,data:$,it:O}=a;if(0===Object.keys(f).length)return;const R=y.let("missing");for(const P in f){const w=f[P];if(0===w.length)continue;const n=(0,g.propertyInData)(y,$,P,O.opts.ownProperties);a.setParams({property:P,depsCount:w.length,deps:w.join(", ")}),O.allErrors?y.if(n,()=>{for(const l of w)(0,g.checkReportMissingProp)(a,l)}):(y.if(t._`${n} && (${(0,g.checkMissingProp)(a,w,R)})`),(0,g.reportMissingProp)(a,R),y.else())}}function h(a,f=a.schema){const{gen:y,data:$,keyword:O,it:R}=a,P=y.name("valid");for(const w in f)(0,o.alwaysValidSchema)(R,f[w])||(y.if((0,g.propertyInData)(y,$,w,R.opts.ownProperties),()=>{const n=a.subschema({keyword:O,schemaProp:w},P);a.mergeValidEvaluated(n,P)},()=>y.var(P,!0)),a.ok(P))}s.validatePropertyDeps=c,s.validateSchemaDeps=h,s.default=e},43632:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(56382),o=i(97990);function d(c,h){const a=c.schema[h];return void 0!==a&&!(0,o.alwaysValidSchema)(c,a)}s.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:c})=>t.str`must match "${c.ifClause}" schema`,params:({params:c})=>t._`{failingKeyword: ${c.ifClause}}`},code(c){const{gen:h,parentSchema:a,it:f}=c;void 0===a.then&&void 0===a.else&&(0,o.checkStrictMode)(f,'"if" without "then" and "else" is ignored');const y=d(f,"then"),$=d(f,"else");if(!y&&!$)return;const O=h.let("valid",!0),R=h.name("_valid");if(function P(){const n=c.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},R);c.mergeEvaluated(n)}(),c.reset(),y&&$){const n=h.let("ifClause");c.setParams({ifClause:n}),h.if(R,w("then",n),w("else",n))}else y?h.if(R,w("then")):h.if((0,t.not)(R),w("else"));function w(n,l){return()=>{const C=c.subschema({keyword:n},R);h.assign(O,R),c.mergeValidEvaluated(C,O),l?h.assign(l,t._`${n}`):c.setParams({ifClause:n})}}c.pass(O,()=>c.error(!0))}}},17737:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(29282),o=i(84947),g=i(69180),e=i(41785),d=i(25738),c=i(1886),h=i(37947),a=i(75459),f=i(68415),y=i(50896),$=i(36330),O=i(60290),R=i(92337),P=i(46186),w=i(43632),n=i(71344);s.default=function l(C=!1){const u=[$.default,O.default,R.default,P.default,w.default,n.default,h.default,a.default,c.default,f.default,y.default];return C?u.push(o.default,e.default):u.push(t.default,g.default),u.push(d.default),u}},69180:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.validateTuple=void 0;const t=i(56382),o=i(97990),g=i(92812),e={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(c){const{schema:h,it:a}=c;if(Array.isArray(h))return d(c,"additionalItems",h);a.items=!0,!(0,o.alwaysValidSchema)(a,h)&&c.ok((0,g.validateArray)(c))}};function d(c,h,a=c.schema){const{gen:f,parentSchema:y,data:$,keyword:O,it:R}=c;(function n(l){const{opts:C,errSchemaPath:u}=R,p=a.length;C.strictTuples&&!(p===l.minItems&&(p===l.maxItems||!1===l[h]))&&(0,o.checkStrictMode)(R,`"${O}" is ${p}-tuple, but minItems or maxItems/${h} are not specified or different at path "${u}"`,C.strictTuples)})(y),R.opts.unevaluated&&a.length&&!0!==R.items&&(R.items=o.mergeEvaluated.items(f,a.length,R.items));const P=f.name("valid"),w=f.const("len",t._`${$}.length`);a.forEach((l,C)=>{(0,o.alwaysValidSchema)(R,l)||(f.if(t._`${w} > ${C}`,()=>c.subschema({keyword:O,schemaProp:C,dataProp:C},P)),c.ok(P))})}s.validateTuple=d,s.default=e},41785:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(56382),o=i(97990),g=i(92812),e=i(29282);s.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:h}})=>t.str`must NOT have more than ${h} items`,params:({params:{len:h}})=>t._`{limit: ${h}}`},code(h){const{schema:a,parentSchema:f,it:y}=h,{prefixItems:$}=f;y.items=!0,!(0,o.alwaysValidSchema)(y,a)&&($?(0,e.validateAdditionalItems)(h,$):h.ok((0,g.validateArray)(h)))}}},36330:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(97990);s.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(g){const{gen:e,schema:d,it:c}=g;if((0,t.alwaysValidSchema)(c,d))return void g.fail();const h=e.name("valid");g.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},h),g.failResult(h,()=>g.reset(),()=>g.error())},error:{message:"must NOT be valid"}}},92337:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(56382),o=i(97990);s.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:d})=>t._`{passingSchemas: ${d.passing}}`},code(d){const{gen:c,schema:h,parentSchema:a,it:f}=d;if(!Array.isArray(h))throw new Error("ajv implementation error");if(f.opts.discriminator&&a.discriminator)return;const y=h,$=c.let("valid",!1),O=c.let("passing",null),R=c.name("_valid");d.setParams({passing:O}),c.block(function P(){y.forEach((w,n)=>{let l;(0,o.alwaysValidSchema)(f,w)?c.var(R,!0):l=d.subschema({keyword:"oneOf",schemaProp:n,compositeRule:!0},R),n>0&&c.if(t._`${R} && ${$}`).assign($,!1).assign(O,t._`[${O}, ${n}]`).else(),c.if(R,()=>{c.assign($,!0),c.assign(O,n),l&&d.mergeEvaluated(l,t.Name)})})}),d.result($,()=>d.reset(),()=>d.error(!0))}}},50896:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(92812),o=i(56382),g=i(97990),e=i(97990);s.default={keyword:"patternProperties",type:"object",schemaType:"object",code(c){const{gen:h,schema:a,data:f,parentSchema:y,it:$}=c,{opts:O}=$,R=(0,t.allSchemaProperties)(a),P=R.filter(E=>(0,g.alwaysValidSchema)($,a[E]));if(0===R.length||P.length===R.length&&(!$.opts.unevaluated||!0===$.props))return;const w=O.strictSchema&&!O.allowMatchingProperties&&y.properties,n=h.name("valid");!0!==$.props&&!($.props instanceof o.Name)&&($.props=(0,e.evaluatedPropsToName)(h,$.props));const{props:l}=$;function u(E){for(const b in w)new RegExp(E).test(b)&&(0,g.checkStrictMode)($,`property ${b} matches pattern ${E} (use allowMatchingProperties)`)}function p(E){h.forIn("key",f,b=>{h.if(o._`${(0,t.usePattern)(c,E)}.test(${b})`,()=>{const _=P.includes(E);_||c.subschema({keyword:"patternProperties",schemaProp:E,dataProp:b,dataPropType:e.Type.Str},n),$.opts.unevaluated&&!0!==l?h.assign(o._`${l}[${b}]`,!0):!_&&!$.allErrors&&h.if((0,o.not)(n),()=>h.break())})})}!function C(){for(const E of R)w&&u(E),$.allErrors?p(E):(h.var(n,!0),p(E),h.if(n))}()}}},84947:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(69180);s.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:g=>(0,t.validateTuple)(g,"items")}},68415:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(66764),o=i(92812),g=i(97990),e=i(75459);s.default={keyword:"properties",type:"object",schemaType:"object",code(c){const{gen:h,schema:a,parentSchema:f,data:y,it:$}=c;"all"===$.opts.removeAdditional&&void 0===f.additionalProperties&&e.default.code(new t.KeywordCxt($,e.default,"additionalProperties"));const O=(0,o.allSchemaProperties)(a);for(const l of O)$.definedProperties.add(l);$.opts.unevaluated&&O.length&&!0!==$.props&&($.props=g.mergeEvaluated.props(h,(0,g.toHash)(O),$.props));const R=O.filter(l=>!(0,g.alwaysValidSchema)($,a[l]));if(0===R.length)return;const P=h.name("valid");for(const l of R)w(l)?n(l):(h.if((0,o.propertyInData)(h,y,l,$.opts.ownProperties)),n(l),$.allErrors||h.else().var(P,!0),h.endIf()),c.it.definedProperties.add(l),c.ok(P);function w(l){return $.opts.useDefaults&&!$.compositeRule&&void 0!==a[l].default}function n(l){c.subschema({keyword:"properties",schemaProp:l,dataProp:l},P)}}}},37947:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(56382),o=i(97990);s.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:d})=>t._`{propertyName: ${d.propertyName}}`},code(d){const{gen:c,schema:h,data:a,it:f}=d;if((0,o.alwaysValidSchema)(f,h))return;const y=c.name("valid");c.forIn("key",a,$=>{d.setParams({propertyName:$}),d.subschema({keyword:"propertyNames",data:$,dataTypes:["string"],propertyName:$,compositeRule:!0},y),c.if((0,t.not)(y),()=>{d.error(!0),f.allErrors||c.break()})}),d.ok(y)}}},71344:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(97990);s.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:g,parentSchema:e,it:d}){void 0===e.if&&(0,t.checkStrictMode)(d,`"${g}" without "if" is ignored`)}}},92812:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.validateUnion=s.validateArray=s.usePattern=s.callValidateCode=s.schemaProperties=s.allSchemaProperties=s.noPropertyInData=s.propertyInData=s.isOwnProperty=s.hasPropFunc=s.reportMissingProp=s.checkMissingProp=s.checkReportMissingProp=void 0;const t=i(56382),o=i(97990),g=i(5976),e=i(97990);function a(u){return u.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:t._`Object.prototype.hasOwnProperty`})}function f(u,p,E){return t._`${a(u)}.call(${p}, ${E})`}function $(u,p,E,b){const _=t._`${p}${(0,t.getProperty)(E)} === undefined`;return b?(0,t.or)(_,(0,t.not)(f(u,p,E))):_}function O(u){return u?Object.keys(u).filter(p=>"__proto__"!==p):[]}s.checkReportMissingProp=function d(u,p){const{gen:E,data:b,it:_}=u;E.if($(E,b,p,_.opts.ownProperties),()=>{u.setParams({missingProperty:t._`${p}`},!0),u.error()})},s.checkMissingProp=function c({gen:u,data:p,it:{opts:E}},b,_){return(0,t.or)(...b.map(A=>(0,t.and)($(u,p,A,E.ownProperties),t._`${_} = ${A}`)))},s.reportMissingProp=function h(u,p){u.setParams({missingProperty:p},!0),u.error()},s.hasPropFunc=a,s.isOwnProperty=f,s.propertyInData=function y(u,p,E,b){const _=t._`${p}${(0,t.getProperty)(E)} !== undefined`;return b?t._`${_} && ${f(u,p,E)}`:_},s.noPropertyInData=$,s.allSchemaProperties=O,s.schemaProperties=function R(u,p){return O(p).filter(E=>!(0,o.alwaysValidSchema)(u,p[E]))},s.callValidateCode=function P({schemaCode:u,data:p,it:{gen:E,topSchemaRef:b,schemaPath:_,errorPath:A},it:z},Q,W,q){const ue=q?t._`${u}, ${p}, ${b}${_}`:p,le=[[g.default.instancePath,(0,t.strConcat)(g.default.instancePath,A)],[g.default.parentData,z.parentData],[g.default.parentDataProperty,z.parentDataProperty],[g.default.rootData,g.default.rootData]];z.opts.dynamicRef&&le.push([g.default.dynamicAnchors,g.default.dynamicAnchors]);const fe=t._`${ue}, ${E.object(...le)}`;return W!==t.nil?t._`${Q}.call(${W}, ${fe})`:t._`${Q}(${fe})`};const w=t._`new RegExp`;s.usePattern=function n({gen:u,it:{opts:p}},E){const b=p.unicodeRegExp?"u":"",{regExp:_}=p.code,A=_(E,b);return u.scopeValue("pattern",{key:A.toString(),ref:A,code:t._`${"new RegExp"===_.code?w:(0,e.useFunc)(u,_)}(${E}, ${b})`})},s.validateArray=function l(u){const{gen:p,data:E,keyword:b,it:_}=u,A=p.name("valid");if(_.allErrors){const Q=p.let("valid",!0);return z(()=>p.assign(Q,!1)),Q}return p.var(A,!0),z(()=>p.break()),A;function z(Q){const W=p.const("len",t._`${E}.length`);p.forRange("i",0,W,q=>{u.subschema({keyword:b,dataProp:q,dataPropType:o.Type.Num},A),p.if((0,t.not)(A),Q)})}},s.validateUnion=function C(u){const{gen:p,schema:E,keyword:b,it:_}=u;if(!Array.isArray(E))throw new Error("ajv implementation error");if(E.some(W=>(0,o.alwaysValidSchema)(_,W))&&!_.opts.unevaluated)return;const z=p.let("valid",!1),Q=p.name("_valid");p.block(()=>E.forEach((W,q)=>{const ue=u.subschema({keyword:b,schemaProp:q,compositeRule:!0},Q);p.assign(z,t._`${z} || ${Q}`),u.mergeValidEvaluated(ue,Q)||p.if((0,t.not)(z))})),u.result(z,()=>u.reset(),()=>u.error(!0))}},11167:(V,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},31093:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(11167),o=i(64703);s.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,o.default]},64703:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.callRef=s.getValidate=void 0;const t=i(80140),o=i(92812),g=i(56382),e=i(5976),d=i(17140),c=i(97990),h={keyword:"$ref",schemaType:"string",code(y){const{gen:$,schema:O,it:R}=y,{baseId:P,schemaEnv:w,validateName:n,opts:l,self:C}=R,{root:u}=w;if(("#"===O||"#/"===O)&&P===u.baseId)return function E(){if(w===u)return f(y,n,w,w.$async);const A=$.scopeValue("root",{ref:u});return f(y,g._`${A}.validate`,u,u.$async)}();const p=d.resolveRef.call(C,u,P,O);if(void 0===p)throw new t.default(R.opts.uriResolver,P,O);return p instanceof d.SchemaEnv?function b(A){const z=a(y,A);f(y,z,A,A.$async)}(p):function _(A){const z=$.scopeValue("schema",!0===l.code.source?{ref:A,code:(0,g.stringify)(A)}:{ref:A}),Q=$.name("valid"),W=y.subschema({schema:A,dataTypes:[],schemaPath:g.nil,topSchemaRef:z,errSchemaPath:O},Q);y.mergeEvaluated(W),y.ok(Q)}(p)}};function a(y,$){const{gen:O}=y;return $.validate?O.scopeValue("validate",{ref:$.validate}):g._`${O.scopeValue("wrapper",{ref:$})}.validate`}function f(y,$,O,R){const{gen:P,it:w}=y,{allErrors:n,schemaEnv:l,opts:C}=w,u=C.passContext?e.default.this:g.nil;function b(A){const z=g._`${A}.errors`;P.assign(e.default.vErrors,g._`${e.default.vErrors} === null ? ${z} : ${e.default.vErrors}.concat(${z})`),P.assign(e.default.errors,g._`${e.default.vErrors}.length`)}function _(A){var z;if(!w.opts.unevaluated)return;const Q=null===(z=O?.validate)||void 0===z?void 0:z.evaluated;if(!0!==w.props)if(Q&&!Q.dynamicProps)void 0!==Q.props&&(w.props=c.mergeEvaluated.props(P,Q.props,w.props));else{const W=P.var("props",g._`${A}.evaluated.props`);w.props=c.mergeEvaluated.props(P,W,w.props,g.Name)}if(!0!==w.items)if(Q&&!Q.dynamicItems)void 0!==Q.items&&(w.items=c.mergeEvaluated.items(P,Q.items,w.items));else{const W=P.var("items",g._`${A}.evaluated.items`);w.items=c.mergeEvaluated.items(P,W,w.items,g.Name)}}R?function p(){if(!l.$async)throw new Error("async schema referenced by sync schema");const A=P.let("valid");P.try(()=>{P.code(g._`await ${(0,o.callValidateCode)(y,$,u)}`),_($),n||P.assign(A,!0)},z=>{P.if(g._`!(${z} instanceof ${w.ValidationError})`,()=>P.throw(z)),b(z),n||P.assign(A,!1)}),y.ok(A)}():function E(){y.result((0,o.callValidateCode)(y,$,u),()=>_($),()=>b($))}()}s.getValidate=a,s.callRef=f,s.default=h},81849:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(56382),o=i(60797),g=i(17140),e=i(97990);s.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:h,tagName:a}})=>h===o.DiscrError.Tag?`tag "${a}" must be string`:`value of tag "${a}" must be in oneOf`,params:({params:{discrError:h,tag:a,tagName:f}})=>t._`{error: ${h}, tag: ${f}, tagValue: ${a}}`},code(h){const{gen:a,data:f,schema:y,parentSchema:$,it:O}=h,{oneOf:R}=$;if(!O.opts.discriminator)throw new Error("discriminator: requires discriminator option");const P=y.propertyName;if("string"!=typeof P)throw new Error("discriminator: requires propertyName");if(y.mapping)throw new Error("discriminator: mapping is not supported");if(!R)throw new Error("discriminator: requires oneOf keyword");const w=a.let("valid",!1),n=a.const("tag",t._`${f}${(0,t.getProperty)(P)}`);function C(p){const E=a.name("valid"),b=h.subschema({keyword:"oneOf",schemaProp:p},E);return h.mergeEvaluated(b,t.Name),E}a.if(t._`typeof ${n} == "string"`,()=>function l(){const p=function u(){var p;const E={},b=A($);let _=!0;for(let W=0;W<R.length;W++){let q=R[W];q?.$ref&&!(0,e.schemaHasRulesButRef)(q,O.self.RULES)&&(q=g.resolveRef.call(O.self,O.schemaEnv.root,O.baseId,q?.$ref),q instanceof g.SchemaEnv&&(q=q.schema));const ue=null===(p=q?.properties)||void 0===p?void 0:p[P];if("object"!=typeof ue)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${P}"`);_=_&&(b||A(q)),z(ue,W)}if(!_)throw new Error(`discriminator: "${P}" must be required`);return E;function A({required:W}){return Array.isArray(W)&&W.includes(P)}function z(W,q){if(W.const)Q(W.const,q);else{if(!W.enum)throw new Error(`discriminator: "properties/${P}" must have "const" or "enum"`);for(const ue of W.enum)Q(ue,q)}}function Q(W,q){if("string"!=typeof W||W in E)throw new Error(`discriminator: "${P}" values must be unique strings`);E[W]=q}}();a.if(!1);for(const E in p)a.elseIf(t._`${n} === ${E}`),a.assign(w,C(p[E]));a.else(),h.error(!1,{discrError:o.DiscrError.Mapping,tag:n,tagName:P}),a.endIf()}(),()=>h.error(!1,{discrError:o.DiscrError.Tag,tag:n,tagName:P})),h.ok(w)}}},60797:(V,s)=>{"use strict";var t;Object.defineProperty(s,"__esModule",{value:!0}),s.DiscrError=void 0,(t=s.DiscrError||(s.DiscrError={})).Tag="tag",t.Mapping="mapping"},77032:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(31093),o=i(77887),g=i(17737),e=i(57447),d=i(10760),c=[t.default,o.default,(0,g.default)(),e.default,d.metadataVocabulary,d.contentVocabulary];s.default=c},22364:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(56382);s.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>t.str`must match format "${e}"`,params:({schemaCode:e})=>t._`{format: ${e}}`},code(e,d){const{gen:c,data:h,$data:a,schema:f,schemaCode:y,it:$}=e,{opts:O,errSchemaPath:R,schemaEnv:P,self:w}=$;O.validateFormats&&(a?function n(){const C=c.scopeValue("formats",{ref:w.formats,code:O.code.formats}),u=c.const("fDef",t._`${C}[${y}]`),p=c.let("fType"),E=c.let("format");c.if(t._`typeof ${u} == "object" && !(${u} instanceof RegExp)`,()=>c.assign(p,t._`${u}.type || "string"`).assign(E,t._`${u}.validate`),()=>c.assign(p,t._`"string"`).assign(E,u)),e.fail$data((0,t.or)(function b(){return!1===O.strictSchema?t.nil:t._`${y} && !${E}`}(),function _(){const A=P.$async?t._`(${u}.async ? await ${E}(${h}) : ${E}(${h}))`:t._`${E}(${h})`,z=t._`(typeof ${E} == "function" ? ${A} : ${E}.test(${h}))`;return t._`${E} && ${E} !== true && ${p} === ${d} && !${z}`}()))}():function l(){const C=w.formats[f];if(!C)return void function b(){if(!1!==O.strictSchema)throw new Error(z());function z(){return`unknown format "${f}" ignored in schema at path "${R}"`}w.logger.warn(z())}();if(!0===C)return;const[u,p,E]=function _(z){const Q=z instanceof RegExp?(0,t.regexpCode)(z):O.code.formats?t._`${O.code.formats}${(0,t.getProperty)(f)}`:void 0,W=c.scopeValue("formats",{key:f,ref:z,code:Q});return"object"!=typeof z||z instanceof RegExp?["string",z,W]:[z.type||"string",z.validate,t._`${W}.validate`]}(C);u===d&&e.pass(function A(){if("object"==typeof C&&!(C instanceof RegExp)&&C.async){if(!P.$async)throw new Error("async format in sync schema");return t._`await ${E}(${h})`}return"function"==typeof p?t._`${E}(${h})`:t._`${E}.test(${h})`}())}())}}},57447:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=[i(22364).default];s.default=o},10760:(V,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.contentVocabulary=s.metadataVocabulary=void 0,s.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],s.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},37677:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(56382),o=i(97990),g=i(40834);s.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:c})=>t._`{allowedValue: ${c}}`},code(c){const{gen:h,data:a,$data:f,schemaCode:y,schema:$}=c;f||$&&"object"==typeof $?c.fail$data(t._`!${(0,o.useFunc)(h,g.default)}(${a}, ${y})`):c.fail(t._`${$} !== ${a}`)}}},38373:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(56382),o=i(97990),g=i(40834);s.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:c})=>t._`{allowedValues: ${c}}`},code(c){const{gen:h,data:a,$data:f,schema:y,schemaCode:$,it:O}=c;if(!f&&0===y.length)throw new Error("enum must have non-empty array");let P;const w=()=>P??(P=(0,o.useFunc)(h,g.default));let n;if(y.length>=O.opts.loopEnum||f)n=h.let("valid"),c.block$data(n,function l(){h.assign(n,!1),h.forOf("v",$,u=>h.if(t._`${w()}(${a}, ${u})`,()=>h.assign(n,!0).break()))});else{if(!Array.isArray(y))throw new Error("ajv implementation error");const u=h.const("vSchema",$);n=(0,t.or)(...y.map((p,E)=>function C(u,p){const E=y[p];return"object"==typeof E&&null!==E?t._`${w()}(${a}, ${u}[${p}])`:t._`${a} === ${E}`}(u,E)))}c.pass(n)}}},77887:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(37126),o=i(52018),g=i(56230),e=i(58455),d=i(25608),c=i(70109),h=i(45132),a=i(74097),f=i(37677),y=i(38373);s.default=[t.default,o.default,g.default,e.default,d.default,c.default,h.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,y.default]},45132:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(56382);s.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:d})=>t.str`must NOT have ${"maxItems"===e?"more":"fewer"} than ${d} items`,params:({schemaCode:e})=>t._`{limit: ${e}}`},code(e){const{keyword:d,data:c,schemaCode:h}=e;e.fail$data(t._`${c}.length ${"maxItems"===d?t.operators.GT:t.operators.LT} ${h}`)}}},56230:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(56382),o=i(97990),g=i(26344);s.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:c,schemaCode:h})=>t.str`must NOT have ${"maxLength"===c?"more":"fewer"} than ${h} characters`,params:({schemaCode:c})=>t._`{limit: ${c}}`},code(c){const{keyword:h,data:a,schemaCode:f,it:y}=c,$="maxLength"===h?t.operators.GT:t.operators.LT,O=!1===y.opts.unicode?t._`${a}.length`:t._`${(0,o.useFunc)(c.gen,g.default)}(${a})`;c.fail$data(t._`${O} ${$} ${f}`)}}},37126:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(56382),o=t.operators,g={maximum:{okStr:"<=",ok:o.LTE,fail:o.GT},minimum:{okStr:">=",ok:o.GTE,fail:o.LT},exclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},exclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},e={message:({keyword:c,schemaCode:h})=>t.str`must be ${g[c].okStr} ${h}`,params:({keyword:c,schemaCode:h})=>t._`{comparison: ${g[c].okStr}, limit: ${h}}`},d={keyword:Object.keys(g),type:"number",schemaType:"number",$data:!0,error:e,code(c){const{keyword:h,data:a,schemaCode:f}=c;c.fail$data(t._`${a} ${g[h].fail} ${f} || isNaN(${a})`)}};s.default=d},25608:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(56382);s.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:d})=>t.str`must NOT have ${"maxProperties"===e?"more":"fewer"} than ${d} properties`,params:({schemaCode:e})=>t._`{limit: ${e}}`},code(e){const{keyword:d,data:c,schemaCode:h}=e;e.fail$data(t._`Object.keys(${c}).length ${"maxProperties"===d?t.operators.GT:t.operators.LT} ${h}`)}}},52018:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(56382);s.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>t.str`must be multiple of ${e}`,params:({schemaCode:e})=>t._`{multipleOf: ${e}}`},code(e){const{gen:d,data:c,schemaCode:h,it:a}=e,f=a.opts.multipleOfPrecision,y=d.let("res"),$=f?t._`Math.abs(Math.round(${y}) - ${y}) > 1e-${f}`:t._`${y} !== parseInt(${y})`;e.fail$data(t._`(${h} === 0 || (${y} = ${c}/${h}, ${$}))`)}}},58455:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(92812),o=i(56382);s.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:d})=>o.str`must match pattern "${d}"`,params:({schemaCode:d})=>o._`{pattern: ${d}}`},code(d){const{data:c,$data:h,schema:a,schemaCode:f,it:y}=d,O=h?o._`(new RegExp(${f}, ${y.opts.unicodeRegExp?"u":""}))`:(0,t.usePattern)(d,a);d.fail$data(o._`!${O}.test(${c})`)}}},70109:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(92812),o=i(56382),g=i(97990);s.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:c}})=>o.str`must have required property '${c}'`,params:({params:{missingProperty:c}})=>o._`{missingProperty: ${c}}`},code(c){const{gen:h,schema:a,schemaCode:f,data:y,$data:$,it:O}=c,{opts:R}=O;if(!$&&0===a.length)return;const P=a.length>=R.loopRequired;if(O.allErrors?function w(){if(P||$)c.block$data(o.nil,l);else for(const u of a)(0,t.checkReportMissingProp)(c,u)}():function n(){const u=h.let("missing");if(P||$){const p=h.let("valid",!0);c.block$data(p,()=>function C(u,p){c.setParams({missingProperty:u}),h.forOf(u,f,()=>{h.assign(p,(0,t.propertyInData)(h,y,u,R.ownProperties)),h.if((0,o.not)(p),()=>{c.error(),h.break()})},o.nil)}(u,p)),c.ok(p)}else h.if((0,t.checkMissingProp)(c,a,u)),(0,t.reportMissingProp)(c,u),h.else()}(),R.strictRequired){const u=c.parentSchema.properties,{definedProperties:p}=c.it;for(const E of a)void 0!==u?.[E]||p.has(E)||(0,g.checkStrictMode)(O,`required property "${E}" is not defined at "${O.schemaEnv.baseId+O.errSchemaPath}" (strictRequired)`,O.opts.strictRequired)}function l(){h.forOf("prop",f,u=>{c.setParams({missingProperty:u}),h.if((0,t.noPropertyInData)(h,y,u,R.ownProperties),()=>c.error())})}}}},74097:(V,s,i)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(59078),o=i(56382),g=i(97990),e=i(40834);s.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:h,j:a}})=>o.str`must NOT have duplicate items (items ## ${a} and ${h} are identical)`,params:({params:{i:h,j:a}})=>o._`{i: ${h}, j: ${a}}`},code(h){const{gen:a,data:f,$data:y,schema:$,parentSchema:O,schemaCode:R,it:P}=h;if(!y&&!$)return;const w=a.let("valid"),n=O.items?(0,t.getSchemaTypes)(O.items):[];function u(E,b){const _=a.name("item"),A=(0,t.checkDataTypes)(n,_,P.opts.strictNumbers,t.DataType.Wrong),z=a.const("indices",o._`{}`);a.for(o._`;${E}--;`,()=>{a.let(_,o._`${f}[${E}]`),a.if(A,o._`continue`),n.length>1&&a.if(o._`typeof ${_} == "string"`,o._`${_} += "_"`),a.if(o._`typeof ${z}[${_}] == "number"`,()=>{a.assign(b,o._`${z}[${_}]`),h.error(),a.assign(w,!1).break()}).code(o._`${z}[${_}] = ${E}`)})}function p(E,b){const _=(0,g.useFunc)(a,e.default),A=a.name("outer");a.label(A).for(o._`;${E}--;`,()=>a.for(o._`${b} = ${E}; ${b}--;`,()=>a.if(o._`${_}(${f}[${E}], ${f}[${b}])`,()=>{h.error(),a.assign(w,!1).break(A)})))}h.block$data(w,function l(){const E=a.let("i",o._`${f}.length`),b=a.let("j");h.setParams({i:E,j:b}),a.assign(w,!0),a.if(o._`${E} > 1`,()=>(function C(){return n.length>0&&!n.some(E=>"object"===E||"array"===E)}()?u:p)(E,b))},o._`${R} === false`),h.ok(w)}}},57744:function(V){V.exports=function(){"use strict";return function s(i){var $,R,t=document,o=t.createElement("div"),g=o.style,e=navigator.userAgent,d=-1!==e.indexOf("Firefox")&&-1!==e.indexOf("Mobile"),c=i.debounceWaitMs||0,h=d?"input":"keyup",a=[],f="",y=i.minLength||2,O=0;if(!i.input)throw new Error("input undefined");var P=i.input;function n(){R&&window.clearTimeout(R)}function C(){return!!o.parentNode}function u(){O++,a=[],f="",$=void 0,function w(){var se=o.parentNode;se&&se.removeChild(o)}()}function E(){for(;o.firstChild;)o.removeChild(o.firstChild);var se=function(G,M){var x=t.createElement("div");return x.textContent=G.label||"",x};i.render&&(se=i.render);var pe=function(G,M){var x=t.createElement("div");return x.textContent=G,x};i.renderGroup&&(pe=i.renderGroup);var me=t.createDocumentFragment(),ce="#9?$";if(a.forEach(function(G){if(G.group&&G.group!==ce){ce=G.group;var M=pe(G.group,f);M&&(M.className+=" group",me.appendChild(M))}var x=se(G,f);x&&(x.addEventListener("click",function(S){i.onSelect(G,P),u(),S.preventDefault(),S.stopPropagation()}),G===$&&(x.className+=" selected"),me.appendChild(x))}),o.appendChild(me),a.length<1){if(!i.emptyMsg)return void u();var Se=t.createElement("div");Se.className="empty",Se.textContent=i.emptyMsg,o.appendChild(Se)}(function l(){o.parentNode||t.body.appendChild(o)})(),function p(){if(C()){g.height="auto",g.width=P.offsetWidth+"px";var se=P.getBoundingClientRect(),pe=se.top+P.offsetHeight,me=window.innerHeight-pe;me<0&&(me=0),g.top=pe+"px",g.bottom="",g.left=se.left+"px",g.maxHeight=me+"px",i.customize&&i.customize(P,se,o,me)}}(),function Q(){var se=o.getElementsByClassName("selected");if(se.length>0){var pe=se[0],me=pe.previousElementSibling;if(me&&-1!==me.className.indexOf("group")&&!me.previousElementSibling&&(pe=me),pe.offsetTop<o.scrollTop)o.scrollTop=pe.offsetTop;else{var ce=pe.offsetTop+pe.offsetHeight,Se=o.scrollTop+o.offsetHeight;ce>Se&&(o.scrollTop+=ce-Se)}}}()}function b(){C()&&E()}function _(){b()}function A(se){se.target!==o?b():se.preventDefault()}function z(se){for(var pe=se.which||se.keyCode||0,ce=0,Se=[38,13,27,39,37,16,17,18,20,91,9];ce<Se.length;ce++)if(pe===Se[ce])return;if(40!==pe||!C()){var M=++O,x=P.value;x.length>=y?(n(),R=window.setTimeout(function(){i.fetch(x,function(S){O===M&&S&&(f=x,$=(a=S).length>0?a[0]:void 0,E())})},c)):u()}}function ue(se){var pe=se.which||se.keyCode||0;if(38===pe||40===pe||27===pe){var me=C();if(27===pe)u();else{if(!C||a.length<1)return;38===pe?function W(){if(a.length<1)$=void 0;else if($===a[0])$=a[a.length-1];else for(var se=a.length-1;se>0;se--)if($===a[se]||1===se){$=a[se-1];break}}():function q(){if(a.length<1&&($=void 0),$&&$!==a[a.length-1]){for(var se=0;se<a.length-1;se++)if($===a[se]){$=a[se+1];break}}else $=a[0]}(),E()}return se.preventDefault(),void(me&&se.stopPropagation())}13===pe&&$&&(i.onSelect($,P),u())}function le(){setTimeout(function(){t.activeElement!==P&&u()},200)}return o.className="autocomplete "+(i.className||""),g.position="fixed",P.addEventListener("keydown",ue),P.addEventListener(h,z),P.addEventListener("blur",le),window.addEventListener("resize",_),t.addEventListener("scroll",A,!0),{destroy:function fe(){P.removeEventListener("keydown",ue),P.removeEventListener(h,z),P.removeEventListener("blur",le),window.removeEventListener("resize",_),t.removeEventListener("scroll",A,!0),n(),u(),O++}}}}()},62049:function(V,s,i){var t;V=i.nmd(V),function(o){"object"==typeof global&&global;var c=function(P){this.message=P};(c.prototype=new Error).name="InvalidCharacterError";var h=function(P){throw new c(P)},a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=/[\t\n\f\r ]/g,O={encode:function(P){P=String(P),/[^\0-\xFF]/.test(P)&&h("The string to be encoded contains characters outside of the Latin1 range.");for(var C,u,p,b,w=P.length%3,n="",l=-1,_=P.length-w;++l<_;)C=P.charCodeAt(l)<<16,u=P.charCodeAt(++l)<<8,p=P.charCodeAt(++l),n+=a.charAt((b=C+u+p)>>18&63)+a.charAt(b>>12&63)+a.charAt(b>>6&63)+a.charAt(63&b);return 2==w?(C=P.charCodeAt(l)<<8,u=P.charCodeAt(++l),n+=a.charAt((b=C+u)>>10)+a.charAt(b>>4&63)+a.charAt(b<<2&63)+"="):1==w&&(b=P.charCodeAt(l),n+=a.charAt(b>>2)+a.charAt(b<<4&63)+"=="),n},decode:function(P){var w=(P=String(P).replace(f,"")).length;w%4==0&&(w=(P=P.replace(/==?$/,"")).length),(w%4==1||/[^+a-zA-Z0-9/]/.test(P))&&h("Invalid character: the string to be decoded is not correctly encoded.");for(var l,C,n=0,u="",p=-1;++p<w;)C=a.indexOf(P.charAt(p)),l=n%4?64*l+C:C,n++%4&&(u+=String.fromCharCode(255&l>>(-2*n&6)));return u},version:"0.1.0"};void 0!==(t=function(){return O}.call(s,i,s,V))&&(V.exports=t)}()},62005:V=>{"use strict";var s=Object.prototype.hasOwnProperty,i="~";function t(){}function o(c,h,a){this.fn=c,this.context=h,this.once=a||!1}function g(c,h,a,f,y){if("function"!=typeof a)throw new TypeError("The listener must be a function");var $=new o(a,f||c,y),O=i?i+h:h;return c._events[O]?c._events[O].fn?c._events[O]=[c._events[O],$]:c._events[O].push($):(c._events[O]=$,c._eventsCount++),c}function e(c,h){0==--c._eventsCount?c._events=new t:delete c._events[h]}function d(){this._events=new t,this._eventsCount=0}Object.create&&(t.prototype=Object.create(null),(new t).__proto__||(i=!1)),d.prototype.eventNames=function(){var a,f,h=[];if(0===this._eventsCount)return h;for(f in a=this._events)s.call(a,f)&&h.push(i?f.slice(1):f);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(a)):h},d.prototype.listeners=function(h){var f=this._events[i?i+h:h];if(!f)return[];if(f.fn)return[f.fn];for(var y=0,$=f.length,O=new Array($);y<$;y++)O[y]=f[y].fn;return O},d.prototype.listenerCount=function(h){var f=this._events[i?i+h:h];return f?f.fn?1:f.length:0},d.prototype.emit=function(h,a,f,y,$,O){var R=i?i+h:h;if(!this._events[R])return!1;var n,l,P=this._events[R],w=arguments.length;if(P.fn){switch(P.once&&this.removeListener(h,P.fn,void 0,!0),w){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,a),!0;case 3:return P.fn.call(P.context,a,f),!0;case 4:return P.fn.call(P.context,a,f,y),!0;case 5:return P.fn.call(P.context,a,f,y,$),!0;case 6:return P.fn.call(P.context,a,f,y,$,O),!0}for(l=1,n=new Array(w-1);l<w;l++)n[l-1]=arguments[l];P.fn.apply(P.context,n)}else{var u,C=P.length;for(l=0;l<C;l++)switch(P[l].once&&this.removeListener(h,P[l].fn,void 0,!0),w){case 1:P[l].fn.call(P[l].context);break;case 2:P[l].fn.call(P[l].context,a);break;case 3:P[l].fn.call(P[l].context,a,f);break;case 4:P[l].fn.call(P[l].context,a,f,y);break;default:if(!n)for(u=1,n=new Array(w-1);u<w;u++)n[u-1]=arguments[u];P[l].fn.apply(P[l].context,n)}}return!0},d.prototype.on=function(h,a,f){return g(this,h,a,f,!1)},d.prototype.once=function(h,a,f){return g(this,h,a,f,!0)},d.prototype.removeListener=function(h,a,f,y){var $=i?i+h:h;if(!this._events[$])return this;if(!a)return e(this,$),this;var O=this._events[$];if(O.fn)O.fn===a&&(!y||O.once)&&(!f||O.context===f)&&e(this,$);else{for(var R=0,P=[],w=O.length;R<w;R++)(O[R].fn!==a||y&&!O[R].once||f&&O[R].context!==f)&&P.push(O[R]);P.length?this._events[$]=1===P.length?P[0]:P:e(this,$)}return this},d.prototype.removeAllListeners=function(h){var a;return h?this._events[a=i?i+h:h]&&e(this,a):(this._events=new t,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=i,d.EventEmitter=d,V.exports=d},59069:V=>{"use strict";var t,s="object"==typeof Reflect?Reflect:null,i=s&&"function"==typeof s.apply?s.apply:function(p,E,b){return Function.prototype.apply.call(p,E,b)};t=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var g=Number.isNaN||function(p){return p!=p};function e(){e.init.call(this)}V.exports=e,V.exports.once=function n(u,p){return new Promise(function(E,b){function _(z){u.removeListener(p,A),b(z)}function A(){"function"==typeof u.removeListener&&u.removeListener("error",_),E([].slice.call(arguments))}C(u,p,A,{once:!0}),"error"!==p&&function l(u,p,E){"function"==typeof u.on&&C(u,"error",p,E)}(u,_,{once:!0})})},e.EventEmitter=e,e.prototype._events=void 0,e.prototype._eventsCount=0,e.prototype._maxListeners=void 0;var d=10;function c(u){if("function"!=typeof u)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}function h(u){return void 0===u._maxListeners?e.defaultMaxListeners:u._maxListeners}function a(u,p,E,b){var _,A,z;if(c(E),void 0===(A=u._events)?(A=u._events=Object.create(null),u._eventsCount=0):(void 0!==A.newListener&&(u.emit("newListener",p,E.listener?E.listener:E),A=u._events),z=A[p]),void 0===z)z=A[p]=E,++u._eventsCount;else if("function"==typeof z?z=A[p]=b?[E,z]:[z,E]:b?z.unshift(E):z.push(E),(_=h(u))>0&&z.length>_&&!z.warned){z.warned=!0;var Q=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");Q.name="MaxListenersExceededWarning",Q.emitter=u,Q.type=p,Q.count=z.length,function o(u){console&&console.warn&&console.warn(u)}(Q)}return u}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(u,p,E){var b={fired:!1,wrapFn:void 0,target:u,type:p,listener:E},_=f.bind(b);return _.listener=E,b.wrapFn=_,_}function $(u,p,E){var b=u._events;if(void 0===b)return[];var _=b[p];return void 0===_?[]:"function"==typeof _?E?[_.listener||_]:[_]:E?function w(u){for(var p=new Array(u.length),E=0;E<p.length;++E)p[E]=u[E].listener||u[E];return p}(_):R(_,_.length)}function O(u){var p=this._events;if(void 0!==p){var E=p[u];if("function"==typeof E)return 1;if(void 0!==E)return E.length}return 0}function R(u,p){for(var E=new Array(p),b=0;b<p;++b)E[b]=u[b];return E}function C(u,p,E,b){if("function"==typeof u.on)b.once?u.once(p,E):u.on(p,E);else{if("function"!=typeof u.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u);u.addEventListener(p,function _(A){b.once&&u.removeEventListener(p,_),E(A)})}}Object.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(u){if("number"!=typeof u||u<0||g(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");d=u}}),e.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e.prototype.setMaxListeners=function(p){if("number"!=typeof p||p<0||g(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},e.prototype.getMaxListeners=function(){return h(this)},e.prototype.emit=function(p){for(var E=[],b=1;b<arguments.length;b++)E.push(arguments[b]);var _="error"===p,A=this._events;if(void 0!==A)_=_&&void 0===A.error;else if(!_)return!1;if(_){var z;if(E.length>0&&(z=E[0]),z instanceof Error)throw z;var Q=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw Q.context=z,Q}var W=A[p];if(void 0===W)return!1;if("function"==typeof W)i(W,this,E);else{var q=W.length,ue=R(W,q);for(b=0;b<q;++b)i(ue[b],this,E)}return!0},e.prototype.on=e.prototype.addListener=function(p,E){return a(this,p,E,!1)},e.prototype.prependListener=function(p,E){return a(this,p,E,!0)},e.prototype.once=function(p,E){return c(E),this.on(p,y(this,p,E)),this},e.prototype.prependOnceListener=function(p,E){return c(E),this.prependListener(p,y(this,p,E)),this},e.prototype.off=e.prototype.removeListener=function(p,E){var b,_,A,z,Q;if(c(E),void 0===(_=this._events))return this;if(void 0===(b=_[p]))return this;if(b===E||b.listener===E)0==--this._eventsCount?this._events=Object.create(null):(delete _[p],_.removeListener&&this.emit("removeListener",p,b.listener||E));else if("function"!=typeof b){for(A=-1,z=b.length-1;z>=0;z--)if(b[z]===E||b[z].listener===E){Q=b[z].listener,A=z;break}if(A<0)return this;0===A?b.shift():function P(u,p){for(;p+1<u.length;p++)u[p]=u[p+1];u.pop()}(b,A),1===b.length&&(_[p]=b[0]),void 0!==_.removeListener&&this.emit("removeListener",p,Q||E)}return this},e.prototype.removeAllListeners=function(p){var E,b,_;if(void 0===(b=this._events))return this;if(void 0===b.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==b[p]&&(0==--this._eventsCount?this._events=Object.create(null):delete b[p]),this;if(0===arguments.length){var z,A=Object.keys(b);for(_=0;_<A.length;++_)"removeListener"!==(z=A[_])&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(E=b[p]))this.removeListener(p,E);else if(void 0!==E)for(_=E.length-1;_>=0;_--)this.removeListener(p,E[_]);return this},e.prototype.listeners=function(p){return $(this,p,!0)},e.prototype.rawListeners=function(p){return $(this,p,!1)},e.listenerCount=function(u,p){return"function"==typeof u.listenerCount?u.listenerCount(p):O.call(u,p)},e.prototype.listenerCount=O,e.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},12559:V=>{"use strict";V.exports=function s(i,t){if(i===t)return!0;if(i&&t&&"object"==typeof i&&"object"==typeof t){if(i.constructor!==t.constructor)return!1;var o,g,e;if(Array.isArray(i)){if((o=i.length)!=t.length)return!1;for(g=o;0!=g--;)if(!s(i[g],t[g]))return!1;return!0}if(i.constructor===RegExp)return i.source===t.source&&i.flags===t.flags;if(i.valueOf!==Object.prototype.valueOf)return i.valueOf()===t.valueOf();if(i.toString!==Object.prototype.toString)return i.toString()===t.toString();if((o=(e=Object.keys(i)).length)!==Object.keys(t).length)return!1;for(g=o;0!=g--;)if(!Object.prototype.hasOwnProperty.call(t,e[g]))return!1;for(g=o;0!=g--;){var d=e[g];if(!s(i[d],t[d]))return!1}return!0}return i!=i&&t!=t}},94327:function(V,s){var o;void 0!==(o=function(){"use strict";function e(y,$,O){var R=new XMLHttpRequest;R.open("GET",y),R.responseType="blob",R.onload=function(){f(R.response,$,O)},R.onerror=function(){console.error("could not download file")},R.send()}function d(y){var $=new XMLHttpRequest;$.open("HEAD",y,!1);try{$.send()}catch{}return 200<=$.status&&299>=$.status}function c(y){try{y.dispatchEvent(new MouseEvent("click"))}catch{var $=document.createEvent("MouseEvents");$.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),y.dispatchEvent($)}}var h="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=h.saveAs||("object"!=typeof window||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(y,$,O){var R=h.URL||h.webkitURL,P=document.createElement("a");P.download=$=$||y.name||"download",P.rel="noopener","string"==typeof y?(P.href=y,P.origin===location.origin?c(P):d(P.href)?e(y,$,O):c(P,P.target="_blank")):(P.href=R.createObjectURL(y),setTimeout(function(){R.revokeObjectURL(P.href)},4e4),setTimeout(function(){c(P)},0))}:"msSaveOrOpenBlob"in navigator?function(y,$,O){if($=$||y.name||"download","string"!=typeof y)navigator.msSaveOrOpenBlob(function g(y,$){return typeof $>"u"?$={autoBom:!1}:"object"!=typeof $&&(console.warn("Deprecated: Expected third argument to be a object"),$={autoBom:!$}),$.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(y.type)?new Blob(["\ufeff",y],{type:y.type}):y}(y,O),$);else if(d(y))e(y,$,O);else{var R=document.createElement("a");R.href=y,R.target="_blank",setTimeout(function(){c(R)})}}:function(y,$,O,R){if((R=R||open("","_blank"))&&(R.document.title=R.document.body.innerText="downloading..."),"string"==typeof y)return e(y,$,O);var P="application/octet-stream"===y.type,w=/constructor/i.test(h.HTMLElement)||h.safari,n=/CriOS\/[\d]+/.test(navigator.userAgent);if((n||P&&w||a)&&typeof FileReader<"u"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=n?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),R?R.location.href=p:location=p,R=null},l.readAsDataURL(y)}else{var C=h.URL||h.webkitURL,u=C.createObjectURL(y);R?R.location=u:location.href=u,R=null,setTimeout(function(){C.revokeObjectURL(u)},4e4)}});h.saveAs=f.saveAs=f,V.exports=f}.apply(s,[]))&&(V.exports=o)},55780:V=>{var i;V.exports=i={},i.simpleFilter=function(t,o){return o.filter(function(g){return i.test(t,g)})},i.test=function(t,o){return null!==i.match(t,o)},i.match=function(t,o,g){var O,e=0,d=[],c=o.length,h=0,a=0,f=(g=g||{}).pre||"",y=g.post||"",$=g.caseSensitive&&o||o.toLowerCase();t=g.caseSensitive&&t||t.toLowerCase();for(var R=0;R<c;R++)O=o[R],$[R]===t[e]?(O=f+O+y,e+=1,a+=1+a):a=0,h+=a,d[d.length]=O;return e===t.length?(h=$===t?1/0:h,{rendered:d.join(""),score:h}):null},i.filter=function(t,o,g){return o&&0!==o.length?"string"!=typeof t?o:(g=g||{},o.reduce(function(e,d,c,h){var a=d;g.extract&&(a=g.extract(d));var f=i.match(t,a,g);return null!=f&&(e[e.length]={string:f.rendered,score:f.score,index:c,original:d}),e},[]).sort(function(e,d){return d.score-e.score||e.index-d.index})):[]}},77494:V=>{"use strict";var s=Object.prototype.toString;V.exports=function(i){var t;return"[object Object]"===s.call(i)&&(null===(t=Object.getPrototypeOf(i))||t===Object.getPrototypeOf({}))}},23366:V=>{"use strict";var s=V.exports=function(o,g,e){"function"==typeof g&&(e=g,g={}),i(g,"function"==typeof(e=g.cb||e)?e:e.pre||function(){},e.post||function(){},o,"",o)};function i(o,g,e,d,c,h,a,f,y,$){if(d&&"object"==typeof d&&!Array.isArray(d)){for(var O in g(d,c,h,a,f,y,$),d){var R=d[O];if(Array.isArray(R)){if(O in s.arrayKeywords)for(var P=0;P<R.length;P++)i(o,g,e,R[P],c+"/"+O+"/"+P,h,c,O,d,P)}else if(O in s.propsKeywords){if(R&&"object"==typeof R)for(var w in R)i(o,g,e,R[w],c+"/"+O+"/"+t(w),h,c,O,d,w)}else(O in s.keywords||o.allKeys&&!(O in s.skipKeywords))&&i(o,g,e,R,c+"/"+O,h,c,O,d)}e(d,c,h,a,f,y,$)}}function t(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}s.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},s.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},s.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},s.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},63082:V=>{var o=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,e=/^0b[01]+$/i,d=/^0o[0-7]+$/i,c=parseInt,h="object"==typeof global&&global&&global.Object===Object&&global,a="object"==typeof self&&self&&self.Object===Object&&self,f=h||a||Function("return this")(),$=Object.prototype.toString,O=Math.max,R=Math.min,P=function(){return f.Date.now()};function n(p){var E=typeof p;return!!p&&("object"==E||"function"==E)}function u(p){if("number"==typeof p)return p;if(function C(p){return"symbol"==typeof p||function l(p){return!!p&&"object"==typeof p}(p)&&"[object Symbol]"==$.call(p)}(p))return NaN;if(n(p)){var E="function"==typeof p.valueOf?p.valueOf():p;p=n(E)?E+"":E}if("string"!=typeof p)return 0===p?p:+p;p=p.replace(o,"");var b=e.test(p);return b||d.test(p)?c(p.slice(2),b?2:8):g.test(p)?NaN:+p}V.exports=function w(p,E,b){var _,A,z,Q,W,q,ue=0,le=!1,fe=!1,se=!0;if("function"!=typeof p)throw new TypeError("Expected a function");function pe(F){var J=_,ee=A;return _=A=void 0,ue=F,Q=p.apply(ee,J)}function me(F){return ue=F,W=setTimeout(G,E),le?pe(F):Q}function Se(F){var J=F-q;return void 0===q||J>=E||J<0||fe&&F-ue>=z}function G(){var F=P();if(Se(F))return M(F);W=setTimeout(G,function ce(F){var ae=E-(F-q);return fe?R(ae,z-(F-ue)):ae}(F))}function M(F){return W=void 0,se&&_?pe(F):(_=A=void 0,Q)}function I(){var F=P(),J=Se(F);if(_=arguments,A=this,q=F,J){if(void 0===W)return me(q);if(fe)return W=setTimeout(G,E),pe(q)}return void 0===W&&(W=setTimeout(G,E)),Q}return E=u(E)||0,n(b)&&(le=!!b.leading,z=(fe="maxWait"in b)?O(u(b.maxWait)||0,E):z,se="trailing"in b?!!b.trailing:se),I.cancel=function x(){void 0!==W&&clearTimeout(W),ue=0,_=q=A=W=void 0},I.flush=function S(){return void 0===W?Q:M(P())},I}},86775:function(V){var t;t=function(){var i=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function t(c){return c.match(i)||[]}function g(c){return{language:(c=t(c))[1]||"",extlang:c[2]||"",script:c[3]||"",region:c[4]||""}}function e(c,h,a){Object.defineProperty(c,h,{value:a,enumerable:!0})}function d(c,h,a){function f(y){return t(y)[c]||""}e(f,"pattern",h),e(g,a,f)}return d(1,/^[a-zA-Z]{2,3}$/,"language"),d(2,/^[a-zA-Z]{3}$/,"extlang"),d(3,/^[a-zA-Z]{4}$/,"script"),d(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),e(g,"split",function o(c){return t(c).filter(function(h,a){return h&&a})}),g},V.exports?V.exports=t():this.subtag=t()},45562:(V,s,i)=>{"use strict";var t=i(48576);V.exports=t,typeof window<"u"&&(window.Suggestions=t)},17554:V=>{"use strict";var s=function(i){return this.component=i,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,i.el.parentNode.insertBefore(this.wrapper,i.el.nextSibling),this};s.prototype.show=function(){this.element.style.display="block"},s.prototype.hide=function(){this.element.style.display="none"},s.prototype.add=function(i){this.items.push(i)},s.prototype.clear=function(){this.items=[],this.active=0},s.prototype.isEmpty=function(){return!this.items.length},s.prototype.isVisible=function(){return"block"===this.element.style.display},s.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var i=0;i<this.items.length;i++)this.drawItem(this.items[i],this.active===i);this.show()}else this.hide()},s.prototype.drawItem=function(i,t){var o=document.createElement("li"),g=document.createElement("a");t&&(o.className+=" active"),g.innerHTML=i.string,o.appendChild(g),this.element.appendChild(o),o.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),o.addEventListener("mouseup",function(){this.handleMouseUp.call(this,i)}.bind(this))},s.prototype.handleMouseUp=function(i){this.selectingListItem=!1,this.component.value(i.original),this.clear(),this.draw()},s.prototype.move=function(i){this.active=i,this.draw()},s.prototype.previous=function(){this.move(0===this.active?this.items.length-1:this.active-1)},s.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},s.prototype.drawError=function(i){var t=document.createElement("li");t.innerHTML=i,this.element.appendChild(t),this.show()},V.exports=s},48576:(V,s,i)=>{"use strict";var t=i(44703),o=i(55780),g=i(17554),e=function(d,c,h){return this.options=t({minLength:2,limit:5,filter:!0,hideOnBlur:!0},h=h||{}),this.el=d,this.data=c||[],this.list=new g(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(a){this.handleKeyUp(a.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(a){this.handleKeyDown(a)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(a){this.handlePaste(a)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};e.prototype.handleKeyUp=function(d){40===d||38===d||27===d||13===d||9===d||this.handleInputChange(this.el.value)},e.prototype.handleKeyDown=function(d){switch(d.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&d.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},e.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},e.prototype.handlePaste=function(d){if(d.clipboardData)this.handleInputChange(d.clipboardData.getData("Text"));else{var c=this;setTimeout(function(){c.handleInputChange(d.target.value)},100)}},e.prototype.handleInputChange=function(d){this.query=this.normalize(d),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(c){for(var h=0;h<c.length&&(this.list.add(c[h]),h!==this.options.limit-1);h++);this.list.draw()}.bind(this))},e.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},e.prototype.update=function(d){this.data=d,this.handleKeyUp()},e.prototype.clear=function(){this.data=[],this.list.clear()},e.prototype.normalize=function(d){return d.toLowerCase()},e.prototype.match=function(d,c){return d.indexOf(c)>-1},e.prototype.value=function(d){if(this.selected=d,this.el.value=this.getItemValue(d),document.createEvent){var c=document.createEvent("HTMLEvents");c.initEvent("change",!0,!1),this.el.dispatchEvent(c)}else this.el.fireEvent("onchange")},e.prototype.getCandidates=function(d){var c={pre:"<strong>",post:"</strong>",extract:function(a){return this.getItemValue(a)}.bind(this)};d(this.options.filter?o.filter(this.query,this.data,c).map(function(a){return{original:a.original,string:this.render(a.original,a.string)}}.bind(this)):this.data.map(function(a){return{original:a,string:this.render(a)}}.bind(this)))},e.prototype.getItemValue=function(d){return d},e.prototype.render=function(d,c){if(c)return c;for(var h=this.getItemValue(d.original?d.original:d),a=this.normalize(h),f=a.lastIndexOf(this.query);f>-1;){var y=f+this.query.length;h=h.slice(0,f)+"<strong>"+h.slice(f,y)+"</strong>"+h.slice(y),f=a.slice(0,f).lastIndexOf(this.query)}return h},e.prototype.renderError=function(d){this.list.drawError(d)},V.exports=e},96482:function(V,s){!function(i){"use strict";function t(){for(var k=arguments.length,L=Array(k),j=0;j<k;j++)L[j]=arguments[j];if(L.length>1){L[0]=L[0].slice(0,-1);for(var H=L.length-1,Z=1;Z<H;++Z)L[Z]=L[Z].slice(1,-1);return L[H]=L[H].slice(1),L.join("")}return L[0]}function o(k){return"(?:"+k+")"}function g(k){return void 0===k?"undefined":null===k?"null":Object.prototype.toString.call(k).split(" ").pop().split("]").shift().toLowerCase()}function e(k){return k.toUpperCase()}function h(k){var L="[A-Za-z]",H="[0-9]",ne=t(H,"[A-Fa-f]"),be=o(o("%[EFef]"+ne+"%"+ne+ne+"%"+ne+ne)+"|"+o("%[89A-Fa-f]"+ne+"%"+ne+ne)+"|"+o("%"+ne+ne)),ye="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Re=t("[\\:\\/\\?\\#\\[\\]\\@]",ye),Oe=k?"[\\uE000-\\uF8FF]":"[]",_e=t(L,H,"[\\-\\.\\_\\~]",k?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),Te=o(L+t(L,H,"[\\+\\-\\.]")+"*"),$e=o(o(be+"|"+t(_e,ye,"[\\:]"))+"*"),je=(o(o("25[0-5]")+"|"+o("2[0-4]"+H)+"|"+o("1"+H+H)+"|"+o("[1-9]"+H)+"|"+H),o(o("25[0-5]")+"|"+o("2[0-4]"+H)+"|"+o("1"+H+H)+"|"+o("0?[1-9]"+H)+"|0?0?"+H)),Be=o(je+"\\."+je+"\\."+je+"\\."+je),Pe=o(ne+"{1,4}"),Me=o(o(Pe+"\\:"+Pe)+"|"+Be),He=o(o(Pe+"\\:")+"{6}"+Me),Ze=o("\\:\\:"+o(Pe+"\\:")+"{5}"+Me),qe=o(o(Pe)+"?\\:\\:"+o(Pe+"\\:")+"{4}"+Me),Ye=o(o(o(Pe+"\\:")+"{0,1}"+Pe)+"?\\:\\:"+o(Pe+"\\:")+"{3}"+Me),et=o(o(o(Pe+"\\:")+"{0,2}"+Pe)+"?\\:\\:"+o(Pe+"\\:")+"{2}"+Me),Et=o(o(o(Pe+"\\:")+"{0,3}"+Pe)+"?\\:\\:"+Pe+"\\:"+Me),wt=o(o(o(Pe+"\\:")+"{0,4}"+Pe)+"?\\:\\:"+Me),rt=o(o(o(Pe+"\\:")+"{0,5}"+Pe)+"?\\:\\:"+Pe),ot=o(o(o(Pe+"\\:")+"{0,6}"+Pe)+"?\\:\\:"),Ke=o([He,Ze,qe,Ye,et,Et,wt,rt,ot].join("|")),at=o(o(_e+"|"+be)+"+"),Ge=(o(Ke+"\\%25"+at),o(Ke+o("\\%25|\\%(?!"+ne+"{2})")+at)),Rt=o("[vV]"+ne+"+\\."+t(_e,ye,"[\\:]")+"+"),Zt=o("\\["+o(Ge+"|"+Ke+"|"+Rt)+"\\]"),St=o(o(be+"|"+t(_e,ye))+"*"),pt=o(Zt+"|"+Be+"(?!"+St+")|"+St),lt=o(H+"*"),Ft=o(o($e+"@")+"?"+pt+o("\\:"+lt)+"?"),mt=o(be+"|"+t(_e,ye,"[\\:\\@]")),Kt=o(mt+"*"),jt=o(mt+"+"),Jt=o(o(be+"|"+t(_e,ye,"[\\@]"))+"+"),We=o(o("\\/"+Kt)+"*"),ct=o("\\/"+o(jt+We)+"?"),Ot=o(Jt+We),$t=o(jt+We),dt="(?!"+mt+")",ut=(o(We+"|"+ct+"|"+Ot+"|"+$t+"|"+dt),o(o(mt+"|"+t("[\\/\\?]",Oe))+"*")),gt=o(o(mt+"|[\\/\\?]")+"*"),zt=o(o("\\/\\/"+Ft+We)+"|"+ct+"|"+$t+"|"+dt),Qt=o(Te+"\\:"+zt+o("\\?"+ut)+"?"+o("\\#"+gt)+"?"),Yt=o(o("\\/\\/"+Ft+We)+"|"+ct+"|"+Ot+"|"+dt),Wt=o(Yt+o("\\?"+ut)+"?"+o("\\#"+gt)+"?");return o(Qt+"|"+Wt),o(Te+"\\:"+zt+o("\\?"+ut)+"?"),o(o("\\/\\/("+o("("+$e+")@")+"?("+pt+")"+o("\\:("+lt+")")+"?)")+"?("+We+"|"+ct+"|"+$t+"|"+dt+")"),o("\\?("+ut+")"),o("\\#("+gt+")"),o(o("\\/\\/("+o("("+$e+")@")+"?("+pt+")"+o("\\:("+lt+")")+"?)")+"?("+We+"|"+ct+"|"+Ot+"|"+dt+")"),o("\\?("+ut+")"),o("\\#("+gt+")"),o(o("\\/\\/("+o("("+$e+")@")+"?("+pt+")"+o("\\:("+lt+")")+"?)")+"?("+We+"|"+ct+"|"+$t+"|"+dt+")"),o("\\?("+ut+")"),o("\\#("+gt+")"),o("("+$e+")@"),o("\\:("+lt+")"),{NOT_SCHEME:new RegExp(t("[^]",L,H,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",_e,ye),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",_e,ye),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",_e,ye),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",_e,ye),"g"),NOT_QUERY:new RegExp(t("[^\\%]",_e,ye,"[\\:\\@\\/\\?]",Oe),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",_e,ye,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",_e,ye),"g"),UNRESERVED:new RegExp(_e,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",_e,Re),"g"),PCT_ENCODED:new RegExp(be,"g"),IPV4ADDRESS:new RegExp("^("+Be+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ke+")"+o(o("\\%25|\\%(?!"+ne+"{2})")+"("+at+")")+"?\\]?$")}}var a=h(!1),f=h(!0),y=function(L,j){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return function k(L,j){var H=[],Z=!0,ne=!1,he=void 0;try{for(var be,ve=L[Symbol.iterator]();!(Z=(be=ve.next()).done)&&(H.push(be.value),!j||H.length!==j);Z=!0);}catch(Ie){ne=!0,he=Ie}finally{try{!Z&&ve.return&&ve.return()}finally{if(ne)throw he}}return H}(L,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")},O=2147483647,R=36,E=/^xn--/,b=/[^\0-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Q=Math.floor,W=String.fromCharCode;function q(k){throw new RangeError(A[k])}function le(k,L){var j=k.split("@"),H="";return j.length>1&&(H=j[0]+"@",k=j[1]),H+function ue(k,L){for(var j=[],H=k.length;H--;)j[H]=L(k[H]);return j}((k=k.replace(_,".")).split("."),L).join(".")}function fe(k){for(var L=[],j=0,H=k.length;j<H;){var Z=k.charCodeAt(j++);if(Z>=55296&&Z<=56319&&j<H){var ne=k.charCodeAt(j++);56320==(64512&ne)?L.push(((1023&Z)<<10)+(1023&ne)+65536):(L.push(Z),j--)}else L.push(Z)}return L}var pe=function(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:R},me=function(L,j){return L+22+75*(L<26)-((0!=j)<<5)},ce=function(L,j,H){var Z=0;for(L=H?Q(L/700):L>>1,L+=Q(L/j);L>455;Z+=R)L=Q(L/35);return Q(Z+36*L/(L+38))},Se=function(L){var j=[],H=L.length,Z=0,ne=128,he=72,ve=L.lastIndexOf("-");ve<0&&(ve=0);for(var be=0;be<ve;++be)L.charCodeAt(be)>=128&&q("not-basic"),j.push(L.charCodeAt(be));for(var Ie=ve>0?ve+1:0;Ie<H;){for(var ye=Z,Re=1,Le=R;;Le+=R){Ie>=H&&q("invalid-input");var Oe=pe(L.charCodeAt(Ie++));(Oe>=R||Oe>Q((O-Z)/Re))&&q("overflow"),Z+=Oe*Re;var _e=Le<=he?1:Le>=he+26?26:Le-he;if(Oe<_e)break;var Te=R-_e;Re>Q(O/Te)&&q("overflow"),Re*=Te}var $e=j.length+1;he=ce(Z-ye,$e,0==ye),Q(Z/$e)>O-ne&&q("overflow"),ne+=Q(Z/$e),Z%=$e,j.splice(Z++,0,ne)}return String.fromCodePoint.apply(String,j)},G=function(L){var j=[],H=(L=fe(L)).length,Z=128,ne=0,he=72,ve=!0,be=!1,Ie=void 0;try{for(var Re,ye=L[Symbol.iterator]();!(ve=(Re=ye.next()).done);ve=!0){var Le=Re.value;Le<128&&j.push(W(Le))}}catch(Ge){be=!0,Ie=Ge}finally{try{!ve&&ye.return&&ye.return()}finally{if(be)throw Ie}}var Oe=j.length,_e=Oe;for(Oe&&j.push("-");_e<H;){var Te=O,$e=!0,tt=!1,je=void 0;try{for(var Pe,Be=L[Symbol.iterator]();!($e=(Pe=Be.next()).done);$e=!0){var Me=Pe.value;Me>=Z&&Me<Te&&(Te=Me)}}catch(Ge){tt=!0,je=Ge}finally{try{!$e&&Be.return&&Be.return()}finally{if(tt)throw je}}var He=_e+1;Te-Z>Q((O-ne)/He)&&q("overflow"),ne+=(Te-Z)*He,Z=Te;var Ze=!0,qe=!1,Ye=void 0;try{for(var Et,et=L[Symbol.iterator]();!(Ze=(Et=et.next()).done);Ze=!0){var wt=Et.value;if(wt<Z&&++ne>O&&q("overflow"),wt==Z){for(var rt=ne,ot=R;;ot+=R){var Ke=ot<=he?1:ot>=he+26?26:ot-he;if(rt<Ke)break;var at=rt-Ke,Dt=R-Ke;j.push(W(me(Ke+at%Dt,0))),rt=Q(at/Dt)}j.push(W(me(rt,0))),he=ce(ne,He,_e==Oe),ne=0,++_e}}}catch(Ge){qe=!0,Ye=Ge}finally{try{!Ze&&et.return&&et.return()}finally{if(qe)throw Ye}}++ne,++Z}return j.join("")},S_toASCII=function(L){return le(L,function(j){return b.test(j)?"xn--"+G(j):j})},S_toUnicode=function(L){return le(L,function(j){return E.test(j)?Se(j.slice(4).toLowerCase()):j})},I={};function F(k){var L=k.charCodeAt(0);return L<16?"%0"+L.toString(16).toUpperCase():L<128?"%"+L.toString(16).toUpperCase():L<2048?"%"+(L>>6|192).toString(16).toUpperCase()+"%"+(63&L|128).toString(16).toUpperCase():"%"+(L>>12|224).toString(16).toUpperCase()+"%"+(L>>6&63|128).toString(16).toUpperCase()+"%"+(63&L|128).toString(16).toUpperCase()}function J(k){for(var L="",j=0,H=k.length;j<H;){var Z=parseInt(k.substr(j+1,2),16);if(Z<128)L+=String.fromCharCode(Z),j+=3;else if(Z>=194&&Z<224){if(H-j>=6){var ne=parseInt(k.substr(j+4,2),16);L+=String.fromCharCode((31&Z)<<6|63&ne)}else L+=k.substr(j,6);j+=6}else if(Z>=224){if(H-j>=9){var he=parseInt(k.substr(j+4,2),16),ve=parseInt(k.substr(j+7,2),16);L+=String.fromCharCode((15&Z)<<12|(63&he)<<6|63&ve)}else L+=k.substr(j,9);j+=9}else L+=k.substr(j,3),j+=3}return L}function ee(k,L){function j(H){var Z=J(H);return Z.match(L.UNRESERVED)?Z:H}return k.scheme&&(k.scheme=String(k.scheme).replace(L.PCT_ENCODED,j).toLowerCase().replace(L.NOT_SCHEME,"")),void 0!==k.userinfo&&(k.userinfo=String(k.userinfo).replace(L.PCT_ENCODED,j).replace(L.NOT_USERINFO,F).replace(L.PCT_ENCODED,e)),void 0!==k.host&&(k.host=String(k.host).replace(L.PCT_ENCODED,j).toLowerCase().replace(L.NOT_HOST,F).replace(L.PCT_ENCODED,e)),void 0!==k.path&&(k.path=String(k.path).replace(L.PCT_ENCODED,j).replace(k.scheme?L.NOT_PATH:L.NOT_PATH_NOSCHEME,F).replace(L.PCT_ENCODED,e)),void 0!==k.query&&(k.query=String(k.query).replace(L.PCT_ENCODED,j).replace(L.NOT_QUERY,F).replace(L.PCT_ENCODED,e)),void 0!==k.fragment&&(k.fragment=String(k.fragment).replace(L.PCT_ENCODED,j).replace(L.NOT_FRAGMENT,F).replace(L.PCT_ENCODED,e)),k}function ae(k){return k.replace(/^0*(.*)/,"$1")||"0"}function Ee(k,L){var j=k.match(L.IPV4ADDRESS)||[],Z=y(j,2)[1];return Z?Z.split(".").map(ae).join("."):k}function U(k,L){var j=k.match(L.IPV6ADDRESS)||[],H=y(j,3),Z=H[1],ne=H[2];if(Z){for(var he=Z.toLowerCase().split("::").reverse(),ve=y(he,2),be=ve[0],Ie=ve[1],ye=Ie?Ie.split(":").map(ae):[],Re=be.split(":").map(ae),Le=L.IPV4ADDRESS.test(Re[Re.length-1]),Oe=Le?7:8,_e=Re.length-Oe,Te=Array(Oe),$e=0;$e<Oe;++$e)Te[$e]=ye[$e]||Re[_e+$e]||"";Le&&(Te[Oe-1]=Ee(Te[Oe-1],L));var je=Te.reduce(function(He,Ze,qe){if(!Ze||"0"===Ze){var Ye=He[He.length-1];Ye&&Ye.index+Ye.length===qe?Ye.length++:He.push({index:qe,length:1})}return He},[]).sort(function(He,Ze){return Ze.length-He.length})[0],Be=void 0;if(je&&je.length>1){var Pe=Te.slice(0,je.index),Me=Te.slice(je.index+je.length);Be=Pe.join(":")+"::"+Me.join(":")}else Be=Te.join(":");return ne&&(Be+="%"+ne),Be}return k}var B=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,X=void 0==="".match(/(){0}/)[1];function te(k){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j={},H=!1!==L.iri?f:a;"suffix"===L.reference&&(k=(L.scheme?L.scheme+":":"")+"//"+k);var Z=k.match(B);if(Z){X?(j.scheme=Z[1],j.userinfo=Z[3],j.host=Z[4],j.port=parseInt(Z[5],10),j.path=Z[6]||"",j.query=Z[7],j.fragment=Z[8],isNaN(j.port)&&(j.port=Z[5])):(j.scheme=Z[1]||void 0,j.userinfo=-1!==k.indexOf("@")?Z[3]:void 0,j.host=-1!==k.indexOf("//")?Z[4]:void 0,j.port=parseInt(Z[5],10),j.path=Z[6]||"",j.query=-1!==k.indexOf("?")?Z[7]:void 0,j.fragment=-1!==k.indexOf("#")?Z[8]:void 0,isNaN(j.port)&&(j.port=k.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Z[4]:void 0)),j.host&&(j.host=U(Ee(j.host,H),H)),j.reference=void 0!==j.scheme||void 0!==j.userinfo||void 0!==j.host||void 0!==j.port||j.path||void 0!==j.query?void 0===j.scheme?"relative":void 0===j.fragment?"absolute":"uri":"same-document",L.reference&&"suffix"!==L.reference&&L.reference!==j.reference&&(j.error=j.error||"URI is not a "+L.reference+" reference.");var ne=I[(L.scheme||j.scheme||"").toLowerCase()];if(L.unicodeSupport||ne&&ne.unicodeSupport)ee(j,H);else{if(j.host&&(L.domainHost||ne&&ne.domainHost))try{j.host=S_toASCII(j.host.replace(H.PCT_ENCODED,J).toLowerCase())}catch(he){j.error=j.error||"Host's domain name can not be converted to ASCII via punycode: "+he}ee(j,a)}ne&&ne.parse&&ne.parse(j,L)}else j.error=j.error||"URI can not be parsed.";return j}function oe(k,L){var j=!1!==L.iri?f:a,H=[];return void 0!==k.userinfo&&(H.push(k.userinfo),H.push("@")),void 0!==k.host&&H.push(U(Ee(String(k.host),j),j).replace(j.IPV6ADDRESS,function(Z,ne,he){return"["+ne+(he?"%25"+he:"")+"]"})),("number"==typeof k.port||"string"==typeof k.port)&&(H.push(":"),H.push(String(k.port))),H.length?H.join(""):void 0}var re=/^\.\.?\//,ge=/^\/\.(\/|$)/,Ae=/^\/\.\.(\/|$)/,xe=/^\/?(?:.|\n)*?(?=\/|$)/;function De(k){for(var L=[];k.length;)if(k.match(re))k=k.replace(re,"");else if(k.match(ge))k=k.replace(ge,"/");else if(k.match(Ae))k=k.replace(Ae,"/"),L.pop();else if("."===k||".."===k)k="";else{var j=k.match(xe);if(!j)throw new Error("Unexpected dot segment condition");var H=j[0];k=k.slice(H.length),L.push(H)}return L.join("")}function we(k){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=L.iri?f:a,H=[],Z=I[(L.scheme||k.scheme||"").toLowerCase()];if(Z&&Z.serialize&&Z.serialize(k,L),k.host&&!j.IPV6ADDRESS.test(k.host)&&(L.domainHost||Z&&Z.domainHost))try{k.host=L.iri?S_toUnicode(k.host):S_toASCII(k.host.replace(j.PCT_ENCODED,J).toLowerCase())}catch(ve){k.error=k.error||"Host's domain name can not be converted to "+(L.iri?"Unicode":"ASCII")+" via punycode: "+ve}ee(k,j),"suffix"!==L.reference&&k.scheme&&(H.push(k.scheme),H.push(":"));var ne=oe(k,L);if(void 0!==ne&&("suffix"!==L.reference&&H.push("//"),H.push(ne),k.path&&"/"!==k.path.charAt(0)&&H.push("/")),void 0!==k.path){var he=k.path;!L.absolutePath&&(!Z||!Z.absolutePath)&&(he=De(he)),void 0===ne&&(he=he.replace(/^\/\//,"/%2F")),H.push(he)}return void 0!==k.query&&(H.push("?"),H.push(k.query)),void 0!==k.fragment&&(H.push("#"),H.push(k.fragment)),H.join("")}function ze(k,L){var j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Z={};return arguments[3]||(k=te(we(k,j),j),L=te(we(L,j),j)),!(j=j||{}).tolerant&&L.scheme?(Z.scheme=L.scheme,Z.userinfo=L.userinfo,Z.host=L.host,Z.port=L.port,Z.path=De(L.path||""),Z.query=L.query):(void 0!==L.userinfo||void 0!==L.host||void 0!==L.port?(Z.userinfo=L.userinfo,Z.host=L.host,Z.port=L.port,Z.path=De(L.path||""),Z.query=L.query):(L.path?("/"===L.path.charAt(0)?Z.path=De(L.path):(Z.path=void 0===k.userinfo&&void 0===k.host&&void 0===k.port||k.path?k.path?k.path.slice(0,k.path.lastIndexOf("/")+1)+L.path:L.path:"/"+L.path,Z.path=De(Z.path)),Z.query=L.query):(Z.path=k.path,Z.query=void 0!==L.query?L.query:k.query),Z.userinfo=k.userinfo,Z.host=k.host,Z.port=k.port),Z.scheme=k.scheme),Z.fragment=L.fragment,Z}function Fe(k,L){return k&&k.toString().replace(L&&L.iri?f.PCT_ENCODED:a.PCT_ENCODED,J)}var Ue={scheme:"http",domainHost:!0,parse:function(L,j){return L.host||(L.error=L.error||"HTTP URIs must have a host."),L},serialize:function(L,j){var H="https"===String(L.scheme).toLowerCase();return(L.port===(H?443:80)||""===L.port)&&(L.port=void 0),L.path||(L.path="/"),L}},ft={scheme:"https",domainHost:Ue.domainHost,parse:Ue.parse,serialize:Ue.serialize};function it(k){return"boolean"==typeof k.secure?k.secure:"wss"===String(k.scheme).toLowerCase()}var Xe={scheme:"ws",domainHost:!0,parse:function(L,j){var H=L;return H.secure=it(H),H.resourceName=(H.path||"/")+(H.query?"?"+H.query:""),H.path=void 0,H.query=void 0,H},serialize:function(L,j){if((L.port===(it(L)?443:80)||""===L.port)&&(L.port=void 0),"boolean"==typeof L.secure&&(L.scheme=L.secure?"wss":"ws",L.secure=void 0),L.resourceName){var H=L.resourceName.split("?"),Z=y(H,2),ne=Z[0],he=Z[1];L.path=ne&&"/"!==ne?ne:void 0,L.query=he,L.resourceName=void 0}return L.fragment=void 0,L}},Tt={scheme:"wss",domainHost:Xe.domainHost,parse:Xe.parse,serialize:Xe.serialize},It={},At="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ve="[0-9A-Fa-f]",Ut=o(o("%[EFef]"+Ve+"%"+Ve+Ve+"%"+Ve+Ve)+"|"+o("%[89A-Fa-f]"+Ve+"%"+Ve+Ve)+"|"+o("%"+Ve+Ve)),Ct=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),er=new RegExp(At,"g"),st=new RegExp(Ut,"g"),tr=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Ct),"g"),Gt=new RegExp(t("[^]",At,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Bt=Gt;function xt(k){var L=J(k);return L.match(er)?L:k}var bt={scheme:"mailto",parse:function(L,j){var H=L,Z=H.to=H.path?H.path.split(","):[];if(H.path=void 0,H.query){for(var ne=!1,he={},ve=H.query.split("&"),be=0,Ie=ve.length;be<Ie;++be){var ye=ve[be].split("=");switch(ye[0]){case"to":for(var Re=ye[1].split(","),Le=0,Oe=Re.length;Le<Oe;++Le)Z.push(Re[Le]);break;case"subject":H.subject=Fe(ye[1],j);break;case"body":H.body=Fe(ye[1],j);break;default:ne=!0,he[Fe(ye[0],j)]=Fe(ye[1],j)}}ne&&(H.headers=he)}H.query=void 0;for(var _e=0,Te=Z.length;_e<Te;++_e){var $e=Z[_e].split("@");if($e[0]=Fe($e[0]),j.unicodeSupport)$e[1]=Fe($e[1],j).toLowerCase();else try{$e[1]=S_toASCII(Fe($e[1],j).toLowerCase())}catch(tt){H.error=H.error||"Email address's domain name can not be converted to ASCII via punycode: "+tt}Z[_e]=$e.join("@")}return H},serialize:function(L,j){var H=L,Z=function d(k){return null!=k?k instanceof Array?k:"number"!=typeof k.length||k.split||k.setInterval||k.call?[k]:Array.prototype.slice.call(k):[]}(L.to);if(Z){for(var ne=0,he=Z.length;ne<he;++ne){var ve=String(Z[ne]),be=ve.lastIndexOf("@"),Ie=ve.slice(0,be).replace(st,xt).replace(st,e).replace(tr,F),ye=ve.slice(be+1);try{ye=j.iri?S_toUnicode(ye):S_toASCII(Fe(ye,j).toLowerCase())}catch(_e){H.error=H.error||"Email address's domain name can not be converted to "+(j.iri?"Unicode":"ASCII")+" via punycode: "+_e}Z[ne]=Ie+"@"+ye}H.path=Z.join(",")}var Re=L.headers=L.headers||{};L.subject&&(Re.subject=L.subject),L.body&&(Re.body=L.body);var Le=[];for(var Oe in Re)Re[Oe]!==It[Oe]&&Le.push(Oe.replace(st,xt).replace(st,e).replace(Gt,F)+"="+Re[Oe].replace(st,xt).replace(st,e).replace(Bt,F));return Le.length&&(H.query=Le.join("&")),H}},Ht=/^([^\:]+)\:(.*)/,Mt={scheme:"urn",parse:function(L,j){var H=L.path&&L.path.match(Ht),Z=L;if(H){var ne=j.scheme||Z.scheme||"urn",he=H[1].toLowerCase(),ve=H[2],Ie=I[ne+":"+(j.nid||he)];Z.nid=he,Z.nss=ve,Z.path=void 0,Ie&&(Z=Ie.parse(Z,j))}else Z.error=Z.error||"URN can not be parsed.";return Z},serialize:function(L,j){var Z=L.nid,he=I[(j.scheme||L.scheme||"urn")+":"+(j.nid||Z)];he&&(L=he.serialize(L,j));var ve=L;return ve.path=(Z||j.nid)+":"+L.nss,ve}},rr=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,kt={scheme:"urn:uuid",parse:function(L,j){var H=L;return H.uuid=H.nss,H.nss=void 0,!j.tolerant&&(!H.uuid||!H.uuid.match(rr))&&(H.error=H.error||"UUID is not valid."),H},serialize:function(L,j){var H=L;return H.nss=(L.uuid||"").toLowerCase(),H}};I[Ue.scheme]=Ue,I[ft.scheme]=ft,I[Xe.scheme]=Xe,I[Tt.scheme]=Tt,I[bt.scheme]=bt,I[Mt.scheme]=Mt,I[kt.scheme]=kt,i.SCHEMES=I,i.pctEncChar=F,i.pctDecChars=J,i.parse=te,i.removeDotSegments=De,i.serialize=we,i.resolveComponents=ze,i.resolve=function ke(k,L,j){var H=function c(k,L){var j=k;if(L)for(var H in L)j[H]=L[H];return j}({scheme:"null"},j);return we(ze(te(k,H),te(L,H),H,!0),H)},i.normalize=function nt(k,L){return"string"==typeof k?k=we(te(k,L),L):"object"===g(k)&&(k=te(we(k,L),L)),k},i.equal=function ht(k,L,j){return"string"==typeof k?k=we(te(k,j),j):"object"===g(k)&&(k=we(k,j)),"string"==typeof L?L=we(te(L,j),j):"object"===g(L)&&(L=we(L,j)),k===L},i.escapeComponent=function _t(k,L){return k&&k.toString().replace(L&&L.iri?f.ESCAPE:a.ESCAPE,F)},i.unescapeComponent=Fe,Object.defineProperty(i,"__esModule",{value:!0})}(s)},44703:V=>{V.exports=function i(){for(var t={},o=0;o<arguments.length;o++){var g=arguments[o];for(var e in g)s.call(g,e)&&(t[e]=g[e])}return t};var s=Object.prototype.hasOwnProperty},17156:V=>{function s(t,o,g,e,d,c,h){try{var a=t[c](h),f=a.value}catch(y){return void g(y)}a.done?o(f):Promise.resolve(f).then(e,d)}V.exports=function i(t){return function(){var o=this,g=arguments;return new Promise(function(e,d){var c=t.apply(o,g);function h(f){s(c,e,d,h,a,"next",f)}function a(f){s(c,e,d,h,a,"throw",f)}h(void 0)})}},V.exports.__esModule=!0,V.exports.default=V.exports},19652:(V,s,i)=>{"use strict";i.d(s,{x0:()=>e});let e=(d=21)=>crypto.getRandomValues(new Uint8Array(d)).reduce((c,h)=>c+((h&=63)<36?h.toString(36):h<62?(h-26).toString(36).toUpperCase():h>62?"-":"_"),"")},64775:V=>{"use strict";V.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},98:V=>{"use strict";V.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}}]);